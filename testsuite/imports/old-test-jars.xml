<!-- Ant project fragment for the unit tests deployment jars
$Id: old-test-jars.xml 40186 2006-01-16 06:23:34Z asaldhana $
-->
<project name="test-jars">
  <!--
     | Build all jar files.
   -->
  <target name="jars" description="Builds all jar files."
    depends="compile,
      _jars-aop,
      _jars-bank,
      _jars-bank-new,
      _jars-bankiiop,
      _jars-bench,
      _jars-bmp,
      _jars-cache,
      _jars-classloader,
      _jars-client,
      _jars-cluster,
      _jars-cmp2,
      _jars-cts,
      _jars-dbtest,
      _jars-deadlock,
      _jars-deployers,
      _jars-deployment,
      _jars-ejbconf,
      _jars-entity,
      _jars-entityexc,
      _jars-excepiiop,
      _jars-exception,
      _jars-foedeployer,
      _jars-hello,
      _jars-helloiiop,
      _jars-hellojrmpiiop,
      _jars-hibernate,
      _jars-httpsessionreplication,
      _jars-idgen,
      _jars-iiop,
      _jars-invokers,
      _jars-isolation,
      _jars-jbossmq,
      _jars-jbossmx,
      _jars-jbossnet,
      _jars-jca,
      _jars-jcaprops,
      _jars-jmsra,
      _jars-jmx,
      _jars-jrmp,
      _jars-jsr77,
      _jars-jsf,
      _jars-kernel,
      _jars-load,
      _jars-lock,
      _jars-marathon,
      _jars-mdb,
      _jars-media,
      _jars-messagedriven,
      _jars-naming,
      _jars-perf,
      _jars-pooled,
      _jars-proxycompiler,
      _jars-readahead,
      _jars-retry,
      _jars-security,
      _jars-session,      
      _jars-testbean,
      _jars-testbeancluster,
      _jars-threading,
      _jars-timer,
      _jars-tm,
      _jars-txiiop,
      _jars-txpropiiop,
      _jars-txtimer,
      _jars-util,
      _jars-web,
      _jars-webservice,
      _jars-xa,
      _jars-xslt,
      _jars-byvalue
      ">
  </target>

  <!--
     | These targets are meant to be invoked from the 'jars' target.  They
     | do not depend on 'compile' to avoid recursing over those tasks over
     | and over.
     |
     | If you really want to run these outside of 'jars', then besure that
     | the 'compile' targets has be run or you are bound to run into lots of
     | errors.
   -->

  <patternset id="common.test.client.classes">
    <include name="org/jboss/test/util/**"/>
  </patternset>

  <patternset id="jboss.test.util.ejb.set">
    <include name="org/jboss/test/util/ejb/**"/>
  </patternset>

  <patternset id="ejbrunner.set">
    <include name="junit/framework/*"/>
    <include name="junit/runner/*"/>
  </patternset>

  <!-- aop test -->
  <target name="_jars-aop">
    <mkdir dir="${build.lib}"/>
    <taskdef name="aopc" classname="org.jboss.aop.ant.AopC" classpathref="jboss.aop.classpath"/>
    <path id="aop.task.classpath">
      <path refid="javassist.classpath"/>
      <path refid="qdox.classpath"/>
      <path refid="trove.classpath"/>
      <path refid="jboss.aop.classpath"/>
      <path refid="jboss.common.classpath"/>
    </path>
    <taskdef name="annotationc" classname="org.jboss.aop.ant.AnnotationC" classpathref="jboss.aop.classpath"/>
    <annotationc compilerclasspathref="aop.task.classpath" bytecode="true">
      <classpath refid="thirdparty.classpath"/>
      <classpath path="${build.classes}"/>
      <src path="${source.java}"/>
      <include name="org/jboss/test/aop/bean/AnnotatedSecuredPOJO.java"/>
      <include name="org/jboss/test/aop/bean/AnnotatedTxPOJO.java"/>
      <include name="org/jboss/test/aop/bean/AnnotatedTxLockedPOJO.java"/>
    </annotationc>
    <!-- build aopest.jar -->
    <jar destfile="${build.lib}/aoptest.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/aop/test/**"/>
        <include name="org/somepackage/**"/>
      </fileset>
      <fileset dir="${build.resources}/aop">
        <include name="*.*"/>
      </fileset>
    </jar>

    <!-- build simpleejb.jar -->
    <jar destfile="${build.lib}/simpleejb.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/aop/simpleejb/"/>
      </fileset>
      <metainf dir="${build.resources}/aop/simpleejb/META-INF/"/>
    </jar>


    <jar destfile="${build.lib}/aop-call-logging.aop">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/aop/test/CallLoggingUnitTestCase.class"/>
      </fileset>
      <metainf dir="${build.resources}/aop/calllogging/META-INF/"/>
    </jar>

    <jar destfile="${build.lib}/aop-invocationlog.aop">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/aop/test/InvocationLogUnitTestCase.class"/>
        <include name="org/jboss/test/aop/bean/POJO.class"/>
        <include name="org/jboss/test/aop/bean/SomeException.class"/>
      </fileset>
      <fileset dir="${build.resources}/aop/invocationlog">
        <include name="META-INF/jboss-aop.xml"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/aop-invocationlog.sar">
      <fileset dir="${build.lib}">
        <include name="aop-invocationlog.aop"/>
      </fileset>
      <fileset dir="${build.resources}/aop/invocationlog">
        <include name="META-INF/jboss-service.xml"/>
      </fileset>
    </jar>

    <jar destfile="${build.lib}/aoptest.aop"
     >
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/aop/bean/Implements*.class"/>
        <include name="org/jboss/test/aop/bean/CFlowedPOJO.class"/>
        <include name="org/jboss/test/aop/bean/InstanceOfInterceptor.class"/>
        <include name="org/jboss/test/aop/bean/InterceptorCounter.class"/>
        <include name="org/jboss/test/aop/bean/SomeInterface.class"/>
        <include name="org/jboss/test/aop/bean/EmptyInterface.class"/>
        <include name="org/jboss/test/aop/bean/Aspect.class"/>
        <include name="org/jboss/test/aop/bean/Person.class"/>
        <include name="org/jboss/test/aop/bean/Address.class"/>
        <include name="org/jboss/test/aop/bean/NoInterceptorsPOJO*.class"/>
        <include name="org/jboss/test/aop/bean/NonadvisedPOJO.class"/>
        <include name="org/jboss/test/aop/bean/SecuredPOJO.class"/>
        <include name="org/jboss/test/aop/bean/AnnotatedSecuredPOJO.class"/>
        <include name="org/jboss/test/aop/bean/SomeException.class"/>
        <include name="org/jboss/test/aop/bean/POJO*.class"/>
        <include name="org/jboss/test/aop/bean/Call*.class"/>
        <include name="org/jboss/test/aop/bean/SomeIntroduction.class"/>
        <include name="org/jboss/test/aop/bean/SubclassIntroduction.class"/>
        <include name="org/jboss/test/aop/bean/AnotherIntroduction.class"/>
        <include name="org/jboss/test/aop/bean/Introduction.class"/>
        <include name="org/jboss/test/aop/bean/Introduction2.class"/>
        <include name="org/jboss/test/aop/bean/InterfaceMixin.class"/>
        <include name="org/jboss/test/aop/bean/AnnotatedTxPOJO.class"/>
        <include name="org/jboss/test/aop/bean/TxPOJO.class"/>
        <include name="org/jboss/test/aop/bean/TxLockedPOJO.class"/>
        <include name="org/jboss/test/aop/bean/AnnotatedTxLockedPOJO.class"/>
        <include name="org/jboss/test/aop/bean/VersionedPOJO.class"/>
        <include name="org/jboss/test/aop/bean/SimpleInterceptor.class"/>
        <include name="org/jboss/test/aop/bean/SimpleInterceptorFactory.class"/>
        <include name="org/jboss/test/aop/bean/SimpleBeanInterceptor.class"/>
        <include name="org/jboss/test/aop/bean/SimpleBeanCallerInterceptor.class"/>
        <include name="org/jboss/test/aop/bean/SimpleBeanInterceptorFactory.class"/>
        <include name="org/jboss/test/aop/bean/Temperature*.class"/>
        <include name="org/jboss/test/aop/bean/Observable*.class"/>
        <include name="org/jboss/test/aop/bean/LogUtil*.class"/>
      </fileset>
      <fileset dir="${build.resources}/aop">
        <include name="META-INF/jboss-aop.xml"/>
      </fileset>
    </jar>

    <jar destfile="${build.lib}/aoptest.sar">
      <fileset dir="${build.lib}">
        <include name="aoptest.aop"/>
      </fileset>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/aop/bean/AOPTester.class"/>
        <include name="org/jboss/test/aop/bean/AOPTesterMBean.class"/>
        <include name="org/jboss/test/aop/bean/RemotingTester.class"/>
        <include name="org/jboss/test/aop/bean/RemotingTesterMBean.class"/>
        <include name="org/jboss/test/aop/bean/SecurityTester.class"/>
        <include name="org/jboss/test/aop/bean/SecurityTesterMBean.class"/>
        <include name="org/jboss/test/aop/bean/TxTester.class"/>
        <include name="org/jboss/test/aop/bean/TxTesterMBean.class"/>
        <include name="org/jboss/test/aop/bean/TxLockTester*.class"/>
        <include name="org/jboss/test/aop/bean/TxLockTesterMBean.class"/>
        <include name="org/jboss/test/aop/bean/VersionedObjectTester.class"/>
        <include name="org/jboss/test/aop/bean/VersionedObjectTesterMBean.class"/>
        <include name="org/jboss/test/aop/bean/CacheTester.class"/>
        <include name="org/jboss/test/aop/bean/CacheTesterMBean.class"/>
        <include name="org/jboss/test/aop/bean/BeforeInterceptor.class"/>
        <include name="org/jboss/test/aop/bean/AfterInterceptor.class"/>
        <include name="org/jboss/test/aop/bean/LogUtil.class"/>
        <include name="org/jboss/test/aop/bean/Temperature.class"/>
        <include name="org/jboss/test/aop/bean/ObservableTester.class"/>
        <include name="org/jboss/test/aop/bean/ObservableTesterMBean.class"/>
      </fileset>
      <fileset dir="${build.resources}/aop">
        <include name="users.properties"/>
        <include name="roles.properties"/>
      </fileset>
      <fileset dir="${build.resources}/aop">
        <include name="META-INF/jboss-service.xml"/>
      </fileset>
    </jar>

    <jar destfile="${build.lib}/simpleejb.sar">
      <fileset dir="${build.lib}">
        <include name="aoptest.aop"/>
      </fileset>
      <fileset dir="${build.lib}">
        <include name="simpleejb.jar"/>
      </fileset>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/aop/bean/SimpleBeanTester.class"/>
        <include name="org/jboss/test/aop/bean/SimpleBeanTesterMBean.class"/>
      </fileset>
      <fileset dir="${build.resources}/aop">
        <include name="users.properties"/>
        <include name="roles.properties"/>
      </fileset>
      <fileset dir="${build.resources}/aop/simpleejb">
        <include name="META-INF/jboss-service.xml"/>
      </fileset>
    </jar>

    <!-- ok, we have created the loadtime jars, let us now precompile the classes for standalone test  -->

    <!--
          <aopc compilerclasspathref="aop.task.classpath">
             <classpath refid="thirdparty.classpath"/>
             <classpath path="${build.classes}"/>
             <src path="${build.classes}"/>
             <include name="org/jboss/test/aop/bean/**"/>
             <aoppath path="${build.resources}/aop/META-INF/jboss-aop.xml"/>
          </aopc>
    -->

  </target>

  <!-- bank test -->
  <target name="_jars-bank">
    <mkdir dir="${build.lib}"/>

    <!-- build banktest.jar -->
    <jar destfile="${build.lib}/banktest.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/bank/interfaces/**"/>
        <include name="org/jboss/test/bank/test/**"/>
      </fileset>
      <fileset dir="${build.resources}/bank">
        <include name="*.*"/>
      </fileset>
    </jar>

    <!-- build bank.jar -->
    <jar destfile="${build.lib}/bank.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/bank/interfaces/**"/>
        <include name="org/jboss/test/bank/ejb/**"/>
        <include name="org/jboss/test/bank/beans/**"/>
      </fileset>
      <fileset dir="${build.resources}/bank/ejb11">
        <include name="**/*.xml"/>
      </fileset>
    </jar>

    <!-- build bank.jar -->
    <jar destfile="${build.lib}/bank-ejb20.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/bank/interfaces/**"/>
        <include name="org/jboss/test/bank/ejb/**"/>
        <include name="org/jboss/test/bank/beans/**"/>
      </fileset>
      <fileset dir="${build.resources}/bank/ejb20">
        <include name="**/*.xml"/>
      </fileset>
    </jar>
  </target>

  <!-- bank-new test -->
  <target name="_jars-bank-new">
    <mkdir dir="${build.lib}"/>

    <!-- build banknewtest.jar -->
    <jar destfile="${build.lib}/banknewtest.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/banknew/interfaces/**"/>
        <include name="org/jboss/test/banknew/test/**"/>
      </fileset>
      <fileset dir="${build.resources}/bank">
        <include name="*.*"/>
      </fileset>
    </jar>

    <!-- build banknew.jar -->
    <jar destfile="${build.lib}/banknew.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/banknew/interfaces/**"/>
        <include name="org/jboss/test/banknew/ejb/**"/>
        <include name="org/jboss/test/banknew/beans/**"/>
      </fileset>
      <fileset dir="${build.resources}/banknew">
        <include name="**/*.xml"/>
      </fileset>
    </jar>
  </target>

  <!-- bankiiop test -->
  <target name="_jars-bankiiop">
    <mkdir dir="${build.lib}"/>

    <!-- build bankiioptest.jar -->
    <jar destfile="${build.lib}/bankiioptest.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/bankiiop/interfaces/**"/>
        <include name="org/jboss/test/bankiiop/test/**"/>
      </fileset>
      <fileset dir="${build.resources}/bankiiop">
        <include name="*.*"/>
      </fileset>
    </jar>

    <!-- build bankiiop.jar -->
    <jar destfile="${build.lib}/bankiiop.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/bankiiop/interfaces/**"/>
        <include name="org/jboss/test/bankiiop/ejb/**"/>
        <include name="org/jboss/test/bankiiop/beans/**"/>
      </fileset>
      <fileset dir="${build.resources}/bankiiop">
        <include name="**/*.xml"/>
      </fileset>
    </jar>
  </target>

  <!-- bench test -->
  <target name="_jars-bench">
    <mkdir dir="${build.lib}"/>

    <!-- build bench.jar -->
    <jar destfile="${build.lib}/bench.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/bench/interfaces/**"/>
        <include name="org/jboss/test/bench/ejb/**"/>
      </fileset>
      <fileset dir="${build.resources}/bench/ejb">
        <include name="**/*.xml"/>
      </fileset>
    </jar>

    <!-- build bench.war -->
    <war warfile="${build.lib}/bench.war"
      webxml="${build.resources}/bench/web/WEB-INF/web.xml"
      manifest="${build.resources}/bench/web.mf">
      <webinf dir="${build.resources}/bench/web/WEB-INF">
        <include name="*"/>
        <exclude name="web.xml"/>
      </webinf>
      <lib dir="${build.lib}">
        <include name="jbosstest-bench-util.jar"/>
      </lib>
      <classes dir="${build.classes}">
        <include name="org/jboss/test/bench/servlet/**"/>
      </classes>
      <fileset dir="${build.resources}/bench/web/">
        <include name="*"/>
      </fileset>
    </war>

    <!-- build bench.ear -->
    <ear earfile="${build.lib}/bench.ear"
      appxml="${build.resources}/bench/ear/META-INF/application.xml">
      <fileset dir="${build.lib}">
        <include name="bench.jar"/>
        <include name="bench.war"/>
      </fileset>
    </ear>
  </target>

  <!-- bmp test -->
  <target name="_jars-bmp">
    <mkdir dir="${build.lib}"/>

    <!-- build bmptest.jar -->
    <jar destfile="${build.lib}/bmptest.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/bmp/interfaces/**"/>
        <include name="org/jboss/test/bmp/test/**"/>
      </fileset>
      <fileset dir="${build.resources}/bmp">
        <include name="*.*"/>
      </fileset>
    </jar>

    <!-- build bmp.jar -->
    <jar destfile="${build.lib}/bmp.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/bmp/interfaces/**"/>
        <include name="org/jboss/test/bmp/ejb/**"/>
        <include name="org/jboss/test/bmp/beans/**"/>
      </fileset>
      <fileset dir="${build.resources}/bmp">
        <include name="**/*.xml"/>
      </fileset>
    </jar>
  </target>

  <!-- cache JARs -->
  <target name="_jars-cache">
    <!-- Not much to do with jar, but ... -->
    <mkdir dir="${build.resources}/META-INF"/>
    <copy todir="${build.resources}/META-INF" filtering="no">
      <fileset dir="${build.resources}/cache/META-INF">
        <include name="*-service*.xml"/>
      </fileset>
    </copy>

    <!-- pre-compile the aop classes -->
    <taskdef name="aopc" classname="org.jboss.aop.ant.AopC" classpathref="jboss.aop.classpath"/>
    <path id="aop.task.classpath">
      <path refid="javassist.classpath"/>
      <path refid="trove.classpath"/>
      <path refid="jboss.aop.classpath"/>
      <path refid="jboss.common.classpath"/>
    </path>

    <aopc compilerclasspathref="aop.task.classpath">
      <classpath refid="thirdparty.classpath"/>
      <classpath path="${build.classes}"/>
      <src path="${build.classes}"/>
      <include name="org/jboss/test/cache/test/standAloneAop/**"/>
      <aoppath path="${build.resources}/cache/standalone/META-INF/jboss-aop.xml"/>
    </aopc>

    <!-- build cachetest.jar -->
    <jar destfile="${build.lib}/cachetest.jar"
      manifest="${build.resources}/cache/manifest.mf">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/cache/bean/*.class"/>
        <include name="org/jboss/test/cache/test/standAloneAop/*.class"/>
      </fileset>
      <metainf dir="${build.resources}/cache/META-INF/">
        <include name="jboss.xml"/>
        <include name="ejb-jar.xml"/>
      </metainf>
    </jar>

    <!-- build cachetest.sar -->
    <!--
    -->
    <delete file="${build.resources}/cache/META-INF/jboss-service.xml"/>
    <copy file="${build.resources}/cache/META-INF/tree-service.xml"
      tofile="${build.resources}/cache/META-INF/jboss-service.xml"/>

    <jar destfile="${build.lib}/cachetest.sar">
      <fileset dir="${jboss.cache.lib}">
        <include name="jboss-cache.jar"/>
      </fileset>
      <fileset dir="${jgroups.jgroups.lib}">
        <include name="jgroups.jar"/>
      </fileset>
      <fileset dir="${build.resources}/cache">
        <include name="META-INF/jboss-service.xml"/>
      </fileset>
    </jar>

    <!-- build cacheAoptest.sar -->
    <delete file="${build.resources}/cache/META-INF/jboss-service.xml"/>
    <copy file="${build.resources}/cache/META-INF/tree-aop-service.xml"
      tofile="${build.resources}/cache/META-INF/jboss-service.xml"/>

    <jar destfile="${build.lib}/cacheAoptest.sar">
      <fileset dir="${jboss.cache.lib}">
        <include name="jboss-cache.jar"/>
      </fileset>
      <fileset dir="${jgroups.jgroups.lib}">
        <include name="jgroups.jar"/>
      </fileset>
      <fileset dir="${build.resources}/cache">
        <include name="META-INF/jboss-service.xml"/>
      </fileset>
    </jar>

    <!-- build cachetest.aop -->
    <!--
    <jar destfile="${build.lib}/cachetest.aop">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/cache/bean/aop/*.class"/>
      </fileset>
      <metainf dir="${build.resources}/cache/aop/META-INF/"/>
    </jar>
    -->

  </target>

  <!-- classloader test -->
  <target name="_jars-classloader" depends="compile-classes-only">
    <mkdir dir="${build.lib}"/>

    <!-- build concurrentloader.sar -->
    <jar destfile="${build.lib}/concurrentloader.sar">
      <metainf dir="${build.resources}/classloader/concurrentloader"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/classloader/concurrentload/**"/>
      </fileset>
    </jar>
    <!-- build concurrentloader.ear which deploys the concurrentloader.sar
         with a HeirarchicalLoaderRepository
    -->
    <ear earfile="${build.lib}/concurrentloader.ear"
      appxml="${build.resources}/classloader/concurrentloader/application.xml">
      <metainf dir="${build.resources}/classloader/concurrentloader">
        <include name="jboss-app.xml"/>
      </metainf>
      <fileset dir="${build.lib}">
        <include name="concurrentloader.sar"/>
      </fileset>
    </ear>

    <!-- build circularity.sar -->
    <jar destfile="${build.lib}/j0.jar" basedir="${build.classes}"
      includes="org/jboss/test/classloader/circularity/support/Class0.class"/>
    <jar destfile="${build.lib}/j1.jar" basedir="${build.classes}"
      includes="org/jboss/test/classloader/circularity/support/Class1.class"/>
    <jar destfile="${build.lib}/j2.jar" basedir="${build.classes}"
      includes="org/jboss/test/classloader/circularity/support/Class2.class"/>
    <jar destfile="${build.lib}/j3.jar" basedir="${build.classes}"
      includes="org/jboss/test/classloader/circularity/support/Derived.class"/>
    <jar destfile="${build.lib}/any0.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/classloader/circularity/support/Base.class"/>
        <include name="org/jboss/test/classloader/circularity/support/Class0.class"/>
        <include name="org/jboss/test/classloader/circularity/support/Class2.class"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/any1.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/classloader/circularity/support/Class0.class"/>
        <include name="org/jboss/test/classloader/circularity/support/Class2.class"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/login.jar" basedir="${build.classes}"
      manifest="${build.resources}/classloader/circularity/to-cl-util.mf"
      includes="org/jboss/test/classloader/circularity/support/UserOfLoginInfo.class"/>
    <jar destfile="${build.lib}/usrmgr.jar" basedir="${build.classes}"
      manifest="${build.resources}/classloader/circularity/to-cl-util.mf"
      includes="org/jboss/test/classloader/circularity/support/UserOfUsrMgr.class"/>
    <jar destfile="${build.lib}/cl-util.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/classloader/circularity/support/LoginInfo.class"/>
        <include name="org/jboss/test/classloader/circularity/support/UsrMgr.class"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/le0.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/classloader/circularity/support/Base.class"/>
        <include name="org/jboss/test/classloader/circularity/support/UserOfBase.class"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/le1.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/classloader/circularity/support/Base.class"/>
        <include name="org/jboss/test/classloader/circularity/support/Support.class"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/dl10.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/classloader/circularity/support/pkg0/Derived.class"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/dl11.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/classloader/circularity/support/Base.class"/>
      </fileset>
    </jar>

    <!-- Jars used by the Deadlock32 tests -->
    <jar destfile="${build.lib}/dl-a.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/classloader/test/abc/TestA*"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/dl-b.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/classloader/test/abc/TestB*"/>
      </fileset>
    </jar>

    <!-- A jar that appears to contain java.sql classes for
      ScopingUnitTestCase.testSystemClasses2
    -->
    <mkdir dir="${build.classes}/java/sql"/>
    <touch file="${build.classes}/java/sql/Fake.class"/>
    <jar destfile="${build.lib}/java-sql.jar">
      <fileset dir="${build.classes}">
        <include name="java/sql/*"/>
      </fileset>
    </jar>

    <jar destfile="${build.lib}/ha.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/classloader/circularity/support/HARMIServerImpl.class"/>
        <include name="org/jboss/test/classloader/circularity/support/HARMIServer.class"/>
        <include name="org/jboss/test/classloader/circularity/support/HARMIServerImpl_Stub.class"/>
      </fileset>
    </jar>


    <jar destfile="${build.lib}/circularity.sar">
      <metainf dir="${build.resources}/classloader/circularity"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/classloader/circularity/*"/>
        <include name="org/jboss/test/classloader/circularity/test/*"/>
      </fileset>
    </jar>

    <!-- build interrupt.sar -->
    <jar destfile="${build.lib}/interrupt.sar">
      <metainf dir="${build.resources}/classloader/interrupt"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/classloader/interrupt/**"/>
      </fileset>
    </jar>

    <!-- build loadingresource.sar -->
    <jar destfile="${build.lib}/loading.sar">
      <metainf dir="${build.resources}/classloader/resource">
        <include name="jboss-service.xml"/>
      </metainf>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/classloader/resource/**"/>
      </fileset>
    </jar>

    <ear earfile="${build.lib}/loadingresource.ear"
      appxml="${build.resources}/classloader/resource/application.xml">
      <metainf dir="${build.resources}/classloader/resource">
        <include name="jboss-app.xml"/>
      </metainf>
      <fileset dir="${build.resources}/classloader/resource">
        <include name="dtds/*"/>
      </fileset>
      <fileset dir="${build.lib}">
        <include name="loading.sar"/>
      </fileset>
    </ear>

    <!-- Create unpacked loadingresource1 ear -->
    <property name="ear1.dist"
      value="${build.lib}/unpacked/loadingresource1.ear"/>
    <mkdir dir="${ear1.dist}/META-INF"/>
    <copy todir="${ear1.dist}/META-INF">
      <fileset dir="${build.resources}/classloader/resource">
        <include name="application.xml"/>
        <include name="jboss-app.xml"/>
      </fileset>
    </copy>
    <mkdir dir="${ear1.dist}/loading.sar/META-INF"/>
    <unzip src="${build.lib}/loading.sar" dest="${ear1.dist}/loading.sar"/>
    <copy file="${build.resources}/classloader/resource/jboss-serviceX.xml"
      tofile="${ear1.dist}/loading.sar/META-INF/jboss-service.xml"
      overwrite="true">
      <filterset>
        <filter token="VERSION" value="1"/>
      </filterset>
    </copy>
    <copy file="${build.resources}/classloader/resource/dtds/sampleX.dtd"
      tofile="${ear1.dist}/dtds/sample1.dtd"/>
    <!-- Create unpacked loadingresource2 ear -->
    <property name="ear2.dist"
      value="${build.lib}/unpacked/loadingresource2.ear"/>
    <mkdir dir="${ear2.dist}/META-INF"/>
    <copy todir="${ear2.dist}/META-INF">
      <fileset dir="${build.resources}/classloader/resource">
        <include name="application.xml"/>
        <include name="jboss-app.xml"/>
      </fileset>
    </copy>
    <mkdir dir="${ear2.dist}/loading.tmp/META-INF"/>
    <unzip src="${build.lib}/loading.sar" dest="${ear2.dist}/loading.tmp"/>
    <copy file="${build.resources}/classloader/resource/jboss-serviceX.xml"
      tofile="${ear2.dist}/loading.tmp/META-INF/jboss-service.xml"
      overwrite="true">
      <filterset>
        <filter token="VERSION" value="2"/>
      </filterset>
    </copy>
    <copy todir="${ear2.dist}//loading.tmp/dtds">
      <fileset dir="${build.resources}/classloader/resource/dtds"/>
    </copy>
    <copy file="${build.resources}/classloader/resource/dtds/sampleX.dtd"
      tofile="${ear2.dist}/loading.tmp/dtds/sample2.dtd"/>
    <zip destfile="${ear2.dist}/loading.sar" basedir="${ear2.dist}/loading.tmp"/>
    <delete dir="${ear2.dist}/loading.tmp"/>

    <!-- build loadinclazz.sar -->
    <jar destfile="${build.lib}/loadingclazz.sar">
      <metainf dir="${build.resources}/classloader/clazz">
        <include name="jboss-service.xml"/>
      </metainf>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/classloader/clazz/**"/>
      </fileset>
    </jar>

    <!-- Build version 1 of the singleton.jar -->
    <copy tofile="${build.gen-src}/org/jboss/test/classloader/scoping/singleton/MySingleton.java"
      file="${source.java}/org/jboss/test/classloader/scoping/singleton/MySingleton_V1.txt"
      overwrite="true"/>
    <checksum property="v1singletonmd5"
      file="${build.gen-src}/org/jboss/test/classloader/scoping/singleton/MySingleton.java"/>
    <echo message="V1 MySingleton.java cksum: ${v1singletonmd5}"/>
    <copy todir="${build.classes}/org/jboss/test/classloader/scoping/singleton"
      overwrite="true">
      <fileset dir="${source.java}/org/jboss/test/classloader/scoping/singleton">
        <include name="jboss-service.xml"/>
      </fileset>
      <filterset>
        <filter token="VERSION" value="V1"/>
      </filterset>
    </copy>

    <javac destdir="${build.classes}" optimize="${javac.optimize}"
      source="${javac.source}" target="${javac.target}" debug="${javac.debug}">
      <src path="${build.gen-src}"/>
      <src path="${source.java}"/>
      <classpath refid="tests.classpath"/>
      <include name="org/jboss/test/classloader/scoping/singleton/**"/>
    </javac>
    <jar destfile="${build.lib}/singleton1.sar">
      <metainf dir="${build.classes}/org/jboss/test/classloader/scoping/singleton">
        <include name="jboss-service.xml"/>
      </metainf>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/classloader/scoping/singleton/*"/>
        <exclude name="org/jboss/test/classloader/scoping/singleton/*.xml"/>
      </fileset>
    </jar>

    <!-- Build version 2 of the singleton.jar -->
    <delete dir="${build.classes}/org/jboss/test/classloader/scoping/singleton"/>
    <copy tofile="${build.gen-src}/org/jboss/test/classloader/scoping/singleton/MySingleton.java"
      file="${source.java}/org/jboss/test/classloader/scoping/singleton/MySingleton_V2.txt"
      overwrite="true"/>
    <checksum property="v2singletonmd5"
      file="${build.gen-src}/org/jboss/test/classloader/scoping/singleton/MySingleton.java"/>
    <echo message="V2 MySingleton.java cksum: ${v2singletonmd5}"/>
    <copy todir="${build.classes}/org/jboss/test/classloader/scoping/singleton"
      overwrite="true">
      <fileset dir="${source.java}/org/jboss/test/classloader/scoping/singleton">
        <include name="jboss-service.xml"/>
      </fileset>
      <filterset>
        <filter token="VERSION" value="V2"/>
      </filterset>
    </copy>

    <javac destdir="${build.classes}" optimize="${javac.optimize}"
      source="${javac.source}" target="${javac.target}" debug="${javac.debug}">
      <src path="${build.gen-src}"/>
      <src path="${source.java}"/>
      <classpath refid="tests.classpath"/>
      <include name="org/jboss/test/classloader/scoping/singleton/**"/>
    </javac>
    <jar destfile="${build.lib}/singleton2.sar">
      <metainf dir="${build.classes}/org/jboss/test/classloader/scoping/singleton">
        <include name="jboss-service.xml"/>
      </metainf>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/classloader/scoping/singleton/*"/>
        <exclude name="org/jboss/test/classloader/scoping/singleton/*.xml"/>
      </fileset>
    </jar>

    <jar destfile="${build.lib}/log4j113-ejb.jar">
      <metainf dir="${build.resources}/classloader/scoping/override/log4j113/META-INF">
        <include name="ejb-jar.xml"/>
        <include name="jboss.xml"/>
      </metainf>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/classloader/scoping/override/ejb/log4j113/*"/>
      </fileset>
      <fileset dir="${build.resources}/classloader/scoping/override/log4j113">
        <include name="*.jar"/>
      </fileset>
    </jar>

    <war warfile="${build.lib}/log4j113.war"
      webxml="${build.resources}/classloader/scoping/override/log4j113/WEB-INF/web.xml">
      <webinf dir="${build.resources}/classloader/scoping/override/log4j113/WEB-INF">
        <include name="jboss-web.xml"/>
      </webinf>
      <lib dir="${build.resources}/classloader/scoping/override/log4j113">
        <include name="*.jar"/>
      </lib>
      <classes dir="${build.classes}">
        <include name="org/jboss/test/classloader/scoping/override/web/**"/>
      </classes>
      <classes dir="${build.resources}/classloader/scoping/override/log4j113">
        <include name="log4j.properties"/>
      </classes>
    </war>

    <war warfile="${build.lib}/oldxerces.war"
      webxml="${build.resources}/classloader/scoping/override/xml/web.xml">
      <webinf dir="${build.resources}/classloader/scoping/override/xml">
        <include name="jboss-web.xml"/>
      </webinf>
      <lib dir="${build.resources}/classloader/scoping/override/xml">
        <include name="*.jar"/>
      </lib>
      <fileset dir="${build.resources}/classloader/scoping/override/xml">
        <include name="test.jsp"/>
      </fileset>
    </war>

    <!-- build classpath.sar -->
    <jar destfile="${build.lib}/classpath.sar">
      <metainf dir="${build.resources}/classloader/classpath">
        <include name="jboss-service.xml"/>
      </metainf>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/classloader/classpath/**"/>
      </fileset>
    </jar>

    <!-- build scopedtx.jar -->
    <jar destfile="${build.lib}/scopedtx.jar">
      <metainf dir="${build.resources}/classloader/scoping/transaction/META-INF"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/classloader/scoping/transaction/**"/>
      </fileset>
    </jar>

    <!-- Build the shared-jndi.war/sar -->
    <jar destfile="${build.lib}/shared-jndi.sar">
      <metainf dir="${build.resources}/classloader/scoping/naming/xml">
        <include name="jboss-service.xml"/>
      </metainf>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/classloader/scoping/naming/service/*"/>
      </fileset>
    </jar>
    <war destfile="${build.lib}/shared-jndi.war"
      webxml="${build.resources}/classloader/scoping/naming/xml/web.xml">
      <webinf dir="${build.resources}/classloader/scoping/naming/xml">
        <include name="jboss-web.xml"/>
      </webinf>
      <classes dir="${build.classes}">
        <include name="org/jboss/test/classloader/scoping/naming/service/BindValue.class"/>
        <include name="org/jboss/test/classloader/scoping/naming/web/*"/>
      </classes>
    </war>

  </target>

  <target name="_jars-client" depends="_jars-cts">
    <mkdir dir="${build.lib}"/>

    <jar destfile="${build.lib}/app-client.jar">
      <metainf dir="${build.resources}/client">
        <include name="*-client.xml"/>
      </metainf>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/client/test/SystemPropertyCallbackHandler.class"/>
      </fileset>
    </jar>
    <ear earfile="${build.lib}/app-client.ear"
      appxml="${build.resources}/client/application.xml">
      <metainf dir="${build.resources}/client">
        <include name="jboss-app.xml"/>
      </metainf>
      <fileset dir="${build.lib}">
        <include name="cts.jar"/>
        <include name="app-client.jar"/>
      </fileset>
      <fileset dir="${build.resources}/client">
        <include name="JndiConfig.bsh"/>
      </fileset>
    </ear>
  </target>

  <target name="_jars-cluster" depends="compile-resources">
    <war warfile="${build.lib}/dist-ss.war"
      webxml="${build.resources}/cluster/web/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/cluster/web/*"/>
      </classes>
    </war>

    <jar destfile="${build.lib}/ds-tests.sar">
      <metainf dir="${build.resources}/cluster/ds">
        <include name="jboss-service.xml"/>
      </metainf>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/cluster/ds/*"/>
        <include name="org/jboss/test/cluster/test/*_Stub.class"/>
      </fileset>
    </jar>

    <jar destfile="${build.lib}/drm-tests.sar">
      <metainf dir="${build.resources}/cluster/drm">
        <include name="jboss-service.xml"/>
      </metainf>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/cluster/drm/*"/>
        <include name="org/jboss/test/cluster/test/*_Stub.class"/>
      </fileset>
    </jar>

    <!-- build httpsessionreplication.jar -->
    <war warfile="${build.lib}/http-sr.war"
      webxml="${build.resources}/cluster/http/web.xml">
      <fileset dir="${build.resources}/cluster/http">
        <include name="*.jsp"/>
      </fileset>
      <classes dir="${build.classes}">
        <include name="org/jboss/test/cluster/web/BindingListener.class"/>
        <include name="org/jboss/test/cluster/web/CacheHelper.class"/>
      </classes>
    </war>

    <!-- build http-scoped.jar -->
    <copy tofile="${build.resources}/cluster/http/http-scoped/WEB-INF/jboss-web.xml"
      file="${build.resources}/cluster/http/http-scoped/jboss-web.xml"
      overwrite="true"/>

    <war warfile="${build.lib}/http-scoped.war"
      webxml="${build.resources}/cluster/http/http-scoped/WEB-INF/web.xml">
      <webinf dir="${build.resources}/cluster/http/http-scoped/WEB-INF">
        <include name="jboss-web.xml"/>
      </webinf>
      <classes dir="${build.classes}">
        <include name="org/jboss/test/cluster/web/Person.class"/>
        <include name="org/jboss/test/cluster/web/CacheHelper.class"/>
        <include name="org/jboss/test/cluster/web/BindingListener.class"/>
      </classes>

      <fileset dir="${build.resources}/cluster/http/http-scoped">
        <include name="*.jsp"/>
        <include name="*.html"/>
      </fileset>
    </war>

    <!-- build http-scoped-attr.jar -->
    <copy tofile="${build.resources}/cluster/http/http-scoped/WEB-INF/jboss-web.xml"
      file="${build.resources}/cluster/http/http-scoped/jboss-web-attr-based.xml"
      overwrite="true"/>

    <war warfile="${build.lib}/http-scoped-attr.war"
      webxml="${build.resources}/cluster/http/http-scoped/WEB-INF/web.xml">
      <webinf dir="${build.resources}/cluster/http/http-scoped/WEB-INF">
        <include name="jboss-web.xml"/>
      </webinf>
      <classes dir="${build.classes}">
        <include name="org/jboss/test/cluster/web/Person.class"/>
        <include name="org/jboss/test/cluster/web/CacheHelper.class"/>
        <include name="org/jboss/test/cluster/web/BindingListener.class"/>
      </classes>

      <fileset dir="${build.resources}/cluster/http/http-scoped">
        <include name="*.jsp"/>
        <include name="*.html"/>
      </fileset>
    </war>

    <!-- build http-scoped-set.jar -->
    <copy tofile="${build.resources}/cluster/http/http-scoped/WEB-INF/jboss-web.xml"
      file="${build.resources}/cluster/http/http-scoped/jboss-web-set-trigger.xml"
      overwrite="true"/>

    <war warfile="${build.lib}/http-scoped-set.war"
      webxml="${build.resources}/cluster/http/http-scoped/WEB-INF/web.xml">
      <webinf dir="${build.resources}/cluster/http/http-scoped/WEB-INF">
        <include name="jboss-web.xml"/>
      </webinf>
      <classes dir="${build.classes}">
        <include name="org/jboss/test/cluster/web/Person.class"/>
        <include name="org/jboss/test/cluster/web/CacheHelper.class"/>
        <include name="org/jboss/test/cluster/web/BindingListener.class"/>
      </classes>

      <fileset dir="${build.resources}/cluster/http/http-scoped">
        <include name="*.jsp"/>
        <include name="*.html"/>
      </fileset>
    </war>

    <!-- build http-scoped-set-attr.jar -->
    <copy tofile="${build.resources}/cluster/http/http-scoped/WEB-INF/jboss-web.xml"
      file="${build.resources}/cluster/http/http-scoped/jboss-web-attr-set.xml"
      overwrite="true"/>

    <war warfile="${build.lib}/http-scoped-set-attr.war"
      webxml="${build.resources}/cluster/http/http-scoped/WEB-INF/web.xml">
      <webinf dir="${build.resources}/cluster/http/http-scoped/WEB-INF">
        <include name="jboss-web.xml"/>
      </webinf>
      <classes dir="${build.classes}">
        <include name="org/jboss/test/cluster/web/Person.class"/>
        <include name="org/jboss/test/cluster/web/CacheHelper.class"/>
        <include name="org/jboss/test/cluster/web/BindingListener.class"/>
      </classes>

      <fileset dir="${build.resources}/cluster/http/http-scoped">
        <include name="*.jsp"/>
        <include name="*.html"/>
      </fileset>
    </war>

      <!-- pre-compile the aop classes. We are using 1.4 annotation so annoc and aopc are required -->
      <taskdef name="aopc" classname="org.jboss.aop.ant.AopC" classpathref="jboss.aop.classpath"/>
      <path id="aop.task.classpath">
         <path refid="javassist.classpath"/>
         <path refid="qdox.classpath"/>
         <path refid="trove.classpath"/>
         <path refid="jboss.aop.classpath"/>
         <path refid="jboss.common.classpath"/>
      </path>
      <taskdef name="annotationc" classname="org.jboss.aop.ant.AnnotationC" classpathref="jboss.aop.classpath"/>
      <annotationc compilerclasspathref="aop.task.classpath" bytecode="true">
         <classpath refid="thirdparty.classpath"/>
         <classpath refid="jboss.tomcat.classpath"/>
         <classpath path="${build.classes}"/>
         <src path="${source.java}"/>
         <include name="org/jboss/test/cluster/web/aop/**"/>
<!--
         <include name="org/jboss/test/cluster/web/aop/Student.java"/>
         <include name="org/jboss/test/cluster/web/aop/Person.java"/>
         <include name="org/jboss/test/cluster/web/aop/Address.java"/>
-->
      </annotationc>

      <aopc compilerclasspathref="aop.task.classpath" verbose="true">
         <classpath refid="thirdparty.classpath"/>
<!--
         <classpath refid="jboss.aspects.classpath"/>
-->
         <classpath path="${build.classes}"/>
         <classpath refid="jboss.tomcat.classpath"/>
         <src path="${build.classes}"/>
         <include name="org/jboss/test/cluster/web/aop/**"/>
         <aoppath path="${source.resources}/cluster/http/jboss-aop.xml"/>
      </aopc>

      <!-- build http-scoped-field.war -->
      <copy tofile="${build.resources}/cluster/http/http-field/WEB-INF/jboss-web.xml"
         file="${build.resources}/cluster/http/http-field/jboss-web-field-scoped.xml"
         overwrite="true"/>

      <war warfile="${build.lib}/http-scoped-field.war"
         webxml="${build.resources}/cluster/http/http-field/WEB-INF/web.xml">
         <webinf dir="${build.resources}/cluster/http/http-field/WEB-INF">
            <include name="jboss-web.xml"/>
         </webinf>
         <classes dir="${build.classes}">
            <include name="org/jboss/test/cluster/web/aop/*.class"/>
            <include name="org/jboss/test/cluster/web/CacheHelper.class"/>
            <include name="org/jboss/test/cluster/web/BindingListener.class"/>
         </classes>

         <fileset dir="${build.resources}/cluster/http/http-field">
            <include name="*.jsp"/>
            <include name="*.html"/>
         </fileset>
      </war>

      <!-- build http-field.war -->
      <copy tofile="${build.resources}/cluster/http/http-field/WEB-INF/jboss-web.xml"
         file="${build.resources}/cluster/http/http-field/jboss-web-field.xml"
         overwrite="true"/>

      <war warfile="${build.lib}/http-field.war"
         webxml="${build.resources}/cluster/http/http-field/WEB-INF/web.xml">
         <webinf dir="${build.resources}/cluster/http/http-field/WEB-INF">
            <include name="jboss-web.xml"/>
         </webinf>
         <classes dir="${build.classes}">
            <include name="org/jboss/test/cluster/web/aop/*.class"/>
            <include name="org/jboss/test/cluster/web/CacheHelper.class"/>
            <include name="org/jboss/test/cluster/web/BindingListener.class"/>
         </classes>

         <fileset dir="${build.resources}/cluster/http/http-field">
            <include name="*.jsp"/>
            <include name="*.html"/>
         </fileset>
      </war>

    <!-- The cross-server.jar ejb jar -->
    <zip destfile="${build.lib}/cross-server.jar">
      <zipfileset dir="${build.resources}/cluster/cross-server" prefix="META-INF"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/cluster/ejb/*"/>
      </fileset>
    </zip>
  </target>

  <!-- cmp2 tests -->
  <target name="_jars-cmp2">
    <mkdir dir="${build.lib}"/>

    <!-- build cmp2-batchcascadedelete.jar -->
    <jar destfile="${build.lib}/cmp2-batchcascadedelete.jar">
       <fileset dir="${build.classes}">
          <patternset refid="common.test.client.classes"/>
          <include name="org/jboss/test/cmp2/batchcascadedelete/ejb/**"/>
       </fileset>
       <fileset dir="${build.resources}/cmp2/batchcascadedelete">
          <include name="**/*.*"/>
       </fileset>
       <zipfileset src="${junitejb.junitejb.lib}/junitejb.jar"
          includes="net/**/*.*"/>
       <zipfileset src="${junit.junit.lib}/junit.jar"
          includes="junit/**/*.*"/>
    </jar>

    <!-- build cmp2-relationship.jar -->
    <jar destfile="${build.lib}/cmp2-relationship.jar">
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/cmp2/relationship/**"/>
      </fileset>
      <fileset dir="${build.resources}/cmp2/relationship">
        <include name="**/*.*"/>
      </fileset>
      <zipfileset src="${junitejb.junitejb.lib}/junitejb.jar"
        includes="net/**/*.*"/>
      <zipfileset src="${junit.junit.lib}/junit.jar">
        <patternset refid="ejbrunner.set"/>
      </zipfileset>
    </jar>

    <!-- build cmp2-cacheinvalidation.jar -->
    <copy file="${build.resources}/cmp2/cacheinvalidation/META-INF/jdbcpm-jboss.xml"
      tofile="${build.resources}/cmp2/cacheinvalidation/META-INF/jboss.xml"/>
    <jar jarfile="${build.lib}/cmp2-cacheinvalidation.jar">
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/cmp2/cacheinvalidation/**"/>
      </fileset>
      <fileset dir="${build.resources}/cmp2/cacheinvalidation">
        <include name="**/*.*"/>
        <exclude name="**/jdbc*.xml"/>
      </fileset>
    </jar>
    <delete file="${build.resources}/cmp2/cacheinvalidation/META-INF/jboss.xml"/>
    <copy file="${build.resources}/cmp2/cacheinvalidation/META-INF/jdbc2pm-jboss.xml"
      tofile="${build.resources}/cmp2/cacheinvalidation/META-INF/jboss.xml"/>
    <jar jarfile="${build.lib}/cmp2-jdbc2pm-cacheinvalidation.jar">
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/cmp2/cacheinvalidation/**"/>
      </fileset>
      <fileset dir="${build.resources}/cmp2/cacheinvalidation">
        <include name="**/*.*"/>
        <exclude name="**/jdbc*.xml"/>
      </fileset>
    </jar>
    <delete file="${build.resources}/cmp2/cacheinvalidation/META-INF/jboss.xml"/>

    <!-- build cmp2-readonly.jar -->
    <jar destfile="${build.lib}/cmp2-readonly.jar">
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/cmp2/readonly/**"/>
      </fileset>
      <fileset dir="${build.resources}/cmp2/readonly">
        <include name="**/*.*"/>
      </fileset>
      <zipfileset src="${junitejb.junitejb.lib}/junitejb.jar"
        includes="net/**/*.*"/>
      <zipfileset src="${junit.junit.lib}/junit.jar">
        <patternset refid="ejbrunner.set"/>
      </zipfileset>
    </jar>

    <!-- build cmp2-ejbselect.jar -->
    <jar destfile="${build.lib}/cmp2-ejbselect.jar">
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/cmp2/ejbselect/**"/>
      </fileset>
      <fileset dir="${build.resources}/cmp2/ejbselect">
        <include name="**/*.*"/>
      </fileset>
      <zipfileset src="${junitejb.junitejb.lib}/junitejb.jar"
        includes="net/**/*.*"/>
      <zipfileset src="${junit.junit.lib}/junit.jar">
        <patternset refid="ejbrunner.set"/>
      </zipfileset>
    </jar>
      <copy file="${build.resources}/cmp2/ejbselect/META-INF/jboss.xml"
         tofile="${build.resources}/cmp2/ejbselect/META-INF/original-jboss.xml"/>
      <copy file="${build.resources}/cmp2/ejbselect/META-INF/jdbc2pm-jboss.xml"
         tofile="${build.resources}/cmp2/ejbselect/META-INF/jboss.xml" overwrite="true"/>
      <jar jarfile="${build.lib}/cmp2-jdbc2pm-ejbselect.jar">
         <fileset dir="${build.classes}">
            <patternset refid="common.test.client.classes"/>
            <include name="org/jboss/test/cmp2/ejbselect/**"/>
         </fileset>
         <fileset dir="${build.resources}/cmp2/ejbselect">
            <include name="**/*.*"/>
         </fileset>
         <zipfileset src="${junitejb.junitejb.lib}/junitejb.jar"
            includes="net/**/*.*"/>
         <zipfileset src="${junit.junit.lib}/junit.jar"
            includes="junit/**/*.*"/>
      </jar>
      <copy file="${build.resources}/cmp2/ejbselect/META-INF/original-jboss.xml"
         tofile="${build.resources}/cmp2/ejbselect/META-INF/jboss.xml" overwrite="true"/>

      <!-- build cmp2-jdbc2pm-ageout.jar -->
      <copy file="${build.resources}/cmp2/ejbselect/META-INF/ejb-jar.xml"
         tofile="${build.resources}/cmp2/ageout/META-INF/ejb-jar.xml" overwrite="true"/>
      <copy file="${build.resources}/cmp2/ejbselect/META-INF/jbosscmp-jdbc.xml"
         tofile="${build.resources}/cmp2/ageout/META-INF/jbosscmp-jdbc.xml" overwrite="true"/>
      <jar destfile="${build.lib}/cmp2-jdbc2pm-ageout.jar">
         <fileset dir="${build.classes}">
            <patternset refid="common.test.client.classes"/>
            <include name="org/jboss/test/cmp2/ageout/**"/>
            <include name="org/jboss/test/cmp2/ejbselect/**"/>
            <exclude name="org/jboss/test/cmp2/ejbselect/**/*TestCase.class"/>
         </fileset>
         <fileset dir="${build.resources}/cmp2/ageout">
            <include name="**/*.*"/>
         </fileset>
         <zipfileset src="${junitejb.junitejb.lib}/junitejb.jar"
            includes="net/**/*.*"/>
         <zipfileset src="${junit.junit.lib}/junit.jar"
            includes="junit/**/*.*"/>
      </jar>

    <!-- build cmr-postcreateswritten.jar -->
    <jar destfile="${build.lib}/cmr-postcreateswritten.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/cmp2/cmr/ejb/*"/>
        <include name="org/jboss/test/cmp2/cmr/interfaces/*"/>
      </fileset>
      <fileset dir="${build.resources}/cmp2/cmr">
        <include name="**/*.*"/>
      </fileset>
    </jar>

    <!-- build cmp2-simple.jar -->
    <jar destfile="${build.lib}/cmp2-simple.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/cmp2/simple/**"/>
      </fileset>
      <fileset dir="${build.resources}/cmp2/simple">
        <include name="**/*.*"/>
      </fileset>
      <zipfileset src="${junit.junit.lib}/junit.jar">
        <patternset refid="ejbrunner.set"/>
      </zipfileset>
    </jar>

    <!-- build cmp2-commerce.jar -->
    <jar destfile="${build.lib}/cmp2-commerce.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/cmp2/commerce/**"/>
      </fileset>
      <fileset dir="${build.resources}/cmp2/commerce">
        <include name="**/*.*"/>
      </fileset>
      <zipfileset src="${junitejb.junitejb.lib}/junitejb.jar"
        includes="net/**/*.*"/>
      <zipfileset src="${junit.junit.lib}/junit.jar">
        <patternset refid="ejbrunner.set"/>
      </zipfileset>
    </jar>

    <!-- build cmp2-lob.jar -->
    <jar destfile="${build.lib}/cmp2-lob.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/cmp2/lob/**"/>
      </fileset>
      <fileset dir="${build.resources}/cmp2/lob">
        <include name="**/*.*"/>
      </fileset>
      <zipfileset src="${junitejb.junitejb.lib}/junitejb.jar"
        includes="net/**/*.*"/>
      <zipfileset src="${junit.junit.lib}/junit.jar">
        <patternset refid="ejbrunner.set"/>
      </zipfileset>
    </jar>

    <!-- build cmp2-optimisticlock.jar -->
    <jar destfile="${build.lib}/cmp2-optimisticlock.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/cmp2/optimisticlock/**"/>
      </fileset>
      <fileset dir="${build.resources}/cmp2/optimisticlock">
        <include name="**/*.*"/>
      </fileset>
      <zipfileset src="${junitejb.junitejb.lib}/junitejb.jar"
        includes="net/**/*.*"/>
      <zipfileset src="${junit.junit.lib}/junit.jar">
        <patternset refid="ejbrunner.set"/>
      </zipfileset>
    </jar>

    <!-- build cmp2-passivation.jar -->
    <jar destfile="${build.lib}/cmp2-passivation.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/cmp2/passivation/**"/>
      </fileset>
      <fileset dir="${build.resources}/cmp2/passivation">
        <include name="**/*.*"/>
      </fileset>
      <zipfileset src="${junitejb.junitejb.lib}/junitejb.jar"
        includes="net/**/*.*"/>
      <zipfileset src="${junit.junit.lib}/junit.jar">
        <patternset refid="ejbrunner.set"/>
      </zipfileset>
    </jar>

    <!-- build cmp2-fkmapping.jar -->
    <jar destfile="${build.lib}/cmp2-fkmapping.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/cmp2/fkmapping/**"/>
      </fileset>
      <fileset dir="${build.resources}/cmp2/fkmapping">
        <include name="**/*.*"/>
      </fileset>
      <zipfileset src="${junitejb.junitejb.lib}/junitejb.jar"
        includes="net/**/*.*"/>
      <zipfileset src="${junit.junit.lib}/junit.jar">
        <patternset refid="ejbrunner.set"/>
      </zipfileset>
    </jar>

    <!-- build cmp2-fkstackoverflow.jar -->
    <jar destfile="${build.lib}/cmp2-fkstackoverflow.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/cmp2/fkstackoverflow/**"/>
      </fileset>
      <fileset dir="${build.resources}/cmp2/fkstackoverflow">
        <include name="**/*.*"/>
      </fileset>
      <zipfileset src="${junitejb.junitejb.lib}/junitejb.jar"
        includes="net/**/*.*"/>
      <zipfileset src="${junit.junit.lib}/junit.jar">
        <patternset refid="ejbrunner.set"/>
      </zipfileset>
    </jar>

    <!-- build cmp2-audit.jar -->
    <jar destfile="${build.lib}/cmp2-audit.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/cmp2/audit/**"/>
      </fileset>
      <fileset dir="${build.resources}/cmp2/audit">
        <include name="**/*.*"/>
      </fileset>
    </jar>

    <!-- build cmp2-cmrstress.jar -->
    <jar destfile="${build.lib}/cmp2-cmrstress.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/cmp2/cmrstress/**"/>
      </fileset>
      <fileset dir="${build.resources}/cmp2/cmrstress">
        <include name="**/*.*"/>
      </fileset>
      <zipfileset src="${junitejb.junitejb.lib}/junitejb.jar"
        includes="net/**/*.*"/>
      <zipfileset src="${junit.junit.lib}/junit.jar">
        <patternset refid="ejbrunner.set"/>
      </zipfileset>
    </jar>

    <!-- build cmp2-keygen.jar -->
    <jar destfile="${build.lib}/cmp2-keygen.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/cmp2/keygen/**"/>
      </fileset>
      <fileset dir="${build.resources}/cmp2/keygen">
        <include name="**/*.*"/>
      </fileset>
      <zipfileset src="${junit.junit.lib}/junit.jar">
        <patternset refid="ejbrunner.set"/>
      </zipfileset>
    </jar>

    <jar destfile="${build.lib}/cmp2-perf.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/cmp2/perf/**"/>
      </fileset>
      <metainf dir="${build.resources}/cmp2/perf"/>
    </jar>

    <!-- build cmp2-dbschema.jar -->
    <jar destfile="${build.lib}/cmp2-dbschema.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/cmp2/dbschema/**"/>
      </fileset>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/cmp2/relationship/**"/>
      </fileset>
      <fileset dir="${build.resources}/cmp2/relationship">
        <include name="**/*.*"/>
      </fileset>
      <zipfileset src="${junitejb.junitejb.lib}/junitejb.jar"
        includes="net/**/*.*"/>
      <zipfileset src="${junit.junit.lib}/junit.jar">
        <patternset refid="ejbrunner.set"/>
      </zipfileset>
    </jar>

    <jar destfile="${build.lib}/cmp2-idxandusersql.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/cmp2/idxandusersql/**"/>
      </fileset>
      <!--
      <fileset dir="${build.resources}/cmp2/idxandusersql">
        <include name="**/*.*"/>
      </fileset>
      -->
      <metainf dir="${source.java}/org/jboss/test/cmp2/idxandusersql/META-INF"/>


      <zipfileset src="${junitejb.junitejb.lib}/junitejb.jar"
        includes="net/**/*.*"/>
      <zipfileset src="${junit.junit.lib}/junit.jar">
        <patternset refid="ejbrunner.set"/>
      </zipfileset>
    </jar>

    <!-- build cmp2-enum.jar -->
    <jar destfile="${build.lib}/cmp2-enum.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/cmp2/enums/**"/>
      </fileset>
      <fileset dir="${build.resources}/cmp2/enums">
        <include name="**/*.*"/>
      </fileset>
      <zipfileset src="${junitejb.junitejb.lib}/junitejb.jar"
        includes="net/**/*.*"/>
      <zipfileset src="${junit.junit.lib}/junit.jar">
        <patternset refid="ejbrunner.set"/>
      </zipfileset>
    </jar>

    <!-- build cmp2-cmrtansaction.jar -->
    <jar destfile="${build.lib}/cmp2-cmrtransaction.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/cmp2/cmrtransaction/**"/>
      </fileset>
      <fileset dir="${build.resources}/cmp2/cmrtransaction">
        <include name="**/*.*"/>
      </fileset>
    </jar>

    <!-- build cmr-cmrtree.jar -->
    <jar destfile="${build.lib}/cmp2-cmrtree.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/cmp2/cmrtree/**"/>
      </fileset>
      <fileset dir="${build.resources}/cmp2/cmrtree">
        <include name="**/*.*"/>
      </fileset>
      <zipfileset src="${junitejb.junitejb.lib}/junitejb.jar"
        includes="net/**/*.*"/>
      <zipfileset src="${junit.junit.lib}/junit.jar">
        <patternset refid="ejbrunner.set"/>
      </zipfileset>
    </jar>
  </target>

  <!-- cts test -->
  <target name="_jars-cts">
    <mkdir dir="${build.lib}"/>

    <!-- build ctstest.jar -->
    <jar destfile="${build.lib}/ctstest.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/cts/interfaces/**"/>
        <include name="org/jboss/test/cts/test/**"/>
        <include name="org/jboss/test/cts/jms/**"/>
        <include name="org/jboss/test/cts/keys/**"/>
      </fileset>
      <fileset dir="${build.resources}/cts">
        <include name="*.*"/>
      </fileset>
    </jar>

    <!-- build cts.jar -->
    <jar destfile="${build.lib}/cts.jar">
      <metainf dir="${build.resources}/cts/META-INF">
        <include name="ejb-jar.xml"/>
        <include name="jboss.xml"/>
        <include name="jbosscmp-jdbc.xml"/>
      </metainf>
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/cts/interfaces/**"/>
        <include name="org/jboss/test/cts/ejb/**"/>
        <include name="org/jboss/test/cts/beans/**"/>
        <include name="org/jboss/test/cts/jms/**"/>
        <include name="org/jboss/test/cts/keys/**"/>
        <include name="org/jboss/test/cts/test/*_Stub*.class"/>
        <include name="org/jboss/test/util/ejb/*"/>
      </fileset>
      <zipfileset src="${junit.junit.lib}/junit.jar">
        <patternset refid="ejbrunner.set"/>
      </zipfileset>
    </jar>
    <!-- build a duplicate cts.jar with new home bindings -->
    <jar destfile="${build.lib}/cts2.jar">
      <metainf dir="${build.resources}/cts/metainf2">
        <include name="ejb-jar.xml"/>
        <include name="jboss.xml"/>
      </metainf>
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/cts/interfaces/**"/>
        <include name="org/jboss/test/cts/ejb/**"/>
        <include name="org/jboss/test/cts/beans/**"/>
        <include name="org/jboss/test/cts/jms/**"/>
        <include name="org/jboss/test/cts/keys/**"/>
        <include name="org/jboss/test/cts/test/*_Stub*.class"/>
      </fileset>
    </jar>

    <!-- Build version 1 of the cts-cmp2 ear -->
    <delete dir="${build.gen-src}/org/jboss/test/cts"/>
    <mkdir dir="${build.gen-src}/org/jboss/test/cts/ejb"/>
    <mkdir dir="${build.gen-src}/org/jboss/test/cts/interfaces"/>
    <copy tofile="${build.gen-src}/org/jboss/test/cts/interfaces/CtsCmp2Local.java"
      file="${source.java}/org/jboss/test/cts/interfaces/CtsCmp2Local_V1.txt"
      overwrite="true"/>
    <copy tofile="${build.gen-src}/org/jboss/test/cts/ejb/CtsCmp2Bean.java"
      file="${source.java}/org/jboss/test/cts/ejb/CtsCmp2Bean_V1.txt"
      overwrite="true"/>
    <copy tofile="${build.gen-src}/org/jboss/test/cts/service/CtsCmpService.java"
      file="${source.java}/org/jboss/test/cts/service/CtsCmpService_V1.txt"
      overwrite="true"/>
    <javac destdir="${build.classes}" optimize="${javac.optimize}"
      source="${javac.source}" target="${javac.target}" debug="${javac.debug}">
      <src path="${build.gen-src}"/>
      <src path="${source.java}"/>
      <classpath refid="tests.classpath"/>
      <include name="org/jboss/test/cts/**"/>
    </javac>
    <jar destfile="${build.lib}/cts-v1cmp.sar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/cts/service/CtsCmpService*.class"/>
        <include name="org/jboss/test/util/Debug.class"/>
      </fileset>
      <metainf dir="${build.resources}/cts/cmpv1">
        <include name="jboss-service.xml"/>
      </metainf>
    </jar>
    <jar destfile="${build.lib}/cts-v1cmp.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/cts/ejb/CtsCmp2*.class"/>
        <include name="org/jboss/test/cts/interfaces/CtsCmp2*"/>
      </fileset>
      <metainf dir="${build.resources}/cts/cmpv1">
        <include name="ejb-jar.xml"/>
        <include name="jboss.xml"/>
        <include name="jbosscmp-jdbc.xml"/>
      </metainf>
    </jar>
    <ear earfile="${build.lib}/cts-v1cmp.ear"
      appxml="${build.resources}/cts/cmpv1/application.xml">
      <metainf dir="${build.resources}/cts/cmpv1">
        <include name="jboss-app.xml"/>
      </metainf>
      <fileset dir="${build.lib}">
        <include name="cts-v1cmp.jar"/>
      </fileset>
    </ear>
    <ear earfile="${build.lib}/cts-v1cmp-sar.ear"
      appxml="${build.resources}/cts/cmpv1/application.xml">
      <metainf dir="${build.resources}/cts/cmpv1/ear+sar">
        <include name="jboss-app.xml"/>
      </metainf>
      <fileset dir="${build.lib}">
        <include name="cts-v1cmp.jar"/>
        <include name="cts-v1cmp.sar"/>
      </fileset>
    </ear>

    <!-- Build version 2 of the cts-cmp2 ear -->
    <delete dir="${build.classes}/org/jboss/test/cts">
      <include name="**/CtsCmp2Local.class"/>
      <include name="**/CtsCmp2Bean.class"/>
      <include name="**/CtsCmpService*.class"/>
    </delete>
    <delete dir="${build.gen-src}/org/jboss/test/cts"/>
    <copy tofile="${build.gen-src}/org/jboss/test/cts/interfaces/CtsCmp2Local.java"
      file="${source.java}/org/jboss/test/cts/interfaces/CtsCmp2Local_V2.txt"
      overwrite="true"/>
    <copy tofile="${build.gen-src}/org/jboss/test/cts/ejb/CtsCmp2Bean.java"
      file="${source.java}/org/jboss/test/cts/ejb/CtsCmp2Bean_V2.txt"
      overwrite="true"/>
    <copy tofile="${build.gen-src}/org/jboss/test/cts/service/CtsCmpService.java"
      file="${source.java}/org/jboss/test/cts/service/CtsCmpService_V2.txt"
      overwrite="true"/>
    <javac destdir="${build.classes}" optimize="${javac.optimize}"
      source="${javac.source}" target="${javac.target}" debug="${javac.debug}">
      <src path="${build.gen-src}"/>
      <src path="${source.java}"/>
      <classpath refid="tests.classpath"/>
      <include name="org/jboss/test/cts/**"/>
    </javac>
    <jar destfile="${build.lib}/cts-v2cmp.sar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/cts/service/CtsCmpService*.class"/>
        <include name="org/jboss/test/util/Debug.class"/>
      </fileset>
      <metainf dir="${build.resources}/cts/cmpv2">
        <include name="jboss-service.xml"/>
      </metainf>
    </jar>
    <jar destfile="${build.lib}/cts-v2cmp.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/cts/ejb/CtsCmp2*.class"/>
        <include name="org/jboss/test/cts/interfaces/CtsCmp2*"/>
      </fileset>
      <metainf dir="${build.resources}/cts/cmpv2">
        <include name="ejb-jar.xml"/>
        <include name="jboss.xml"/>
        <include name="jbosscmp-jdbc.xml"/>
      </metainf>
    </jar>
    <ear earfile="${build.lib}/cts-v2cmp.ear"
      appxml="${build.resources}/cts/cmpv2/application.xml">
      <metainf dir="${build.resources}/cts/cmpv2">
        <include name="jboss-app.xml"/>
      </metainf>
      <fileset dir="${build.lib}">
        <include name="cts-v2cmp.jar"/>
      </fileset>
    </ear>
    <ear earfile="${build.lib}/cts-v2cmp-sar.ear"
      appxml="${build.resources}/cts/cmpv2/application.xml">
      <metainf dir="${build.resources}/cts/cmpv2/ear+sar">
        <include name="jboss-app.xml"/>
      </metainf>
      <fileset dir="${build.lib}">
        <include name="cts-v2cmp.jar"/>
        <include name="cts-v2cmp.sar"/>
      </fileset>
    </ear>

  </target>

  <!-- dbtest test -->
  <target name="_jars-dbtest">
    <mkdir dir="${build.lib}"/>

    <!-- build dbtestclient.jar -->
    <jar destfile="${build.lib}/dbtestclient.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/dbtest/interfaces/**"/>
        <include name="org/jboss/test/dbtest/test/**"/>
      </fileset>
      <fileset dir="${build.resources}/dbtest">
        <include name="*.*"/>
      </fileset>
    </jar>

    <!-- build dbtest.jar -->
    <jar destfile="${build.lib}/dbtest.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/dbtest/interfaces/**"/>
        <include name="org/jboss/test/dbtest/ejb/**"/>
        <include name="org/jboss/test/dbtest/bean/**"/>
      </fileset>
      <fileset dir="${build.resources}/dbtest">
        <include name="**/*.xml"/>
      </fileset>
    </jar>
  </target>

  <!-- deadlock test -->
  <target name="_jars-deadlock">
    <mkdir dir="${build.lib}"/>

    <!-- build deadlocktest.jar -->
    <jar destfile="${build.lib}/deadlocktest.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/deadlock/interfaces/**"/>
        <include name="org/jboss/test/deadlock/test/**"/>
        <include name="org/somepackage/**"/>
      </fileset>
      <fileset dir="${build.resources}/deadlock">
        <include name="*.*"/>
      </fileset>
    </jar>

    <!-- build deadlock.jar -->
    <jar destfile="${build.lib}/deadlock.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/deadlock/interfaces/**"/>
        <include name="org/jboss/test/deadlock/bean/**"/>
        <include name="org/somepackage/**"/>
      </fileset>
      <fileset dir="${build.resources}/deadlock">
        <include name="**/*.xml"/>
      </fileset>
    </jar>

  </target>

   <!-- deployers test -->
   <target name="_jars-deployers">
      <mkdir dir="${build.lib}"/>

      <!-- EJB -->
      <jar destfile="${build.lib}/testdeployers-bean1ejb.jar">
         <fileset dir="${build.resources}/deployers/bean1">
            <include name="**/*.xml"/>
         </fileset>
         <fileset dir="${build.classes}">
            <include name="org/jboss/test/deployers/ejb/bean1/**"/>
         </fileset>
      </jar>

      <copy tofile="${build.lib}/notinapplicationxml-bean1ejb.jar"
            file="${build.lib}/testdeployers-bean1ejb.jar"/>

      <copy tofile="${build.lib}/bean1ejb-not.ajar"
            file="${build.lib}/testdeployers-bean1ejb.jar"/>

      <mkdir dir="${build.lib}/unpacked-bean1ejb.jar"/>
      <unzip dest="${build.lib}/unpacked-bean1ejb.jar"
             src="${build.lib}/testdeployers-bean1ejb.jar"/>

      <copy todir="${build.lib}/unpacked-bean1ejb-not.ajar">
         <fileset dir="${build.lib}/unpacked-bean1ejb.jar"/>
      </copy>

      <!-- WAR -->
      <jar destfile="${build.lib}/testdeployers-web1.war">
         <fileset dir="${build.resources}/deployers/web1">
            <include name="**/*.xml"/>
         </fileset>
      </jar>

      <copy tofile="${build.lib}/notinapplicationxml-web1.war"
            file="${build.lib}/testdeployers-web1.war"/>

      <copy tofile="${build.lib}/web1-not.awar"
            file="${build.lib}/testdeployers-web1.war"/>

      <mkdir dir="${build.lib}/unpacked-web1.war"/>
      <unzip dest="${build.lib}/unpacked-web1.war"
             src="${build.lib}/testdeployers-web1.war"/>

      <copy todir="${build.lib}/unpacked-web1-not.awar">
         <fileset dir="${build.lib}/unpacked-web1.war"/>
      </copy>

      <!-- RAR -->
      <jar destfile="${build.lib}/testdeployers-mcf1.jar">
         <fileset dir="${build.classes}">
            <include name="org/jboss/test/deployers/rar/mcf1/**"/>
         </fileset>
      </jar>

      <jar destfile="${build.lib}/testdeployers-mcf1.rar">
         <fileset dir="${build.resources}/deployers/mcf1">
            <include name="**/*.xml"/>
         </fileset>
         <fileset dir="${build.lib}">
            <include name="testdeployers-mcf1.jar"/>
         </fileset>
      </jar>

      <copy tofile="${build.lib}/notinapplicationxml-mcf1.rar"
            file="${build.lib}/testdeployers-mcf1.rar"/>

      <copy tofile="${build.lib}/mcf1-not.arar"
            file="${build.lib}/testdeployers-mcf1.rar"/>

      <mkdir dir="${build.lib}/unpacked-mcf1.rar"/>
      <unzip dest="${build.lib}/unpacked-mcf1.rar"
             src="${build.lib}/testdeployers-mcf1.rar"/>

      <copy todir="${build.lib}/unpacked-mcf1-not.arar">
         <fileset dir="${build.lib}/unpacked-mcf1.rar"/>
      </copy>

      <!-- APPCLIENT -->
      <jar destfile="${build.lib}/testdeployers-client1.jar">
         <fileset dir="${build.resources}/deployers/client1">
            <include name="**/*.xml"/>
         </fileset>
      </jar>

      <copy tofile="${build.lib}/notinapplicationxml-client1.jar"
            file="${build.lib}/testdeployers-client1.jar"/>

      <copy tofile="${build.lib}/client1-not.ajar"
            file="${build.lib}/testdeployers-client1.jar"/>

      <mkdir dir="${build.lib}/unpacked-client1.jar"/>
      <unzip dest="${build.lib}/unpacked-client1.jar"
             src="${build.lib}/testdeployers-client1.jar"/>

      <copy todir="${build.lib}/unpacked-client1-not.ajar">
         <fileset dir="${build.lib}/unpacked-client1.jar"/>
      </copy>

      <!-- DATASOURCE -->
      <copy tofile="${build.lib}/testdeployers-mcf1-ds.xml"
            file="${build.resources}/deployers/ds1/testdeployers-mcf1-ds.xml"/>

      <copy tofile="${build.lib}/notinjbossappxml-mcf1-ds.xml"
            file="${build.lib}/testdeployers-mcf1-ds.xml"/>

      <!-- SERVICE -->
      <copy tofile="${build.lib}/testdeployers-1-service.xml"
            file="${build.resources}/deployers/service1/testdeployers-1-service.xml"/>

      <copy tofile="${build.lib}/notinjbossappxml-1-service.xml"
            file="${build.lib}/testdeployers-1-service.xml"/>

      <!-- SAR -->
      <jar destfile="${build.lib}/testdeployers-mbean1.sar">
         <fileset dir="${build.resources}/deployers/mbean1">
            <include name="**/*.xml"/>
         </fileset>
         <fileset dir="${build.classes}">
            <include name="org/jboss/test/deployers/sar/mbean1/**"/>
         </fileset>
      </jar>

      <copy tofile="${build.lib}/notinjbossappxml-mbean1.sar"
            file="${build.lib}/testdeployers-mbean1.sar"/>

     <copy tofile="${build.lib}/mbean1-not.asar"
           file="${build.lib}/testdeployers-mbean1.sar"/>

     <mkdir dir="${build.lib}/unpacked-mbean1.sar"/>
     <unzip dest="${build.lib}/unpacked-mbean1.sar"
            src="${build.lib}/testdeployers-mbean1.sar"/>

     <copy todir="${build.lib}/unpacked-mbean1-not.asar">
        <fileset dir="${build.lib}/unpacked-mbean1.sar"/>
     </copy>

      <!-- EAR -->
      <jar destfile="${build.lib}/testdeployers-ear1.ear">
         <fileset dir="${build.resources}/deployers/ear1">
            <include name="**/*.xml"/>
         </fileset>
         <fileset dir="${build.lib}">
            <include name="notinapplicationxml-bean1ejb.jar"/>
            <include name="testdeployers-bean1ejb.jar"/>
            <include name="notinapplicationxml-web1.war"/>
            <include name="testdeployers-web1.war"/>
            <include name="notinapplicationxml-mcf1.rar"/>
            <include name="testdeployers-mcf1.rar"/>
            <include name="notinapplicationxml-client1.jar"/>
            <include name="testdeployers-client1.jar"/>
            <include name="notinjbossappxml-mcf1-ds.xml"/>
            <include name="testdeployers-mcf1-ds.xml"/>
            <include name="notinjbossappxml-1-service.xml"/>
            <include name="testdeployers-1-service.xml"/>
            <include name="notinjbossappxml-mbean1.sar"/>
            <include name="testdeployers-mbean1.sar"/>
         </fileset>
      </jar>

      <mkdir dir="${build.lib}/unpacked-ear1.ear"/>
      <unzip dest="${build.lib}/unpacked-ear1.ear"
             src="${build.lib}/testdeployers-ear1.ear">
         <patternset>
            <exclude name="META-INF/*.xml"/>
         </patternset>
      </unzip>
      <copy todir="${build.lib}/unpacked-ear1.ear"
            file="${build.resources}/deployers/ds1/unpacked-mcf1-ds.xml"/>
      <copy todir="${build.lib}/unpacked-ear1.ear">
         <fileset dir="${build.resources}/deployers/ear1unpacked">
            <include name="**/*.xml"/>
         </fileset>
      </copy>

      <mkdir dir="${build.lib}/unpacked-ear2.ear"/>
      <copy todir="${build.lib}/unpacked-ear2.ear">
         <fileset dir="${build.resources}/deployers/ear2">
            <include name="**/*.xml"/>
         </fileset>
      </copy>
      <mkdir dir="${build.lib}/unpacked-ear2.ear/unpacked-bean1ejb.jar"/>
      <copy todir="${build.lib}/unpacked-ear2.ear/unpacked-bean1ejb.jar">
         <fileset dir="${build.lib}/unpacked-bean1ejb.jar"/>
      </copy>
      <mkdir dir="${build.lib}/unpacked-ear2.ear/unpacked-web1.war"/>
      <copy todir="${build.lib}/unpacked-ear2.ear/unpacked-web1.war">
         <fileset dir="${build.lib}/unpacked-web1.war"/>
      </copy>
      <mkdir dir="${build.lib}/unpacked-ear2.ear/unpacked-mcf1.rar"/>
      <copy todir="${build.lib}/unpacked-ear2.ear/unpacked-mcf1.rar">
         <fileset dir="${build.lib}/unpacked-mcf1.rar"/>
      </copy>
      <mkdir dir="${build.lib}/unpacked-ear2.ear/unpacked-client1.jar"/>
      <copy todir="${build.lib}/unpacked-ear2.ear/unpacked-client1.jar">
         <fileset dir="${build.lib}/unpacked-client1.jar"/>
      </copy>
      <copy todir="${build.lib}/unpacked-ear2.ear"
            file="${build.resources}/deployers/ds1/unpacked2-mcf1-ds.xml"/>
      <copy todir="${build.lib}/unpacked-ear2.ear"
            file="${build.lib}/testdeployers-1-service.xml"/>
      <mkdir dir="${build.lib}/unpacked-ear2.ear/unpacked-mbean1.sar"/>
      <copy todir="${build.lib}/unpacked-ear2.ear/unpacked-mbean1.sar">
         <fileset dir="${build.lib}/unpacked-mbean1.sar"/>
      </copy>

   </target>

  <!-- deployment test -->
  <target name="_jars-deployment">
    <mkdir dir="${build.lib}"/>

    <!-- build deployment-web.war -->
    <war warfile="${build.lib}/deployment-web.war" webxml="${build.resources}/deployment/WEB-INF/web.xml">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/deployment/SampleServlet.class"/>
      </fileset>
    </war>

      <!-- build deployment-web-jboss.war -->
      <war warfile="${build.lib}/deployment-web-jboss.war" webxml="${build.resources}/deployment/WEB-INF/web.xml">
        <fileset dir="${build.classes}">
          <include name="org/jboss/test/deployment/SampleServlet.class"/>
        </fileset>
        <fileset dir="${build.resources}/deployment/">
          <include name="META-INF/jboss-web.xml"/>
        </fileset>
      </war>

      <!-- build deployment-ejb.jar -->
      <jar destfile="${build.lib}/deployment-ejb.jar">

        <fileset dir="${build.classes}">
          <include name="org/jboss/test/deployment/Echo*"/>
        </fileset>

        <fileset dir="${build.resources}/deployment/">
          <include name="META-INF/ejb-jar.xml"/>
        </fileset>
      </jar>

      <!-- build deployment-ejb-jboss.jar -->
      <jar destfile="${build.lib}/deployment-ejb-jboss.jar">

        <fileset dir="${build.classes}">
          <include name="org/jboss/test/deployment/Echo*"/>
        </fileset>

        <fileset dir="${build.resources}/deployment/">
          <include name="META-INF/ejb-jar.xml"/>
        </fileset>
        <fileset dir="${build.resources}/deployment/">
          <include name="META-INF/jboss.xml"/>
        </fileset>

      </jar>

      <!-- build deployment-ear.ear -->
     <ear destfile="${build.lib}/deployment-ear.ear"
           appxml="${build.resources}/deployment/META-INF/application.xml"
           update="true">
         <fileset dir="${build.lib}">
            <include name="deployment-ejb-jboss.jar"/>
            <include name="deployment-web-jboss.war"/>
         </fileset>
     </ear>

  </target>

  <!-- jca ejbconf readonly tests -->
  <target name="_jars-ejbconf">
    <mkdir dir="${build.lib}"/>

    <!-- build ejbconf-test.jar -->
    <jar destfile="${build.lib}/ejbconf-test.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/ejbconf/beans/**"/>
      </fileset>
      <fileset dir="${build.resources}/ejbconf/readonly/">
        <include name="META-INF/*.*"/>
      </fileset>
    </jar>
  </target>

  <!-- entity test -->
  <target name="_jars-entity">
    <mkdir dir="${build.lib}"/>

    <!-- build jboss-test-entity.jar -->
    <jar destfile="${build.lib}/jboss-test-entity.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/entity/interfaces/**"/>
        <include name="org/jboss/test/entity/beans/**"/>
        <include name="org/jboss/test/entity/test/EntityUnitTestCase"/>
      </fileset>
      <fileset dir="${build.resources}/entity/entity">
        <include name="**"/>
      </fileset>
    </jar>

    <!-- build jboss-test-pathological-entity.jar -->
    <jar destfile="${build.lib}/jboss-test-pathological-entity.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/entity/interfaces/**"/>
        <include name="org/jboss/test/entity/ejb/**"/>
        <include name="org/jboss/test/entity/test/PathologicalUnitTestCase"/>
      </fileset>
      <fileset dir="${build.resources}/entity/pathological">
        <include name="**"/>
      </fileset>
    </jar>

    <!-- build jboss-test-ejbload.jar -->
    <jar destfile="${build.lib}/jboss-test-ejbload.jar">
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/entity/interfaces/**"/>
        <include name="org/jboss/test/entity/ejb/**"/>
        <include name="org/jboss/test/entity/test/EJBLoadUnitTestCase"/>
      </fileset>
      <fileset dir="${build.resources}/entity/ejbload">
        <include name="**"/>
      </fileset>
    </jar>
    
    <!-- build jboss-test-unsetentitycontext.jar -->
    <jar destfile="${build.lib}/jboss-test-unsetentitycontext.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/entity/interfaces/UnsetEntityContext**"/>
        <include name="org/jboss/test/entity/ejb/UnsetEntityContext**"/>
      </fileset>
      <fileset dir="${build.resources}/entity/unsetentitycontext">
        <include name="**"/>
      </fileset>
    </jar>          
  </target>

  <!-- entityexc test -->
  <target name="_jars-entityexc">
    <mkdir dir="${build.lib}"/>

    <!-- build entityexctest.jar -->
    <jar destfile="${build.lib}/entityexctest.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/entityexc/interfaces/**"/>
        <include name="org/jboss/test/entityexc/test/**"/>
      </fileset>
      <fileset dir="${build.resources}/entityexc">
        <include name="*.*"/>
      </fileset>
    </jar>

    <!-- build entityexc.jar -->
    <jar destfile="${build.lib}/entityexc.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/entityexc/interfaces/**"/>
        <include name="org/jboss/test/entityexc/ejb/**"/>
      </fileset>
      <fileset dir="${build.resources}/entityexc">
        <include name="**/*.xml"/>
      </fileset>
    </jar>
  </target>

  <!-- excepiiop test -->
  <target name="_jars-excepiiop">
    <mkdir dir="${build.lib}"/>

    <!-- build excepiioptest.jar -->
    <jar destfile="${build.lib}/excepiioptest.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/excepiiop/interfaces/**"/>
        <include name="org/jboss/test/excepiiop/test/**"/>
      </fileset>
      <fileset dir="${build.resources}/excepiiop">
        <include name="*.*"/>
      </fileset>
    </jar>

    <!-- build excepiiop.jar -->
    <jar destfile="${build.lib}/excepiiop.jar">
      <metainf dir="${build.resources}/excepiiop/META-INF"/>
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/excepiiop/interfaces/**"/>
        <include name="org/jboss/test/excepiiop/ejb/**"/>
      </fileset>
    </jar>
  </target>

  <!-- exception tests -->
  <target name="_jars-exception">
    <mkdir dir="${build.lib}"/>

    <!-- build exception.jar -->
    <jar destfile="${build.lib}/exception.jar">
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/exception/**"/>
        <include name="org/jboss/test/util/ejb/*"/>
      </fileset>
      <fileset dir="${build.resources}/exception">
        <include name="**/*.*"/>
      </fileset>
      <zipfileset src="${junit.junit.lib}/junit.jar">
        <patternset refid="ejbrunner.set"/>
      </zipfileset>
    </jar>
  </target>

  <!-- foe-deployer test -->
  <target name="_jars-foedeployer">
    <mkdir dir="${build.lib}"/>
    <!-- First task is to copy the Foe-Deployer SAR to the current lib directory -->
    <echo>${project.root}</echo>
    <copy todir="${build.lib}" filtering="no">
      <fileset dir="${project.root}/varia/output/lib">
        <include name="foe-deployer-3.2.sar"/>
      </fileset>
    </copy>

    <!-- build foe-deployer-simple-test.wlar -->
    <jar destfile="${build.lib}/foe-deployer-simple-test.wlar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/foedeployer/ejb/simple/**"/>
      </fileset>
      <fileset dir="${build.resources}/foedeployer/simple/">
        <include name="META-INF/**"/>
      </fileset>
    </jar>

    <!-- build foe-deployer-message-test.wlar -->
    <jar destfile="${build.lib}/foe-deployer-message-test.wlar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/foedeployer/ejb/message/**"/>
      </fileset>
      <fileset dir="${build.resources}/foedeployer/message/">
        <include name="META-INF/**"/>
      </fileset>
    </jar>

    <!-- build foe-deployer-o2mb-test.wlar -->
    <jar destfile="${build.lib}/foe-deployer-o2mb-test.wlar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/foedeployer/ejb/o2mb/**"/>
      </fileset>
      <fileset dir="${build.resources}/foedeployer/o2mb/">
        <include name="META-INF/**"/>
      </fileset>
    </jar>

    <!-- build foe-deployer-m2mb-test.wlar -->
    <jar destfile="${build.lib}/foe-deployer-m2mb-test.wlar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/foedeployer/ejb/m2mb/**"/>
      </fileset>
      <fileset dir="${build.resources}/foedeployer/m2mb/">
        <include name="META-INF/**"/>
      </fileset>
    </jar>

    <!-- build foe-deployer-ql-test.wlar -->
    <jar destfile="${build.lib}/foe-deployer-ql-test.wlar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/foedeployer/ejb/ql/**"/>
      </fileset>
      <fileset dir="${build.resources}/foedeployer/ql/">
        <include name="META-INF/**"/>
      </fileset>
    </jar>
  </target>

  <!-- hello test -->
  <target name="_jars-hello">
    <mkdir dir="${build.lib}"/>

    <!-- build hellotest.jar -->
    <jar destfile="${build.lib}/hellotest.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/hello/interfaces/**"/>
        <include name="org/jboss/test/hello/test/**"/>
      </fileset>
      <fileset dir="${build.resources}/hello">
        <include name="*.*"/>
      </fileset>
    </jar>

    <!-- build hello.jar -->
    <jar destfile="${build.lib}/hello.jar">
      <metainf dir="${build.resources}/hello/META-INF">
        <include name="ejb-jar.xml"/>
        <include name="jboss.xml"/>
        <include name="jbosscmp-jdbc.xml"/>
      </metainf>
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/hello/interfaces/**"/>
        <include name="org/jboss/test/hello/ejb/**"/>
      </fileset>
    </jar>

    <!-- build hello-ha.jar -->
    <jar destfile="${build.lib}/hello-ha.jar">
      <zipfileset dir="${build.resources}/hello/META-INF"
        includes="ejb-jar-ha.xml" fullpath="META-INF/ejb-jar.xml"/>
      <zipfileset dir="${build.resources}/hello/META-INF"
        includes="jboss-ha.xml" fullpath="META-INF/jboss.xml"/>
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/hello/interfaces/**"/>
        <include name="org/jboss/test/hello/ejb/**"/>
      </fileset>
    </jar>
  </target>

  <!-- helloiiop test -->
  <target name="_jars-helloiiop">
    <mkdir dir="${build.lib}"/>

    <!-- build helloiioptest.jar -->
    <jar destfile="${build.lib}/helloiioptest.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/helloiiop/interfaces/**"/>
        <include name="org/jboss/test/helloiiop/test/**"/>
      </fileset>
      <fileset dir="${build.resources}/helloiiop">
        <include name="*.*"/>
      </fileset>
    </jar>

    <!-- build helloiiop.jar -->
    <jar destfile="${build.lib}/helloiiop.jar">
      <metainf dir="${build.resources}/helloiiop/META-INF"/>
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/helloiiop/interfaces/**"/>
        <include name="org/jboss/test/helloiiop/ejb/**"/>
      </fileset>
    </jar>
  </target>

  <!-- hellojrmpiiop test -->
  <target name="_jars-hellojrmpiiop">
    <mkdir dir="${build.lib}"/>

    <!-- build hellojrmpiioptest.jar -->
    <jar destfile="${build.lib}/hellojrmpiioptest.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/hellojrmpiiop/interfaces/**"/>
        <include name="org/jboss/test/hellojrmpiiop/test/**"/>
      </fileset>
      <fileset dir="${build.resources}/hellojrmpiiop">
        <include name="*.*"/>
      </fileset>
    </jar>

    <!-- build hellojrmpiiop.jar -->
    <jar destfile="${build.lib}/hellojrmpiiop.jar">
      <metainf dir="${build.resources}/hellojrmpiiop/META-INF"/>
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/hellojrmpiiop/interfaces/**"/>
        <include name="org/jboss/test/hellojrmpiiop/ejb/**"/>
      </fileset>
    </jar>
  </target>

  <target name="_jars-hibernate">
    <mkdir dir="${build.lib}"/>

    <jar basedir="${build.classes}" destfile="${build.lib}/hib-test.har">
      <metainf dir="${build.resources}/hibernate/mappings">
        <include name="*"/>
      </metainf>
      <metainf dir="${build.resources}/hibernate/har-deployment">
        <include name="*"/>
      </metainf>
      <include name="org/jboss/test/hibernate/model/*"/>
    </jar>

    <jar basedir="${build.classes}" destfile="${build.lib}/hib-test-ejb.jar">
      <metainf dir="${build.resources}/hibernate/ejb/META-INF">
        <include name="*"/>
      </metainf>
      <include name="org/jboss/test/hibernate/ejb/**"/>
      <include name="org/jboss/test/hibernate/ProfileService.class"/>
      <include name="org/jboss/test/hibernate/SimpleInterceptor.class"/>
    </jar>

    <ear earfile="${build.lib}/hib-test.ear"
      appxml="${build.resources}/hibernate/ear/application.xml">
      <metainf dir="${build.resources}/hibernate/ear">
        <include name="jboss-app.xml"/>
      </metainf>
      <fileset dir="${build.lib}">
        <include name="hib-test-ejb.jar"/>
        <include name="hib-test.har"/>
      </fileset>
    </ear>

     <jar basedir="${build.classes}" destfile="${build.lib}/hib-timers.har">
       <metainf dir="${build.resources}/hibernate/ejbtimers">
          <include name="jboss-service.xml"/>
          <include name="Timers.hbm.xml"/>
       </metainf>
        <include name="org/jboss/test/hibernate/SimpleInterceptor.class" />
     </jar>
     <jar basedir="${build.classes}" destfile="${build.lib}/hib-timers.jar">
       <metainf dir="${build.resources}/hibernate/ejbtimers">
          <include name="ejb-jar.xml"/>
          <include name="jboss.xml"/>
       </metainf>
       <include name="org/jboss/test/hibernate/timers/**"/>
       <fileset dir="${build.lib}">
          <include name="hib-timers.har" />
       </fileset>
     </jar>
  </target>

  <!-- httpsessionreplication test -->
  <target name="_jars-httpsessionreplication">
    <mkdir dir="${build.lib}"/>

    <!-- build httpsessionreplication.jar -->
    <jar destfile="${build.lib}/httpsessionreplication.jar">
      <!--
     <fileset dir="${build.classes}">
       <patternset refid="jboss.test.util.ejb.set"/>
       <include name="org/jboss/test/testbean/interfaces/**"/>
       <include name="org/jboss/test/testbeancluster/interfaces/**"/>
       <include name="org/jboss/test/testbean/bean/**"/>
       <include name="org/jboss/test/testbeancluster/bean/**"/>
     </fileset>
     -->
      <fileset dir="${build.resources}/cluster">
        <include name="**/*.xml"/>
      </fileset>
    </jar>
  </target>

  <!-- idgen test -->
  <target name="_jars-idgen">
    <mkdir dir="${build.lib}"/>

    <!-- build idgentest.jar -->
    <jar destfile="${build.lib}/idgentest.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/idgen/interfaces/**"/>
        <include name="org/jboss/test/idgen/test/**"/>
      </fileset>
      <fileset dir="${build.resources}/idgen">
        <include name="*.*"/>
      </fileset>
    </jar>

    <!-- build idgen.jar -->
    <jar destfile="${build.lib}/idgen.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/idgen/interfaces/**"/>
        <include name="org/jboss/test/idgen/ejb/**"/>
        <include name="org/jboss/test/idgen/beans/**"/>
      </fileset>
      <fileset dir="${build.resources}/idgen">
        <include name="**/*.xml"/>
      </fileset>
    </jar>
  </target>

  <!-- iiop parameter passing test -->
  <target name="_jars-iiop">
    <mkdir dir="${build.lib}"/>

    <!-- build iioptest.jar -->
    <jar destfile="${build.lib}/iioptest.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/iiop/interfaces/**"/>
        <include name="org/jboss/test/iiop/util/**"/>
        <include name="org/jboss/test/iiop/test/**"/>
      </fileset>
      <fileset dir="${build.resources}/iiop">
        <include name="*.*"/>
      </fileset>
    </jar>

    <!-- build iiop.jar -->
    <jar destfile="${build.lib}/iiop.jar">
      <metainf dir="${build.resources}/iiop/META-INF"/>
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/iiop/interfaces/**"/>
        <include name="org/jboss/test/iiop/util/**"/>
        <include name="org/jboss/test/iiop/ejb/**"/>
      </fileset>
    </jar>
  </target>

  <!-- invokers test -->
  <target name="_jars-invokers">
    <mkdir dir="${build.lib}"/>

    <!-- build invokers-client.jar -->
    <jar destfile="${build.lib}/invokers-client.jar"
     >
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/invokers/interfaces/**"/>
      </fileset>
    </jar>

    <!-- build invokers-comp.jar -->
    <jar destfile="${build.lib}/invokers.sar">
      <metainf dir="${build.resources}/invokers/service-inf"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/invokers/ejb/Compression*.class"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/invokers.jar">
      <metainf dir="${build.resources}/invokers/META-INF"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/invokers/interfaces/**"/>
        <include name="org/jboss/test/invokers/ejb/**"/>
      </fileset>
      <fileset dir="${build.lib}">
        <include name="invokers.sar"/>
      </fileset>
    </jar>
  </target>

  <!-- isolation test -->
  <target name="_jars-isolation">
    <mkdir dir="${build.lib}"/>

    <!-- build isolationA.jar -->
    <jar destfile="${build.lib}/isolationA.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/isolation/ejb/a/**"/>
        <include name="org/jboss/test/isolation/interfaces/**"/>
        <include name="org/jboss/test/util/Debug.class"/>
      </fileset>
      <fileset dir="${build.resources}/isolation/a/ejb">
        <include name="META-INF/*.xml"/>
      </fileset>
    </jar>

    <!-- build isolationB.jar -->
    <jar destfile="${build.lib}/isolationB.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/isolation/ejb/b/**"/>
        <include name="org/jboss/test/isolation/interfaces/**"/>
        <include name="org/jboss/test/util/Debug.class"/>
      </fileset>
      <fileset dir="${build.resources}/isolation/b/ejb">
        <include name="META-INF/*.xml"/>
      </fileset>
    </jar>

    <!-- build isolationA.ear -->
    <jar destfile="${build.lib}/isolationA.ear">
      <fileset dir="${build.lib}">
        <include name="isolationA.jar"/>
      </fileset>
      <fileset dir="${build.resources}/isolation/a/ear">
        <include name="META-INF/*.xml"/>
      </fileset>
    </jar>

    <!-- build isolationB.ear -->
    <jar destfile="${build.lib}/isolationB.ear">
      <fileset dir="${build.lib}">
        <include name="isolationB.jar"/>
      </fileset>
      <fileset dir="${build.resources}/isolation/b/ear">
        <include name="META-INF/*.xml"/>
      </fileset>
    </jar>

    <!-- build isolationC.war -->
    <war warfile="${build.lib}/isolationC.war"
      webxml="${build.resources}/isolation/c/war/WEB-INF/web.xml">
      <webinf dir="${build.resources}/isolation/c/war">
        <include name="WEB-INF/*.xml"/>
        <exclude name="WEB-INF/web.xml"/>
      </webinf>
      <classes dir="${build.classes}">
        <include name="org/jboss/test/isolation/web/c/**"/>
      </classes>
      <classes dir="${build.resources}/isolation/c/war/WEB-INF/classes">
        <include name="**/*"/>
      </classes>
      <lib dir="${apache.log4j.lib}">
        <include name="log4j.jar"/>
      </lib>
    </war>

    <!-- build isolationC.ear -->
    <jar destfile="${build.lib}/isolationC.ear">
      <fileset dir="${build.lib}">
        <include name="isolationC.war"/>
      </fileset>
      <fileset dir="${build.resources}/isolation/c/ear">
        <include name="META-INF/*.xml"/>
      </fileset>
    </jar>
  </target>

  <!-- jbossmq test -->
  <target name="_jars-jbossmq">
    <mkdir dir="${build.lib}"/>

    <!-- build jbossmqtest.jar -->
    <jar destfile="${build.lib}/jbossmqtest.jar"
     >
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jbossmq/**"/>
      </fileset>
    </jar>

     <copy tofile="${build.lib}/overridden-uil2-service.xml"
           file="${build.resources}/jbossmq/overridden-uil2-service.xml"/>

  </target>

  <!-- JbossMX tests -->
  <target name="_jars-jbossmx">
    <mkdir dir="${build.lib}"/>

    <!-- build compliance.jar -->
    <jar destfile="${build.lib}/jbossmx-compliance.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/jbossmx/compliance/**"/>
      </fileset>
    </jar>

    <!-- build implementation.jar -->
    <jar destfile="${build.lib}/jbossmx-implementation.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/jbossmx/implementation/**"/>
      </fileset>
    </jar>

    <!-- build performance.jar -->
    <jar destfile="${build.lib}/jbossmx-performance.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/jbossmx/performance/**"/>
      </fileset>
    </jar>
  </target>

  <!-- jbossnet tests -->
  <target name="_jars-jbossnet">
    <mkdir dir="${build.lib}"/>

    <!-- The admindevel test archives -->
    <jar destfile="${build.lib}/jbossnet-admindevel.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jbossnet/admindevel/**"/>
        <exclude name="org/jboss/test/jbossnet/admindevel/HelloServiceLocator.class"/>
        <exclude name="org/jboss/test/jbossnet/admindevel/HelloSoapBindingStub.class"/>
        <exclude name="org/jboss/test/jbossnet/admindevel/HelloTestCase.class"/>
      </fileset>
      <metainf dir="${build.resources}/jbossnet/admindevel/ejb/META-INF">
        <include name="ejb-jar.xml"/>
      </metainf>
    </jar>
    <jar destfile="${build.lib}/jbossnet-admindevel.wsr">
      <metainf dir="${build.resources}/jbossnet/admindevel/wsr/META-INF">
        <include name="web-service.xml"/>
      </metainf>
    </jar>
    <ear destfile="${build.lib}/jbossnet-admindevel.ear"
      appxml="${build.resources}/jbossnet/admindevel/META-INF/application.xml">
      <fileset dir="${build.lib}">
        <include name="jbossnet-admindevel.jar"/>
        <include name="jbossnet-admindevel.wsr"/>
      </fileset>
    </ear>

    <!-- The document test archives -->
    <jar destfile="${build.lib}/jbossnet-document.wsr">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jbossnet/document/**"/>
        <exclude name="org/jboss/test/jbossnet/document/*TestCase.class"/>
      </fileset>
      <metainf dir="${build.resources}/jbossnet/document/META-INF">
        <include name="web-service.xml"/>
      </metainf>
    </jar>

    <!-- The ejbsimple test archives -->
    <jar destfile="${build.lib}/jbossnet-ejbsimple.wsr">
      <fileset dir="${build.resources}/jbossnet/ejbsimple/wsr">
        <include name="**/*"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/jbossnet-ejbsimple.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/util/**"/>
        <include name="org/jboss/test/jbossnet/ejbsimple/**"/>
        <exclude name="org/jboss/test/jbossnet/ejbsimple/*Test*"/>
      </fileset>
      <fileset dir="${build.resources}/jbossnet/ejbsimple/ejb/">
        <include name="**/*.xml"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/jbossnet-ejbsimple.ear">
      <fileset dir="${build.lib}">
        <include name="jbossnet-ejbsimple.wsr"/>
        <include name="jbossnet-ejbsimple.jar"/>
      </fileset>
      <fileset dir="${build.resources}/jbossnet/ejbsimple/ear/">
        <include name="**"/>
      </fileset>
    </jar>

    <!-- The external test archives -->
    <jar destfile="${build.lib}/jbossnet-external.wsr">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jbossnet/external/google/*.class"/>
        <include name="org/jboss/test/jbossnet/external/babelfish/*.class"/>
      </fileset>
      <fileset dir="${build.resources}/jbossnet/external/wsr/">
        <include name="**/*"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/jbossnet-external.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/util/**"/>
        <include name="org/jboss/test/jbossnet/external/**/*.class"/>
        <exclude name="org/jboss/test/jbossnet/external/google/**/*.class"/>
        <exclude name="org/jboss/test/jbossnet/external/babelfish/**/*.class"/>
        <exclude name="org/jboss/test/jbossnet/external/*Test*"/>
      </fileset>
      <fileset dir="${build.resources}/jbossnet/external/ejb/">
        <include name="**/*"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/jbossnet-external.ear">
      <fileset dir="${build.lib}">
        <include name="jbossnet-external.wsr"/>
        <include name="jbossnet-external.jar"/>
      </fileset>
      <fileset dir="${build.resources}/jbossnet/external/ear/">
        <include name="**/META-INF/application.xml"/>
      </fileset>
    </jar>

    <!-- The jmx test archives -->
    <jar destfile="${build.lib}/jbossnet-jmx.wsr">
      <fileset dir="${build.resources}/jbossnet/jmx/wsr">
        <include name="**/*"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/jbossnet-jmx.sar">
      <fileset dir="${build.lib}">
        <include name="jbossnet-jmx.wsr"/>
      </fileset>
      <fileset dir="${build.resources}/jbossnet/jmx/sar/">
        <include name="**/*"/>
      </fileset>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jbossnet/jmx/server/*"/>
      </fileset>
    </jar>

    <!-- The message test archives -->
    <jar destfile="${build.lib}/jbossnet-message.wsr">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jbossnet/message/**"/>
        <exclude name="org/jboss/test/jbossnet/message/*TestCase.class"/>
      </fileset>
      <metainf dir="${build.resources}/jbossnet/message/META-INF">
        <include name="web-service.xml"/>
      </metainf>
    </jar>

    <!-- The security test archives -->
    <jar jarFile="${build.lib}/jbossnet-security.wsr">
      <fileset dir="${build.resources}/jbossnet/security/wsr">
        <include name="**/*"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/jbossnet-security.jar">
      <fileset dir="${build.classes}">
        <include name="**/test/util/**"/>
        <include name="**/test/jbossnet/security/**"/>
        <exclude name="**/*TestCase*.*"/>
      </fileset>
      <fileset dir="${build.resources}/jbossnet/security/ejb/">
        <include name="**/*.xml"/>
      </fileset>
      <fileset dir="${build.resources}/jbossnet/security/server/">
        <include name="**/*.xml"/>
      </fileset>
    </jar>
    <jar jarFile="${build.lib}/jbossnet-security.ear">
      <fileset dir="${build.lib}">
        <include name="jbossnet-security.wsr"/>
        <include name="jbossnet-security.jar"/>
      </fileset>
      <fileset dir="${build.resources}/jbossnet/security/ear">
        <include name="**/*.xml"/>
      </fileset>
    </jar>

    <!-- The servicename test archives -->
    <jar jarFile="${build.lib}/jbossnet-servicename.wsr">
      <fileset dir="${build.resources}/jbossnet/servicename/wsr">
        <include name="**/*"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/jbossnet-servicename.jar">
      <fileset dir="${build.classes}">
        <include name="**/test/jbossnet/servicename/GreetingTO.class"/>
        <include name="**/test/jbossnet/servicename/HelloBeanImpl.class"/>
        <include name="**/test/jbossnet/servicename/HelloBeanHome.class"/>
        <include name="**/test/jbossnet/servicename/HelloBeanRemote.class"/>
      </fileset>
      <fileset dir="${build.resources}/jbossnet/servicename/ejb/">
        <include name="**/*.xml"/>
      </fileset>
    </jar>
    <jar jarFile="${build.lib}/jbossnet-servicename.ear">
      <fileset dir="${build.lib}">
        <include name="jbossnet-servicename.wsr"/>
        <include name="jbossnet-servicename.jar"/>
      </fileset>
      <fileset dir="${build.resources}/jbossnet/servicename/ear">
        <include name="**/*.xml"/>
      </fileset>
    </jar>

    <!-- The state test archives -->
    <jar jarFile="${build.lib}/jbossnet-state.wsr">
      <fileset dir="${build.resources}/jbossnet/state/wsr">
        <include name="**/*"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/jbossnet-state.jar">
      <fileset dir="${build.classes}">
        <include name="**/test/util/**"/>
        <include name="**/test/jbossnet/state/**"/>
        <exclude name="**/*Test*.*"/>
      </fileset>
      <fileset dir="${build.resources}/jbossnet/state/ejb/">
        <include name="**/*.xml"/>
      </fileset>
    </jar>
    <jar jarFile="${build.lib}/jbossnet-state.ear">
      <fileset dir="${build.lib}">
        <include name="jbossnet-state.wsr"/>
        <include name="jbossnet-state.jar"/>
      </fileset>
      <fileset dir="${build.resources}/jbossnet/state/ear">
        <include name="**"/>
      </fileset>
    </jar>

    <!-- The wsr test archives -->
    <mkdir dir="${build.resources}/jbossnet/wsr/wsr/META-INF"/>
    <copy toFile="${build.resources}/jbossnet/wsr/wsr/META-INF/web-service.xml"
      file="${build.gen-src}/org/jboss/test/jbossnet/wsr/deploy.wsdd"/>
    <jar destfile="${build.lib}/jbossnet-wsr.wsr">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jbossnet/wsr/**/*.class"/>
        <exclude name="**/*Test*"/>
      </fileset>
      <fileset dir="${build.resources}/jbossnet/wsr/wsr"/>
    </jar>

  </target>

  <!-- jca test -->
  <target name="_jars-jca">
    <mkdir dir="${build.lib}"/>

    <!-- build test jdbc driver with config inside sar -->
    <jar destfile="${build.lib}/jbosstestdriver.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jca/jdbc/**"/>
      </fileset>
    </jar>


    <!-- build test adapter -->
    <jar destfile="${build.lib}/jbosstestadapter.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jca/adapter/**"/>
      </fileset>
    </jar>

    <jar destfile="${build.lib}/jbosstestadapter.rar">
      <fileset dir="${build.lib}">
        <include name="jbosstestadapter.jar"/>
      </fileset>
      <fileset dir="${build.resources}/jca/adapter">
        <include name="META-INF/ra.xml"/>
      </fileset>
    </jar>

    <!-- -->
    <jar destfile="${build.lib}/notxfs.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jca/fs/**"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/notxfs.rar">
      <fileset dir="${build.lib}">
        <include name="notxfs.jar"/>
      </fileset>
      <fileset dir="${build.resources}/jca/fs">
        <include name="META-INF/ra.xml"/>
      </fileset>
    </jar>

    <!-- test adapter config -->
    <copy todir="${build.lib}" filtering="no">
      <fileset dir="${build.resources}/jca/adapter">
        <include name="testadapter-ds.xml"/>
      </fileset>
      <fileset dir="${build.resources}/jca/jdbc">
        <include name="testdriver-ds.xml"/>
      </fileset>
    </copy>

    <!-- test ha ds config -->
    <copy todir="${build.lib}" filtering="no">
      <fileset dir="${build.resources}/jca/ha">
        <include name="test-ha-ds.xml"/>
        <include name="test-ha-xa-ds.xml"/>
      </fileset>
    </copy>

    <!-- build adminobject adapter -->
    <jar destfile="${build.lib}/testadminobject.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jca/adminobject/**"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/testadminobject.rar">
      <fileset dir="${build.lib}">
        <include name="testadminobject.jar"/>
      </fileset>
      <fileset dir="${build.resources}/jca/adminobject">
        <include name="META-INF/ra.xml"/>
      </fileset>
    </jar>
    <copy todir="${build.lib}" filtering="no">
      <fileset dir="${build.resources}/jca/adminobject">
        <include name="*.xml"/>
      </fileset>
    </copy>

    <!-- build inflow adapter -->
    <jar destfile="${build.lib}/jcainflow.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jca/inflow/**"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/jcainflow.rar">
      <fileset dir="${build.lib}">
        <include name="jcainflow.jar"/>
      </fileset>
      <fileset dir="${build.resources}/jca/inflow">
        <include name="META-INF/ra.xml"/>
      </fileset>
    </jar>

    <!-- build inflow adapter -->
    <jar destfile="${build.lib}/jcainflowmdb.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jca/inflowmdb/**"/>
      </fileset>
      <fileset dir="${build.resources}/jca/inflowmdb">
        <include name="**/*.xml"/>
      </fileset>
    </jar>

    <!-- pscache.jar -->
    <zip destfile="${build.lib}/pscache.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jca/interfaces/PreparedStatement*"/>
        <include name="org/jboss/test/jca/ejb/PreparedStatementBean*"/>
      </fileset>
      <zipfileset dir="${build.resources}/jca/pscache" prefix="META-INF">
        <include name="ejb-jar.xml"/>
        <include name="jboss.xml"/>
      </zipfileset>
      <fileset dir="${build.resources}/jca/pscache">
        <include name="hsqldb-ps-ds.xml"/>
      </fileset>
    </zip>

    <!-- build jcatest.jar -->
    <jar destfile="${build.lib}/jcatest.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jca/interfaces/**"/>
        <include name="org/jboss/test/jca/ejb/**"/>
      </fileset>
      <fileset dir="${build.resources}/jca">
        <include name="META-INF/*.xml"/>
      </fileset>
    </jar>

    <!-- build jcatest-unshared.jar -->
    <jar destfile="${build.lib}/jcatest-unshared.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jca/interfaces/Unshareable**"/>
        <include name="org/jboss/test/jca/ejb/Unshareable**"/>
      </fileset>
      <fileset dir="${build.resources}/jca/ejb">
        <include name="META-INF/*.xml"/>
      </fileset>
    </jar>

    <jar destfile="${build.lib}/jcabanktest.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jca/bank/interfaces/**"/>
        <include name="org/jboss/test/jca/bank/ejb/**"/>
      </fileset>
      <fileset dir="${build.resources}/jca/bank">
        <include name="**/*.xml"/>
      </fileset>
    </jar>

    <jar destfile="${build.lib}/jcaxadstest.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jca/xads/**"/>
      </fileset>
      <fileset dir="${build.resources}/jca/xads">
        <include name="*.xml"/>
      </fileset>
    </jar>

    <!-- build mtjcatest.sar -->
    <jar destfile="${build.lib}/mtjcatest.sar">
      <metainf dir="${build.resources}/jca/mbean">
        <include name="jboss-service.xml"/>
      </metainf>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jca/mbean/**"/>
      </fileset>
    </jar>

   <!-- test adapter config -->
   <copy todir="${build.lib}" filtering="no">
     <fileset dir="${build.resources}/jca/mt">
       <include name="mttestadapter-ds.xml"/>
     </fileset>
   </copy>

    <!--copy the plain *-service.xml files too -->
    <copy todir="${build.lib}" filtering="no">
      <fileset dir="${build.resources}/jca/autocommit">
        <include name="*.xml"/>
      </fileset>
    </copy>

    <jar destfile="${build.lib}/jca-securedejb.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jca/securedejb/**"/>
      </fileset>
      <fileset dir="${build.lib}">
        <include name="notxfs.rar"/>
      </fileset>
      <fileset dir="${build.resources}/jca/securedejb">
        <include name="**/*.xml"/>
      </fileset>
    </jar>
  </target>

   <!-- jca property test -->
   <target name="_jars-jcaprops">
      <mkdir dir="${build.lib}"/>

      <!-- Common classes -->
      <jar destfile="${build.lib}/testjcaprops.jar">
         <fileset dir="${build.classes}">
            <include name="org/jboss/test/jcaprops/support/**"/>
         </fileset>
      </jar>

      <!-- Good MDB -->
      <jar destfile="${build.lib}/testjcaprops-good.jar">
         <fileset dir="${build.resources}/jcaprops/goodmdb">
            <include name="**/*.xml"/>
         </fileset>
      </jar>

      <!-- Good rar -->
      <jar destfile="${build.lib}/testjcaprops-good.rar">
         <fileset dir="${build.resources}/jcaprops/goodrar">
            <include name="**/*.xml"/>
            <include name="goodrar-ds.xml"/>
         </fileset>
         <fileset dir="${build.lib}">
            <include name="testjcaprops.jar"/>
            <include name="testjcaprops-good.jar"/>
         </fileset>
      </jar>

      <!-- Uppercase Good MDB -->
      <jar destfile="${build.lib}/testjcaprops-upper-good.jar">
         <fileset dir="${build.resources}/jcaprops/uppergoodmdb">
            <include name="**/*.xml"/>
         </fileset>
      </jar>

      <!-- Uppercase Good rar -->
      <jar destfile="${build.lib}/testjcaprops-upper-good.rar">
         <fileset dir="${build.resources}/jcaprops/uppergoodrar">
            <include name="**/*.xml"/>
         </fileset>
         <fileset dir="${build.lib}">
            <include name="testjcaprops.jar"/>
            <include name="testjcaprops-upper-good.jar"/>
         </fileset>
      </jar>
   </target>

  <!-- jmsra test -->
  <target name="_jars-jmsra">
    <mkdir dir="${build.lib}"/>

    <!-- build jmsratest.jar -->
    <jar destfile="${build.lib}/jmsratest.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/jmsra/interfaces/**"/>
        <include name="org/jboss/test/jmsra/test/**"/>
      </fileset>
      <fileset dir="${build.resources}/jmsra">
        <include name="*.*"/>
      </fileset>
    </jar>

    <!-- build jmsra.jar -->
    <jar destfile="${build.lib}/jmsra.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/jmsra/interfaces/**"/>
        <include name="org/jboss/test/jmsra/ejb/**"/>
        <include name="org/jboss/test/jmsra/bean/**"/>
      </fileset>
      <fileset dir="${build.resources}/jmsra">
        <include name="**/*.xml"/>
      </fileset>
    </jar>
  </target>

  <!-- jrmp test -->
  <target name="_jars-jrmp">
    <mkdir dir="${build.lib}"/>

    <!-- build jrmp-comp-client.jar -->
    <jar destfile="${build.lib}/jrmp-comp-client.jar"
     >
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jrmp/interfaces/**"/>
      </fileset>
    </jar>

    <!-- build comp-client.jar -->
    <jar destfile="${build.lib}/comp-client.jar"
     >
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jrmp/ejb/Compression*.class"/>
      </fileset>
    </jar>

    <!-- build jrmp-comp.jar -->
    <jar destfile="${build.lib}/jrmp-comp.sar">
      <metainf dir="${build.resources}/jrmp/service-inf"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jrmp/ejb/Compression*.class"/>
      </fileset>
      <fileset dir="${build.resources}/test-configs/tomcat-ssl/conf">
        <include name="localhost.keystore"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/jrmp-comp.jar">
      <metainf dir="${build.resources}/jrmp/META-INF"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jrmp/interfaces/**"/>
        <include name="org/jboss/test/jrmp/ejb/**"/>
      </fileset>
      <fileset dir="${build.lib}">
        <include name="jrmp-comp.sar"/>
      </fileset>
    </jar>

    <!-- build jrmp-dl-client.jar -->
    <jar destfile="${build.lib}/jrmp-dl-client.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/jrmp/interfaces/**"/>
        <include name="org/jboss/test/jrmp/test/DynLoading*.class"/>
        <include name="org/jboss/test/JBossTestCase.class"/>
        <include name="org/jboss/test/JBossTestServices.class"/>
      </fileset>
    </jar>

    <!-- build jrmp-dl.jar -->
    <jar destfile="${build.lib}/jrmp-dl.jar">
      <metainf dir="${build.resources}/jrmp/META-INF">
        <exclude name="jboss.xml"/>
      </metainf>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jrmp/interfaces/**"/>
        <include name="org/jboss/test/jrmp/ejb/**"/>
      </fileset>
    </jar>

     <!-- build jrmp-dl.sar -->
     <jar destfile="${build.lib}/jrmp-dl.sar">
       <metainf dir="${build.resources}/jrmp/sar/META-INF"/>
       <fileset dir="${build.classes}">
         <include name="org/jboss/test/jrmp/interfaces/IString.class"/>
         <include name="org/jboss/test/jrmp/ejb/AString.class"/>
     <include name="org/jboss/test/jrmp/mbean/**"/>
       </fileset>
     </jar>
     <unjar src="${build.lib}/jrmp-dl.sar"
       dest="${build.lib}/jrmp-dl-unpacked.sar"/>
  </target>

  <!-- jmx test -->
  <target name="_jars-jmx">
    <mkdir dir="${build.lib}"/>
    <property name="jmx-rsrc" value="${build.resources}/jmx"/>

    <!-- build jmxtest.jar -->
    <jar destfile="${build.lib}/jmxtest.jar"
     >
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/**"/>
        <exclude name="org/jboss/test/jmx/mbean*/**"/>
      </fileset>
      <fileset dir="${build.resources}/jmx">
        <include name="test-service.xml"/>
        <include name="META-INF/ejb-jar.xml"/>
        <include name="META-INF/jboss.xml"/>
      </fileset>
    </jar>

    <!--build test sar for testing sar deployment -->
    <jar destfile="${build.lib}/testdeploy.sar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/mbean/TestDeployer**"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/mbean">
        <include name="META-INF/jboss-service.xml"/>
      </fileset>
    </jar>

    <jar destfile="${build.lib}/defaultpkg.sar">
      <metainf dir="${build.resources}/jmx/default"/>
      <fileset dir="${build.classes}">
        <include name="DefaultPkgService*"/>
      </fileset>
    </jar>

    <jar destfile="${build.lib}/attrtest.sar">
      <metainf dir="${build.resources}/jmx/attrs"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/attrs/AttrTests*"/>
      </fileset>
    </jar>

    <jar destfile="${build.lib}/conftestnormal.sar">
      <metainf dir="${build.resources}/jmx/conf/normal"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/conf/**"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/conftestscoped.sar">
      <metainf dir="${build.resources}/jmx/conf/scoped"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/conf/**"/>
      </fileset>
    </jar>
        
    <jar destfile="${build.lib}/testdeploya.sar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/mbeana/**"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/mbeana">
        <include name="META-INF/jboss-service.xml"/>
      </fileset>
    </jar>

    <jar destfile="${build.lib}/testdeployb.sar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/mbeanb/**"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/mbeanb">
        <include name="META-INF/jboss-service.xml"/>
      </fileset>
    </jar>

    <jar destfile="${build.lib}/testdeployc.sar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/mbeanc/**"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/mbeanc">
        <include name="META-INF/jboss-service.xml"/>
      </fileset>
    </jar>


    <jar destfile="${build.lib}/testdeployd.sar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/mbeand/**"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/mbeand">
        <include name="META-INF/jboss-service.xml"/>
      </fileset>
    </jar>

    <jar destfile="${build.lib}/testdeploye-util.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/mbeane/util/*"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/testdeploye.sar">
      <metainf dir="${build.resources}/jmx/mbeane/META-INF"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/mbeane/*"/>
      </fileset>
      <fileset dir="${build.lib}">
        <include name="testdeploye-util.jar"/>
      </fileset>
    </jar>

    <jar destfile="${build.lib}/jmxproxy.sar">
      <metainf dir="${build.resources}/jmx/proxy/META-INF"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/proxy/*.class"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/jmxproxyscoped.sar">
      <metainf dir="${build.resources}/jmx/proxy/scoped"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/proxy/*.class"/>
      </fileset>
    </jar>

    <!-- ExternalClass ear including a sar and util jar -->
    <jar destfile="${build.lib}/external.sar"
      manifest="${build.resources}/jmx/loading/ext/manifest.mf">
      <metainf dir="${build.resources}/jmx/loading/ext">
        <include name="jboss-service.xml"/>
      </metainf>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/loading/ExternalClass*"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/external-util.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/loading/util/*"/>
      </fileset>
    </jar>
    <ear earfile="${build.lib}/external.ear"
      appxml="${jmx-rsrc}/loading/ext/application.xml">
      <metainf dir="${build.resources}/jmx/loading/ext">
        <include name="jboss-app.xml"/>
      </metainf>
      <fileset dir="${build.lib}">
        <include name="external.sar"/>
        <include name="external-util.jar"/>
      </fileset>
    </ear>

    <!-- ResourceTsts case#1, a sar with the classes and resources -->
    <jar destfile="${build.lib}/rsrc1.sar">
      <metainf dir="${build.resources}/jmx/loading/rsrc1"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/loading/ResourceTsts*"/>
      </fileset>
    </jar>
    <!-- ResourceTsts case#2, a sar with the resources and the
      service in a nested jar
    -->
    <jar destfile="${build.lib}/rsrcsvc.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/loading/ResourceTsts*"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/rsrc2.sar">
      <metainf dir="${build.resources}/jmx/loading/rsrc2"/>
      <fileset dir="${build.lib}">
        <include name="rsrcsvc.jar"/>
      </fileset>
    </jar>
    <!-- ResourceTsts case#3, a jar with two sars with only
      the service descriptor metadata and a jar containing the
      service code.
    -->
    <jar destfile="${build.lib}/rsrc31.sar">
      <metainf dir="${build.resources}/jmx/loading/rsrc1"/>
    </jar>
    <jar destfile="${build.lib}/rsrc32.sar">
      <metainf dir="${build.resources}/jmx/loading/rsrc2"/>
    </jar>
    <jar destfile="${build.lib}/rsrc3.jar">
      <fileset dir="${build.lib}">
        <include name="rsrcsvc.jar"/>
        <include name="rsrc31.sar"/>
        <include name="rsrc32.sar"/>
      </fileset>
    </jar>
    <!-- ResourceTsts case#4, a sar with a service descriptor with
      mulitiple mbeans, a resource file with multiple configs
      using a namespace, and the service code in a nested jar
    -->
    <jar destfile="${build.lib}/rsrc4.sar">
      <metainf dir="${build.resources}/jmx/loading/rsrc4"/>
      <fileset dir="${build.lib}">
        <include name="rsrcsvc.jar"/>
      </fileset>
    </jar>

    <!-- Tests that a sar jboss-service.xml can include an entity ref
    -->
    <jar destfile="${build.lib}/entityref.sar">
      <metainf dir="${build.resources}/jmx/loading/entityref"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/loading/NoopService*"/>
      </fileset>
    </jar>

    <!--build test sar for testing local directory copy deployment -->
    <jar destfile="${build.lib}/testcopylocaldir.sar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/mbean/**"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/mbeanlocaldir">
        <include name="META-INF/jboss-service.xml"/>
        <include name="local-directory/**"/>
      </fileset>
    </jar>
    <!--copy the plain *-service.xml files too -->
    <copy todir="${build.lib}" filtering="no">
      <fileset dir="${build.resources}/jmx">
        <include name="*.xml"/>
      </fileset>
    </copy>

    <!--build test sar for testing crash during start -->
    <jar destfile="${build.lib}/testcrashinstart.sar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/mbeancrashtest/**"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/mbeancrashtest">
        <include name="META-INF/jboss-service.xml"/>
      </fileset>
    </jar>

    <!--build sar for testing invalid Dynamic MBean that returns null MBeanInfo -->
    <jar destfile="${build.lib}/testnullinfo.sar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/nullinfo/**"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/nullinfo">
        <include name="META-INF/jboss-service.xml"/>
      </fileset>
    </jar>

    <!--build sar containing broken deployer.  I don't know how to use this in a unit test-->
    <jar destfile="${build.lib}/brokendeployer.sar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/deployer/**"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/deployer">
        <include name="META-INF/jboss-service.xml"/>
      </fileset>
    </jar>

    <!--just a jar, service.xml separate-->
    <jar destfile="${build.lib}/testmbeanclassloader.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/mbean/TestMB**"/>
      </fileset>
    </jar>

    <!--eardeployment, 2 jars of 1 session bean each-->
    <!--IMPORTANT!! this test relies on the dd's being in the "wrong" jar -->
    <!--the point of the test is to see if the classes in one jar are visible to
      the deployment descriptors of the other jar -->
    <jar destfile="${build.lib}/sessiona.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/eardeployment/a/**"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/eardeployment/b/">
        <include name="META-INF/ejb-jar.xml"/>
        <include name="META-INF/jboss.xml"/>
      </fileset>
    </jar>

    <jar destfile="${build.lib}/sessionb.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/eardeployment/b/**"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/eardeployment/a/">
        <include name="META-INF/ejb-jar.xml"/>
        <include name="META-INF/jboss.xml"/>
      </fileset>
    </jar>

    <jar destfile="${build.lib}/eardeployment.ear">
      <fileset dir="${build.lib}">
        <include name="sessiona.jar"/>
        <include name="sessionb.jar"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/eardeployment/">
        <include name="META-INF/application.xml"/>
      </fileset>
    </jar>

    <!-- eardepends test -->
    <jar destfile="${build.lib}/eardependsaejb.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/eardepends/dependent/ejb/*.class"/>
        <include name="org/jboss/test/jmx/eardepends/dependent/interfaces/*.class"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/eardepends/dependent">
        <include name="META-INF/ejb-jar.xml"/>
        <include name="META-INF/jboss.xml"/>
      </fileset>
    </jar>

    <jar destfile="${build.lib}/eardependsbejb.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/eardepends/independent/ejb/*.class"/>
        <include name="org/jboss/test/jmx/eardepends/independent/interfaces/*.class"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/eardepends/independent">
        <include name="META-INF/ejb-jar.xml"/>
        <include name="META-INF/jboss.xml"/>
      </fileset>
    </jar>

    <jar destfile="${build.lib}/eardependsmbean.sar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/eardepends/mbean/*.class"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/eardepends/mbean">
        <include name="META-INF/jboss-service.xml"/>
      </fileset>
    </jar>

    <jar destfile="${build.lib}/eardepends.ear">
      <fileset dir="${build.lib}">
        <include name="eardependsaejb.jar"/>
        <include name="eardependsbejb.jar"/>
        <include name="eardependsmbean.sar"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/eardepends/app">
        <include name="META-INF/application.xml"/>
        <include name="META-INF/jboss-app.xml"/>
      </fileset>
    </jar>

    <!-- Unpackaged ear test -->
    <mkdir dir="${build.lib}/unpacked/eardeployment.ear/META-INF"/>
    <copy file="${build.resources}/jmx/eardeployment/META-INF/application.xml"
      todir="${build.lib}/unpacked/eardeployment.ear/META-INF"/>
    <unjar src="${build.lib}/sessiona.jar"
      dest="${build.lib}/unpacked/eardeployment.ear/sessiona.jar"/>
    <unjar src="${build.lib}/sessionb.jar"
      dest="${build.lib}/unpacked/eardeployment.ear/sessionb.jar"/>

    <!-- cpmanifest test -->
    <jar destfile="${build.lib}/abstract.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/loading/Abstract*"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/concrete.jar"
      manifest="${build.resources}/jmx/loading/cpmanifest/META-INF/manifest.mf">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/loading/Concrete*"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/loading/cpmanifest/">
        <include name="META-INF/ejb-jar.xml"/>
      </fileset>
    </jar>
    <ear earfile="${build.lib}/cpmanifest.ear"
      appxml="${jmx-rsrc}/loading/cpmanifest/META-INF/application.xml">
      <fileset dir="${build.lib}">
        <include name="abstract.jar"/>
        <include name="concrete.jar"/>
      </fileset>
    </ear>

    <!-- cpcircular-manifest test -->
    <jar destfile="${build.lib}/abstract2.jar"
      manifest="${jmx-rsrc}/loading/cpmanifest/META-INF/a2cmanifest.mf">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/loading/Abstract*"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/concrete2.jar"
      manifest="${jmx-rsrc}/loading/cpmanifest/META-INF/c2amanifest.mf">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/loading/Concrete*"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/loading/cpmanifest/">
        <include name="META-INF/ejb-jar.xml"/>
      </fileset>
    </jar>
    <ear earfile="${build.lib}/cpcircular-manifest.ear"
      appxml="${jmx-rsrc}/loading/cpmanifest/META-INF/application-circular.xml">
      <fileset dir="${build.lib}">
        <include name="abstract2.jar"/>
        <include name="concrete2.jar"/>
      </fileset>
    </ear>

    <!-- cpejbs-manifest test -->
    <jar destfile="${build.lib}/ejbjar1.jar"
      manifest="${jmx-rsrc}/loading/cpmanifest/META-INF/ejbjar1.mf">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/eardeployment/a/**"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/eardeployment/a/">
        <include name="META-INF/ejb-jar.xml"/>
        <include name="META-INF/jboss.xml"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/ejbjar2.jar"
      manifest="${jmx-rsrc}/loading/cpmanifest/META-INF/ejbjar2.mf">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/eardeployment/b/**"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/eardeployment/b/">
        <include name="META-INF/ejb-jar.xml"/>
        <include name="META-INF/jboss.xml"/>
      </fileset>
    </jar>
    <ear earfile="${build.lib}/cpejbs-manifest.ear"
      appxml="${jmx-rsrc}/loading/cpmanifest/META-INF/application-ejbs.xml">
      <fileset dir="${build.lib}">
        <include name="ejbjar1.jar"/>
        <include name="ejbjar2.jar"/>
      </fileset>
    </ear>

    <!-- jar in sar with jsr-77 mbeans -->
    <jar destfile="${build.lib}/jarinsar.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/ejb/TestDataSourceBean.class"/>
        <include name="org/jboss/test/jmx/interfaces/TestDataSource*.class"/>
      </fileset>
      <fileset dir="${build.resources}/jmx">
        <include name="META-INF/ejb-jar.xml"/>
      </fileset>
    </jar>

    <jar destfile="${build.lib}/jarinsar.sar">
      <fileset dir="${build.lib}">
        <include name="jarinsar.jar"/>
      </fileset>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/mbeana/**"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/mbeana">
        <include name="META-INF/jboss-service.xml"/>
      </fileset>
    </jar>

    <!--package with external jndi dependencies, for undeploy of broken package-->
    <jar destfile="${build.lib}/undeploybroken.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/ejb/Entity*.class"/>
        <include name="org/jboss/test/jmx/interfaces/Entity*.class"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/undeploy">
        <include name="META-INF/*.xml"/>
      </fileset>
    </jar>

    <!-- EJB jars used by UndeployBrokenPackageUnitTestCase -->
    <jar destfile="${build.lib}/ejbredeploy-bad.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/ejb/EntityABean.class"/>
        <include name="org/jboss/test/jmx/interfaces/EntityA*.class"/>
      </fileset>
      <metainf dir="${build.resources}/jmx/undeploy/bad-inf"/>
    </jar>
    <jar destfile="${build.lib}/ejbredeploy-good.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/ejb/EntityABean.class"/>
        <include name="org/jboss/test/jmx/interfaces/EntityA*.class"/>
      </fileset>
      <metainf dir="${build.resources}/jmx/undeploy/good-inf"/>
    </jar>

    <!-- SimpleService tests -->
    <jar jarfile="${build.lib}/jmx-simpleservice.sar">
      <metainf dir="${build.resources}/jmx/simpleservice/META-INF"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/simpleservice/*.class"/>
      </fileset>
    </jar>

    <!-- ListenerServiceMBeanSupport, filterfactory tests -->
    <jar jarfile="${build.lib}/listener-simpletest.sar">
      <metainf dir="${build.resources}/jmx/listener/simpletestservice/META-INF"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/listener/TestService.class"/>
        <include name="org/jboss/test/jmx/listener/TestServiceMBean.class"/>
      </fileset>
    </jar>
    <jar jarfile="${build.lib}/listener-deploymentinfo.sar">
      <metainf dir="${build.resources}/jmx/listener/deploymentinfo/META-INF"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/listener/NotificationListener.class"/>
        <include name="org/jboss/test/jmx/listener/NotificationListenerMBean.class"/>
      </fileset>
    </jar>

    <!--xmbean test deployment-->
    <jar destfile="${build.lib}/user-xmbean.sar">
      <metainf dir="${build.resources}/jmx/xmbean/META-INF"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/xmbean/*.class"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/xmbean">
        <include name="**/User.xml"/>
      </fileset>
    </jar>

    <!--xmbean embedded dd tests -->
    <jar destfile="${build.lib}/user2-xmbean-embedded.sar">
      <metainf dir="${build.resources}/jmx/xmbean/embedded"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/xmbean/User2.class"/>
        <include name="org/jboss/test/jmx/xmbean/CustomType*.class"/>
      </fileset>
    </jar>
    <!--xmbean persistence tests -->
    <jar destfile="${build.lib}/user2-xmbean.sar">
      <metainf dir="${build.resources}/jmx/xmbean/user2"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/xmbean/User2.class"/>
        <include name="org/jboss/test/jmx/xmbean/XMLFilePersistenceManager.class"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/user3-xmbean.sar">
      <metainf dir="${build.resources}/jmx/xmbean/user2"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/xmbean/User2.class"/>
        <include name="org/jboss/test/jmx/xmbean/XMLFilePersistenceManager.class"/>
      </fileset>
    </jar>
    <copy todir="${build.lib}">
      <fileset dir="${build.resources}/jmx/xmbean">
        <include name="RemoveUser2Store.bsh"/>
        <include name="RemoveUser3Store.bsh"/>
      </fileset>
    </copy>

    <!-- xmbean XMLAttributePersistenceManagerTestService -->
    <jar jarfile="${build.lib}/xmlapm-xmbean.sar">
      <metainf dir="${build.resources}/jmx/xmbean/xml-attr-pers/META-INF"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/xmbean/XMLAttributePersistenceManagerTestService.class"/>
      </fileset>
    </jar>

    <!-- xmbean AVC generation from wrapped standard mbean impl -->
    <jar jarfile="${build.lib}/listener-xmbean.sar">
      <metainf dir="${build.resources}/jmx/xmbean/listener/META-INF"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/xmbean/SelfListenerService.class"/>
      </fileset>
    </jar>

      <!-- xmbean that exposes the Interceptable interface -->
      <jar jarfile="${build.lib}/interceptable-xmbean.sar">
        <metainf dir="${build.resources}/jmx/interceptors/interceptable/META-INF"/>
        <fileset dir="${build.classes}">
          <include name="org/jboss/test/jmx/interceptors/AdderPOJO.class"/>
        </fileset>
      </jar>

      <!-- mbean that attached an interceptor to the Interceptable xmbean -->
      <jar jarfile="${build.lib}/adderinterceptor-mbean.sar">
        <metainf dir="${build.resources}/jmx/interceptors/adderinterceptor/META-INF"/>
        <fileset dir="${build.classes}">
          <include name="org/jboss/test/jmx/interceptors/AdderInterceptorService.class"/>
          <include name="org/jboss/test/jmx/interceptors/AdderInterceptorServiceMBean.class"/>
        </fileset>
      </jar>

    <!-- Tests of xmbeans with custom interceptors -->
    <jar destfile="${build.lib}/interceptors-xmbean.sar">
      <metainf dir="${build.resources}/jmx/interceptors">
        <include name="jboss-service.xml"/>
        <include name="secured-xmbean.xml"/>
        <include name="naming-xmbean.xml"/>
      </metainf>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/interceptors/*.class"/>
      </fileset>
      <fileset dir="${build.resources}">
        <include name="jmx/interceptors/*.properties"/>
        <include name="jmx/interceptors/security-config.xml"/>
        <include name="jmx/interceptors/scripts/*"/>
      </fileset>
    </jar>

    <!-- Test xmbean descriptor importing an external xml entity -->
    <jar destfile="${build.lib}/xmbean-entity-import.sar">
      <metainf dir="${build.resources}/jmx/xmbean/xmbean-entity-import">
        <include name="jboss-service.xml"/>
        <include name="xmbean.xml"/>
        <include name="operations.ent"/>
      </metainf>
    </jar>
    
    <!-- ha-invoker adaptor sar -->
    <jar destfile="${build.lib}/ha-invoker.sar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/ha/*.class"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/ha/">
        <include name="META-INF/*.xml"/>
      </fileset>
    </jar>

    <!-- invoker adaptor test sar -->
    <jar destfile="${build.lib}/invoker-adaptor-test.sar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/invoker/*.class"/>
        <include name="org/jboss/test/jmx/interceptors/PrincipalInterceptor.class"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/invoker/sar">
        <include name="META-INF/*.xml"/>
      </fileset>
    </jar>

    <!-- invoker adaptor test ear -->
    <jar destfile="${build.lib}/invoker-adaptor-test.ear">
      <fileset dir="${build.lib}">
        <include name="invoker-adaptor-test.sar"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/invoker/ear">
        <include name="META-INF/*.xml"/>
      </fileset>
    </jar>

    <!-- invoker proxy test sar -->
    <jar jarfile="${build.lib}/invoker-proxy-test.sar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/invokerproxy/*.class"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/invokerproxy">
        <include name="META-INF/*.xml"/>
      </fileset>
    </jar>

    <property environment="env"/>
    <property name="win32.drive" value="${env.SYSTEMDRIVE}"/>
    <pathconvert targetos="unix" property="codebaseURL">
      <map from="${win32.drive}" to=""/>
      <path path="${build.lib}"/>
    </pathconvert>
    <echo message="+++ codebase=${codebaseURL}"/>
    <echo message="+++ build.lib=${build.lib}"/>
    <copy todir="${build.lib}" filtering="true" overwrite="true"
      file="${build.resources}/jmx/archivestest-service.xml">
      <filterset>
        <filter token="codebase" value="file://${codebaseURL}"/>
      </filterset>
    </copy>

    <!-- internal test sar -->
    <jar destfile="${build.lib}/jmx-nointernal.sar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/internal/*.class"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/internal">
        <include name="META-INF/*.xml"/>
      </fileset>
    </jar>

    <!-- explicit standard interface sar -->
    <jar destfile="${build.lib}/explicit-standard-interface.sar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/standard/**"/>
      </fileset>
      <fileset dir="${build.resources}/jmx/standard">
        <include name="META-INF/jboss-service.xml"/>
      </fileset>
    </jar>

    <!-- A shutdown sar for the minimal config test -->
    <jar destfile="${build.lib}/shutdown.sar">
      <metainf dir="${build.resources}/jmx/shutdown"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/jmx/shutdown/*"/>
      </fileset>
    </jar>
  </target>

  <!-- jsr77 test -->
  <target name="_jars-jsr77">
    <mkdir dir="${build.lib}"/>

    <!-- Copy the ejb connector -->
    <copy file="${jboss.management.lib}/ejb-management.jar"
      todir="${build.lib}"/>
  </target>

     <!-- kernel test -->
     <target name="_jars-kernel">
        <mkdir dir="${build.lib}"/>

        <jar destfile="${build.lib}/testkernel-simplepojo.beans">
           <fileset dir="${build.resources}/kernel/deployment/simplepojo">
              <include name="**/*.xml"/>
           </fileset>
           <fileset dir="${build.classes}">
              <include name="org/jboss/test/kernel/deployment/jboss/beans/*.class"/>
              <include name="org/jboss/test/kernel/deployment/jboss/beans/simplepojo/**"/>
           </fileset>
        </jar>

        <jar destfile="${build.lib}/testkernel-configpojo.beans">
           <fileset dir="${build.resources}/kernel/deployment/configpojo">
              <include name="**/*.xml"/>
           </fileset>
           <fileset dir="${build.classes}">
              <include name="org/jboss/test/kernel/deployment/jboss/beans/*.class"/>
              <include name="org/jboss/test/kernel/deployment/jboss/beans/configpojo/**"/>
           </fileset>
        </jar>

        <jar destfile="${build.lib}/testkernel-configproperties.beans">
           <fileset dir="${build.resources}/kernel/deployment/configproperties">
              <include name="**/*.xml"/>
           </fileset>
           <fileset dir="${build.classes}">
              <include name="org/jboss/test/kernel/deployment/jboss/beans/**"/>
           </fileset>
        </jar>

        <jar destfile="${build.lib}/testkernel-servicepojo.beans">
           <fileset dir="${build.resources}/kernel/deployment/servicepojo">
              <include name="**/*.xml"/>
           </fileset>
           <fileset dir="${build.classes}">
              <include name="org/jboss/test/kernel/deployment/jboss/beans/*.class"/>
              <include name="org/jboss/test/kernel/deployment/jboss/beans/servicepojo/**"/>
           </fileset>
        </jar>

        <jar destfile="${build.lib}/testkernel-dependspojo.beans">
           <fileset dir="${build.resources}/kernel/deployment/dependspojo">
              <include name="**/*.xml"/>
           </fileset>
           <fileset dir="${build.classes}">
              <include name="org/jboss/test/kernel/deployment/jboss/beans/*.class"/>
              <include name="org/jboss/test/kernel/deployment/jboss/beans/dependspojo/**"/>
           </fileset>
        </jar>

        <jar destfile="${build.lib}/testkernel-dependspojo.ear">
           <fileset dir="${build.resources}/kernel/deployment/dependspojoear">
              <include name="**/*.xml"/>
           </fileset>
           <fileset dir="${build.lib}">
              <include name="testkernel-dependspojo.beans"/>
           </fileset>
        </jar>
     </target>

  <!-- load test -->
  <target name="_jars-load">
    <mkdir dir="${build.lib}"/>

    <!-- build loadtest.jar -->
    <jar destfile="${build.lib}/load.jar"
     >
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/load/test/**"/>
        <include name="org/jboss/test/testbean/interfaces/**"/>
        <include name="org/jboss/test/bmp/interfaces/**"/>
      </fileset>
    </jar>
  </target>

  <!-- lock test -->
  <target name="_jars-lock">
    <mkdir dir="${build.lib}"/>

    <!-- build locktestclient.jar -->
    <jar destfile="${build.lib}/locktestclient.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/lock/interfaces/**"/>
        <include name="org/jboss/test/lock/test/**"/>
      </fileset>
      <fileset dir="${build.resources}/lock">
        <include name="*.*"/>
      </fileset>
    </jar>

    <!-- build locktest.jar -->
    <jar destfile="${build.lib}/locktest.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/lock/interfaces/**"/>
        <include name="org/jboss/test/lock/bean/**"/>
      </fileset>
      <fileset dir="${build.resources}/lock">
        <include name="**/*.xml"/>
      </fileset>
    </jar>
  </target>

  <!-- marathon test -->
  <target name="_jars-marathon">
    <mkdir dir="${build.lib}"/>

    <!-- build marathon.jar -->
    <jar destfile="${build.lib}/marathon.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/marathon/**"/>
      </fileset>
    </jar>
  </target>

  <!-- mdb test -->
  <target name="_jars-mdb">
    <mkdir dir="${build.lib}"/>

    <!-- build mdbtest.jar -->
    <jar destfile="${build.lib}/mdbtest.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/mdb/bean/**"/>
        <include name="org/jboss/test/mdb/test/**"/>
      </fileset>
      <fileset dir="${build.resources}/mdb">
        <include name="*.*"/>
      </fileset>
    </jar>

    <!-- build mdb.jar -->
    <jar destfile="${build.lib}/mdb.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/mdb/bean/**"/>
      </fileset>
      <fileset dir="${build.resources}/mdb">
        <include name="**/*.xml"/>
      </fileset>
    </jar>
  </target>

  <!-- messagedriven test -->
  <target name="_jars-messagedriven">
    <mkdir dir="${build.lib}"/>

    <!-- build jmscontainerinvoker.jar -->
    <jar destfile="${build.lib}/jmscontainerinvoker.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/messagedriven/beans/**"/>
      </fileset>
      <fileset dir="${build.resources}/messagedriven/jmscontainerinvoker">
        <include name="**/*.xml"/>
      </fileset>
    </jar>

    <!-- build testmessagedriven.jar -->
    <jar destfile="${build.lib}/testmessagedriven.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/messagedriven/beans/**"/>
      </fileset>
      <fileset dir="${build.resources}/messagedriven/jar">
        <include name="**/*.xml"/>
      </fileset>
    </jar>

    <!-- build testmessagedriven.sar -->
    <jar destfile="${build.lib}/testmessagedriven.sar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/messagedriven/mbeans/**"/>
      </fileset>
      <fileset dir="${build.resources}/messagedriven/sar">
        <include name="**/*.xml"/>
      </fileset>
    </jar>

  </target>

  <!-- JBoss Media tests -->
  <target name="_jars-media">
    <mkdir dir="${build.lib}"/>

    <!-- build media-entity.jar -->
    <jar destfile="${build.lib}/media-entity.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/media/entity/**"/>
      </fileset>
      <fileset dir="${build.resources}/media/entity">
        <include name="**/*.*"/>
      </fileset>
      <zipfileset src="${junitejb.junitejb.lib}/junitejb.jar"
        includes="net/**/*.*"/>
      <zipfileset src="${junit.junit.lib}/junit.jar">
        <patternset refid="ejbrunner.set"/>
      </zipfileset>
    </jar>
  </target>

  <!-- naming test -->
  <target name="_jars-naming">
    <mkdir dir="${build.lib}"/>
    <mkdir dir="${build.lib}/subdir"/>

    <!-- build naming.jar -->
    <jar destfile="${build.lib}/naming.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/naming/ejb/**"/>
        <include name="org/jboss/test/naming/interfaces/**"/>
        <include name="org/jboss/test/util/Debug.class"/>
        <include name="org/jboss/test/util/ejb/*"/>
      </fileset>
      <fileset dir="${build.resources}/naming">
        <include name="JndiConfig.bsh"/>
      </fileset>
      <zipfileset dir="${build.resources}/naming" prefix="security">
        <include name="*.properties"/>
      </zipfileset>
      <zipfileset src="${junit.junit.lib}/junit.jar">
        <patternset refid="ejbrunner.set"/>
      </zipfileset>
      <fileset dir="${build.resources}/naming/jar">
        <include name="META-INF/*.xml"/>
      </fileset>
      <fileset dir="${build.resources}/naming/services">
        <include name="jaas-config.xml"/>
        <include name="login-config-service.xml"/>
      </fileset>
    </jar>

    <!-- build remote-naming.jar -->
    <jar destfile="${build.lib}/remote-naming.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/naming/ejb/**"/>
        <include name="org/jboss/test/naming/interfaces/**"/>
        <include name="org/jboss/test/util/Debug.class"/>
      </fileset>
      <fileset dir="${build.resources}/remote-naming">
        <include name="**/*.xml"/>
      </fileset>
    </jar>

    <!-- build naminga.jar -->
    <jar destfile="${build.lib}/subdir/naminga.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/naming/ejb/**"/>
        <include name="org/jboss/test/naming/interfaces/**"/>
        <include name="org/jboss/test/util/Debug.class"/>
      </fileset>
      <fileset dir="${build.resources}/naming/ear/a">
        <include name="META-INF/*.xml"/>
      </fileset>
    </jar>

    <!-- build namingb.jar -->
    <jar destfile="${build.lib}/namingb.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/naming/ejb/**"/>
        <include name="org/jboss/test/naming/interfaces/**"/>
        <include name="org/jboss/test/util/Debug.class"/>
      </fileset>
      <fileset dir="${build.resources}/naming/ear/b">
        <include name="META-INF/*.xml"/>
      </fileset>
    </jar>

    <!-- build naming.ear -->
    <jar destfile="${build.lib}/naming.ear">
      <fileset dir="${build.lib}">
        <include name="subdir/naminga.jar"/>
        <include name="namingb.jar"/>
      </fileset>
      <fileset dir="${build.resources}/naming/ear">
        <include name="META-INF/*.xml"/>
      </fileset>
    </jar>

    <jar destfile="${build.lib}/naming-readonly.sar">
      <metainf dir="${build.resources}/naming/services">
        <include name="jboss-service.xml"/>
      </metainf>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/naming/interceptors/*"/>
      </fileset>
    </jar>

    <!-- A pooled invoker test sar -->
    <jar destfile="${build.lib}/naming-pooled.sar">
      <zipfileset dir="${build.resources}/naming/services"
        fullpath="META-INF/jboss-service.xml">
        <include name="pooled-service.xml"/>
      </zipfileset>
      <fileset dir="${build.resources}/naming/services">
        <include name="naming-xmbean.xml"/>
      </fileset>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/naming/interceptors/*"/>
      </fileset>
    </jar>
  </target>

  <!-- perf test -->
  <target name="_jars-perf">
    <mkdir dir="${build.lib}"/>

    <!-- build perftest.jar -->
    <jar destfile="${build.lib}/perftest.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/perf/interfaces/**"/>
        <include name="org/jboss/test/perf/test/**"/>
      </fileset>
      <fileset dir="${build.resources}/perf">
        <include name="*.*"/>
      </fileset>
    </jar>

    <!-- build perf.jar -->
    <jar destfile="${build.lib}/perf.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/perf/interfaces/**"/>
        <include name="org/jboss/test/perf/ejb/**"/>
      </fileset>
      <metainf dir="${build.resources}/perf/META-INF">
        <exclude name="jboss-service.xml"/>
      </metainf>
    </jar>
    <!-- build probe.jar -->
    <jar destfile="${build.lib}/probe.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/perf/interfaces/Perf*"/>
        <include name="org/jboss/test/perf/interfaces/Probe*"/>
        <include name="org/jboss/test/perf/ejb/Perf*"/>
        <include name="org/jboss/test/perf/ejb/Probe*"/>
        <include name="org/jboss/test/util/Debug.class"/>
      </fileset>
      <metainf dir="${build.resources}/perf/probe">
        <exclude name="jboss-service.xml"/>
      </metainf>
    </jar>

    <!-- build secure-perf.jar -->
    <jar destfile="${build.lib}/secure-perf.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/perf/interfaces/**"/>
        <include name="org/jboss/test/perf/ejb/**"/>
      </fileset>
      <metainf dir="${build.resources}/secure-perf/META-INF"/>
      <fileset dir="${build.resources}/secure-perf">
        <include name="users.properties"/>
        <include name="roles.properties"/>
      </fileset>
    </jar>

    <!-- build the perf-service.sar -->
    <jar destfile="${build.lib}/perf-service.sar">
      <!-- jboss-service.xml for tomcat plugin -->
      <metainf dir="${build.resources}/perf">
        <include name="jboss-service.xml"/>
      </metainf>
      <!-- The service classes -->
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/perf/test/PerfTest.class"/>
        <include name="org/jboss/test/perf/test/PerfTestMBean.class"/>
      </fileset>
      <!-- The perf.jar -->
      <fileset dir="${build.lib}">
        <include name="perf.jar"/>
      </fileset>
    </jar>

    <!-- build the perf-service2.sar, does not include perf.jar -->
    <jar destfile="${build.lib}/perf-service2.sar">
      <!-- jboss-service.xml for tomcat plugin -->
      <metainf dir="${build.resources}/perf">
        <include name="jboss-service.xml"/>
      </metainf>
      <!-- The service classes -->
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/perf/test/PerfTest.class"/>
        <include name="org/jboss/test/perf/test/PerfTestMBean.class"/>
      </fileset>
    </jar>

    <!-- The perf-service ear -->
    <ear earfile="${build.lib}/perf-service.ear"
      appxml="${build.resources}/perf/application.xml">
      <fileset dir="${build.lib}">
        <include name="perf.jar"/>
        <include name="perf-service2.sar"/>
      </fileset>
    </ear>
  </target>

  <!-- pooled test -->
  <target name="_jars-pooled">
    <mkdir dir="${build.lib}"/>

    <!-- build pooledtest.jar -->
    <jar destfile="${build.lib}/pooledtest.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/pooled/interfaces/**"/>
        <include name="org/jboss/test/pooled/test/**"/>
        <include name="org/somepackage/**"/>
      </fileset>
      <fileset dir="${build.resources}/pooled">
        <include name="*.*"/>
      </fileset>
    </jar>

    <!-- build pooled.jar -->
    <jar destfile="${build.lib}/pooled.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/pooled/interfaces/**"/>
        <include name="org/jboss/test/pooled/bean/**"/>
        <include name="org/somepackage/**"/>
      </fileset>
      <fileset dir="${build.resources}/pooled">
        <include name="**/*.xml"/>
      </fileset>
    </jar>

  </target>

  <!-- proxy compiler tests -->
  <target name="_jars-proxycompiler">
    <mkdir dir="${build.lib}"/>

    <!-- build ejbconf-test.jar -->
    <jar destfile="${build.lib}/proxycompiler-test.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/proxycompiler/beans/**"/>
      </fileset>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/proxycompiler/*"/>
      </fileset>
      <fileset dir="${build.resources}/proxycompiler/">
        <include name="META-INF/*"/>
      </fileset>
    </jar>

  </target>

  <!-- readahead test -->
  <target name="_jars-readahead">
    <mkdir dir="${build.lib}"/>

    <!-- build readaheadtest.jar -->
    <jar destfile="${build.lib}/readaheadtest.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/readahead/interfaces/**"/>
        <include name="org/jboss/test/readahead/test/**"/>
      </fileset>
      <fileset dir="${build.resources}/readahead">
        <include name="*.*"/>
      </fileset>
    </jar>

    <!-- build readahead.jar -->
    <jar destfile="${build.lib}/readahead.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/readahead/interfaces/**"/>
        <include name="org/jboss/test/readahead/ejb/**"/>
      </fileset>
      <fileset dir="${build.resources}/readahead">
        <include name="**/*.xml"/>
      </fileset>
    </jar>
  </target>

  <!-- retry test -->
  <target name="_jars-retry">
    <mkdir dir="${build.lib}"/>

    <!-- build retry.jar -->
    <jar destfile="${build.lib}/retrytest.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/retry/interfaces/**"/>
        <include name="org/jboss/test/retry/test/**"/>
      </fileset>
      <fileset dir="${build.resources}/retry">
        <include name="*.*"/>
      </fileset>
    </jar>

    <!-- build retry.jar -->
    <jar destfile="${build.lib}/retry.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/retry/interfaces/**"/>
        <include name="org/jboss/test/retry/bean/**"/>
      </fileset>
      <fileset dir="${build.resources}/retry">
        <include name="**/*.xml"/>
      </fileset>
    </jar>
  </target>

  <!-- security test -->
  <target name="_jars-security">
    <mkdir dir="${build.lib}"/>

    <!-- caller-info.jar -->
    <jar destfile="${build.lib}/caller-info.jar">
      <metainf dir="${build.resources}/security/caller-info">
        <include name="ejb-jar.xml"/>
        <include name="jboss.xml"/>
        <include name="caller-info-config.xml"/>
      </metainf>
      <fileset dir="${build.resources}/security/caller-info">
        <include name="login-service.xml"/>
      </fileset>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/security/ejb/Cmp2Bean.*"/>
        <include name="org/jboss/test/security/ejb/SubjectSessionBean.*"/>
        <include name="org/jboss/test/security/ejb/StatelessSessionBean4.*"/>
        <include name="org/jboss/test/security/ejb/StatefulSessionBean.*"/>
        <include name="org/jboss/test/security/interfaces/**"/>
      </fileset>
    </jar>

    <!-- build security-client.jar -->
    <jar destfile="${build.lib}/security-client.jar"
     >
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/security/interfaces/**"/>
      </fileset>
    </jar>

    <!-- build security-spec.jar -->
    <jar destfile="${build.lib}/security-spec.sar">
      <metainf dir="${build.resources}/security-spec/service-inf"/>
      <fileset dir="${build.resources}/security">
        <include name="tst.keystore"/>
      </fileset>
    </jar>
    <jar destfile="${build.lib}/security-spec.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/security/interfaces/**"/>
        <include name="org/jboss/test/security/ejb/**"/>
        <include name="org/jboss/test/security/test/Namespace*"/>
        <include name="org/jboss/test/security/test/PermissionName*"/>
      </fileset>
      <fileset dir="${build.resources}/security-spec">
        <include name="META-INF/ejb-jar.xml"/>
        <include name="META-INF/jboss.xml"/>
        <include name="users.properties"/>
        <include name="roles.properties"/>
      </fileset>
      <fileset dir="${build.lib}">
        <include name="security-spec.sar"/>
      </fileset>
    </jar>

    <!-- build security-srp.jar and security-srp.sar -->
    <jar destfile="${build.lib}/security-srp.sar">
      <metainf dir="${build.resources}/security-srp/service-inf"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/security/service/PropertiesVerifierStore*.class"/>
        <include name="org/jboss/test/security/service/SecurityConfig*.class"/>
        <include name="org/jboss/test/security/service/SRPCache*.class"/>
        <include name="org/jboss/test/security/interceptors/**"/>
      </fileset>
      <fileset dir="${build.resources}/security-srp">
        <include name="users.properties"/>
      </fileset>
    </jar>

    <jar destfile="${build.lib}/security-srp.jar">
      <metainf dir="${build.resources}/security-srp/ejb-inf"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/security/ejb/StatelessSessionBean.class"/>
        <include name="org/jboss/test/security/interfaces/StatelessSession*"/>
      </fileset>
      <fileset dir="${build.resources}/security-srp">
        <include name="users.properties"/>
        <include name="roles.properties"/>
      </fileset>
      <fileset dir="${build.lib}">
        <include name="security-srp.sar"/>
      </fileset>
    </jar>

    <!-- build https-service.sar -->
    <jar destfile="${build.lib}/https-service.sar">
      <metainf dir="${build.resources}/security/https-service"/>
      <metainf dir="${build.resources}/security">
        <include name="tst.keystore"/>
      </metainf>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/security/service/Https*.class"/>
      </fileset>
    </jar>

    <!-- build security-proxy.jar -->
    <jar destfile="${build.lib}/security-proxy.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/security/ejb/IOStatelessSessionBean.class"/>
        <include name="org/jboss/test/security/ejb/IOStatefulSessionBean.class"/>
        <include name="org/jboss/test/security/interfaces/IOSession.class"/>
        <include name="org/jboss/test/security/interfaces/IOSessionHome.class"/>
        <include name="org/jboss/test/security/interfaces/ReadAccessException.class"/>
        <include name="org/jboss/test/security/proxy/SessionSecurityProxy.class"/>
      </fileset>
      <fileset dir="${build.resources}/security-proxy">
        <include name="*.properties"/>
      </fileset>
      <metainf dir="${build.resources}/security-proxy/META-INF"/>
    </jar>

    <!-- build securitymgr-ejb.jar -->
    <jar destfile="${build.lib}/securitymgr-ejb.jar">
      <metainf dir="${build.resources}/securitymgr/META-INF"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/securitymgr/ejb/**"/>
        <include name="org/jboss/test/securitymgr/interfaces/**"/>
      </fileset>
    </jar>

    <!-- build securitymgr-tests.jar -->
    <jar destfile="${build.lib}/securitymgr-tests.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/*.class"/>
        <include name="org/jboss/test/securitymgr/test/**"/>
      </fileset>
    </jar>

    <!-- build security-jaas.jar -->
    <jar destfile="${build.lib}/security-jaas.sar">
      <metainf dir="${build.resources}/security/service-inf"/>
    </jar>
    <war warfile="${build.lib}/security-jaas.war"
      webxml="${build.resources}/security/WEB-INF/jaas-web.xml">
      <webinf dir="${build.resources}/security/WEB-INF">
        <include name="jboss-web.xml"/>
      </webinf>
      <classes dir="${build.classes}">
        <include name="org/jboss/test/security/servlets/**"/>
      </classes>
    </war>
    <jar destfile="${build.lib}/security-jaas.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/security/interfaces/CustomPrincipal*"/>
        <include name="org/jboss/test/security/ejb/CustomPrincipal*"/>
      </fileset>
      <fileset dir="${build.resources}/security">
        <include name="META-INF/ejb-jar.xml"/>
        <include name="META-INF/jboss.xml"/>
      </fileset>
    </jar>
    <ear earfile="${build.lib}/security-jaas.ear"
      appxml="${build.resources}/security/META-INF/application-jaas.xml">
      <metainf dir="${build.resources}/security/META-INF">
        <include name="jboss-app.xml"/>
      </metainf>
      <fileset dir="${build.lib}">
        <include name="security-jaas.jar"/>
        <include name="security-jaas.sar"/>
        <include name="security-jaas.war"/>
      </fileset>
      <zipfileset dir="${build.resources}/security" prefix="security">
        <include name="roles.properties"/>
        <include name="users.properties"/>
      </zipfileset>
    </ear>

    <!-- web-constraints.war -->
    <war warfile="${build.lib}/web-constraints.war"
      webxml="${build.resources}/security/web-constraints/web.xml">
      <classes dir="${build.resources}/security/web-constraints/">
        <include name="*.properties"/>
      </classes>
      <classes dir="${build.classes}">
        <include name="org/jboss/test/security/servlets/ConstraintsServlet.class"/>
      </classes>
    </war>
  </target>

  <!-- session test -->
  <target name="_jars-session">
    <mkdir dir="${build.lib}"/>

    <!-- build test-session-remove.jar -->
    <jar destfile="${build.lib}/test-session-remove.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/session/interfaces/Count**"/>
        <include name="org/jboss/test/session/ejb/Count**"/>
      </fileset>
      <fileset dir="${build.resources}/session/session-remove">
        <include name="**"/>
      </fileset>
    </jar>
  </target>
   
  <!-- testbean test -->
  <target name="_jars-testbean">
    <mkdir dir="${build.lib}"/>

    <!-- build testbeantest.jar -->
    <jar destfile="${build.lib}/testbeantest.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/testbean/interfaces/**"/>
        <include name="org/jboss/test/testbean/test/**"/>
        <include name="org/jboss/test/testbean2/interfaces/**"/>
        <include name="org/somepackage/**"/>
        <include name="org/jboss/test/bmp/interfaces/**"/>
      </fileset>
      <fileset dir="${build.resources}/testbean">
        <include name="*.*"/>
      </fileset>
    </jar>

    <!-- build testbean.jar -->
    <jar destfile="${build.lib}/testbean.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/testbean/interfaces/**"/>
        <include name="org/jboss/test/testbean/bean/**"/>
        <!--include name="org/jboss/test/testbean2/interfaces/**"/-->
        <include name="org/somepackage/**"/>
      </fileset>
      <fileset dir="${build.resources}/testbean">
        <include name="**/*.xml"/>
      </fileset>
    </jar>

    <!-- build testbean2.jar -->
    <jar destfile="${build.lib}/testbean2.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/testbean/interfaces/**"/>
        <include name="org/jboss/test/testbean2/interfaces/**"/>
        <include name="org/jboss/test/testbean2/bean/**"/>
      </fileset>
      <fileset dir="${build.resources}/testbean2">
        <include name="**/*.xml"/>
      </fileset>
    </jar>
  </target>

  <!-- testbeancluster test -->
  <target name="_jars-testbeancluster" depends="_jars-testbean">
    <mkdir dir="${build.lib}"/>

    <!-- build testbeancluster.jar -->
    <jar destfile="${build.lib}/testbeancluster.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/testbean/interfaces/**"/>
        <include name="org/jboss/test/testbeancluster/interfaces/**"/>
        <include name="org/jboss/test/testbean/bean/**"/>
        <include name="org/jboss/test/testbeancluster/bean/**"/>
        <include name="org/somepackage/**"/>
      </fileset>
      <fileset dir="${build.resources}/testbeancluster">
        <include name="**/*.xml"/>
      </fileset>
    </jar>

    <jar destfile="${build.lib}/test-cif.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/testbean/interfaces/AComplexPK.class"/>
        <include name="org/jboss/test/testbeancluster/interfaces/**"/>
        <include name="org/jboss/test/testbeancluster/bean/**"/>
      </fileset>
      <zipfileset dir="${build.resources}/testbeancluster"
        fullpath="META-INF/ejb-jar.xml" includes="cif-ejb-jar.xml"/>
      <zipfileset dir="${build.resources}/testbeancluster"
        fullpath="META-INF/jboss.xml" includes="cif-jboss.xml"/>
      <zipfileset dir="${build.resources}/testbeancluster"
        fullpath="META-INF/jbosscmp-jdbc.xml" includes="jbosscmp-jdbc.xml"/>
    </jar>
    <ear destfile="${build.lib}/test-cif.ear"
      appxml="${build.resources}/testbeancluster/application.xml">
      <metainf dir="${build.resources}/testbeancluster">
        <include name="jboss-app.xml"/>
      </metainf>
      <fileset dir="${build.lib}">
        <include name="test-cif.jar"/>
      </fileset>
      <fileset dir="${build.resources}/testbeancluster">
        <include name="cif-ds.xml"/>
      </fileset>
    </ear>

      <jar destfile="${build.lib}/test-retry.jar">
         <fileset dir="${build.classes}">
            <include name="org/jboss/test/testbean/interfaces/AComplexPK.class"/>
            <include name="org/jboss/test/testbean/interfaces/**"/>
            <include name="org/jboss/test/testbean/bean/**"/>
            <include name="org/jboss/test/testbeancluster/interfaces/**"/>
            <include name="org/jboss/test/testbeancluster/bean/**"/>
         </fileset>
         <zipfileset dir="${build.resources}/testbeancluster"
            fullpath="META-INF/ejb-jar.xml" includes="retry-ejb-jar.xml"/>
         <zipfileset dir="${build.resources}/testbeancluster"
            fullpath="META-INF/jboss.xml" includes="retry-jboss.xml"/>
         <zipfileset dir="${build.resources}/testbeancluster"
            fullpath="META-INF/jbosscmp-jdbc.xml" includes="retry-jbosscmp-jdbc.xml"/>
      </jar>
      <ear destfile="${build.lib}/test-retry.ear"
         appxml="${build.resources}/testbeancluster/retry-application.xml">
         <metainf dir="${build.resources}/testbeancluster">
            <include name="jboss-app.xml"/>
         </metainf>
         <fileset dir="${build.lib}">
            <include name="test-retry.jar"/>
         </fileset>
         <fileset dir="${build.resources}/testbeancluster">
            <include name="cif-ds.xml"/>
         </fileset>
      </ear>
      
  </target>

  <!-- threading test -->
  <target name="_jars-threading">
    <mkdir dir="${build.lib}"/>

    <!-- build threadingMBean.jar -->
    <jar destfile="${build.lib}/threadingMBean.jar"
     >
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/threading/interfaces/**"/>
        <include name="org/jboss/test/threading/mbean/**"/>
      </fileset>
      <fileset dir="${build.resources}/threading">
        <include name="*.*"/>
      </fileset>
    </jar>

    <!-- build threadingBean.jar -->
    <jar destfile="${build.lib}/threadingBean.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/threading/interfaces/**"/>
        <include name="org/jboss/test/threading/ejb/**"/>
      </fileset>
      <fileset dir="${build.resources}/threading">
        <include name="**/*.xml"/>
      </fileset>
    </jar>
  </target>

  <!-- EJB Timer Service test -->
  <target name="_jars-timer">
    <!-- build session-bean-timer.jar -->
    <zip destfile="${build.lib}/ejb-timer.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/timer/ejb/**"/>
        <include name="org/jboss/test/timer/interfaces/**"/>
      </fileset>
      <zipfileset dir="${build.resources}/timer/ejb" prefix="META-INF">
        <include name="*.xml"/>
      </zipfileset>
    </zip>
    <zip destfile="${build.lib}/ejb-timer.war">
      <zipfileset dir="${build.classes}">
        <include name="org/jboss/test/timer/servlet/**"/>
      </zipfileset>
      <zipfileset dir="${build.resources}/timer/war" prefix="WEB-INF">
        <include name="web.xml"/>
      </zipfileset>
    </zip>
    <!-- build ejb-timer.sar -->
    <jar destfile="${build.lib}/ejb-timer.sar">
      <metainf dir="${build.resources}/timer/service"/>
    </jar>
    <zip destfile="${build.lib}/ejb-timer.ear">
      <zipfileset dir="${build.resources}/timer/ear" prefix="META-INF">
        <include name="*.xml"/>
      </zipfileset>
      <zipfileset dir="${build.lib}">
        <include name="ejb-timer.sar"/>
        <include name="ejb-timer.jar"/>
        <include name="ejb-timer.war"/>
      </zipfileset>
    </zip>
  </target>

  <!-- transaction test -->
  <target name="_jars-tm">
    <mkdir dir="${build.lib}"/>

    <!-- build tmtest.sar -->
    <jar destfile="${build.lib}/tmtest.sar">
      <metainf dir="${build.resources}/tm/mbean">
        <include name="jboss-service.xml"/>
      </metainf>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/tm/mbean/**"/>
        <include name="org/jboss/test/tm/resource/**"/>
      </fileset>
    </jar>

    <!-- build mttest.sar -->
    <jar destfile="${build.lib}/mttest.sar">
      <metainf dir="${build.resources}/tm/mbean2">
        <include name="jboss-service.xml"/>
      </metainf>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/tm/mbean2/**"/>
        <include name="org/jboss/test/tm/resource/**"/>
      </fileset>
    </jar>

    <!-- build txtimeouttest.jar -->
    <jar destfile="${build.lib}/txtimeouttest.jar">
      <metainf dir="${build.resources}/tm/txtimeout">
        <include name="*.xml"/>
      </metainf>
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/tm/ejb/**"/>
        <include name="org/jboss/test/tm/interfaces/**"/>
      </fileset>
    </jar>
  </target>

  <!-- txiiop test -->
  <target name="_jars-txiiop">
    <mkdir dir="${build.lib}"/>

    <!-- build txiioptest.jar -->
    <jar destfile="${build.lib}/txiioptest.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/txiiop/interfaces/**"/>
        <include name="org/jboss/test/txiiop/test/**"/>
      </fileset>
      <fileset dir="${build.resources}/txiiop">
        <include name="*.*"/>
      </fileset>
    </jar>

    <!-- build txiiop.jar -->
    <jar destfile="${build.lib}/txiiop.jar">
      <metainf dir="${build.resources}/txiiop/META-INF"/>
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/txiiop/interfaces/**"/>
        <include name="org/jboss/test/txiiop/ejb/**"/>
      </fileset>
    </jar>
  </target>

  <!-- tx propogation test -->
  <target name="_jars-txpropiiop">
    <mkdir dir="${build.lib}"/>

    <rmic base="${build.classes}"
      verify="true"
      iiop="true"
      debug="true"
      >
      <classpath refid="tests.classpath"/>
      <include name="org/jboss/test/txpropiiop/interfaces/a/SessionAHome.class"/>
      <include name="org/jboss/test/txpropiiop/interfaces/a/SessionA.class"/>
      <include name="org/jboss/test/txpropiiop/interfaces/b/SessionBHome.class"/>
      <include name="org/jboss/test/txpropiiop/interfaces/b/SessionB.class"/>
    </rmic>

    <jar destfile="${build.lib}/txpropiiopA.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/txpropiiop/ejb/a/**"/>
        <include name="org/jboss/test/txpropiiop/interfaces/**"/>
        <include name="org/jboss/test/util/Debug.class"/>
      </fileset>
      <fileset dir="${build.resources}/txpropiiop/a">
        <include name="META-INF/*.xml"/>
      </fileset>
    </jar>

    <jar destfile="${build.lib}/txpropiiopB.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/txpropiiop/ejb/b/**"/>
        <include name="org/jboss/test/txpropiiop/interfaces/**"/>
        <include name="org/jboss/test/util/Debug.class"/>
      </fileset>
      <fileset dir="${build.resources}/txpropiiop/b">
        <include name="META-INF/*.xml"/>
      </fileset>
    </jar>

  </target>

  <!-- EJB Tx Timer Service test -->
  <target name="_jars-txtimer">
    <!-- build ejb-txtimer.jar -->
    <jar destfile="${build.lib}/ejb-txtimer.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/txtimer/ejb/**"/>
        <include name="org/jboss/test/txtimer/interfaces/**"/>
        <include name="org/jboss/test/txtimer/support/**"/>
      </fileset>
      <fileset dir="${build.resources}/txtimer/">
        <include name="META-INF/**"/>
      </fileset>
    </jar>
    <!-- build ejb-txtimer-scoped.jar -->
    <jar destfile="${build.lib}/ejb-txtimer-scoped.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/txtimer/ejb/TimerSessionBean.class"/>
        <include name="org/jboss/test/txtimer/interfaces/TimerSession**"/>
        <include name="org/jboss/test/txtimer/support/**"/>
      </fileset>
      <fileset dir="${build.resources}/txtimer/scoped">
        <include name="META-INF/**"/>
      </fileset>
    </jar>
  </target>

  <!-- Utility services tests -->
  <target name="_jars-util">
    <!-- The external scheduler.jar -->
    <jar destfile="${build.lib}/scheduler.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/util/scheduler/*"/>
      </fileset>
    </jar>
    <!-- The scheduler.sar -->
    <jar destfile="${build.lib}/scheduler.sar">
      <manifest>
        <attribute name="Class-Path" value="../../scheduler.jar"/>
      </manifest>
      <metainf dir="${build.resources}/util/scheduler">
        <include name="jboss-service.xml"/>
      </metainf>
    </jar>
    <!-- The scheduler.ear -->
    <ear destfile="${build.lib}/scheduler.ear"
      appxml="${build.resources}/util/scheduler/application.xml">
      <metainf dir="${build.resources}/util/scheduler">
        <include name="jboss-app.xml"/>
      </metainf>
      <fileset dir="${build.lib}">
        <include name="scheduler.sar"/>
      </fileset>
    </ear>
  </target>

  <!-- jsf test -->
  <target name="_jars-jsf">
    <mkdir dir="${build.lib}"/>
    <!-- build jbosstest-jsf.war -->
    <war warfile="${build.lib}/jbosstest-jsf.war"
      webxml="${build.resources}/web/WEB-INF/jsftest-web.xml">
      <fileset dir="${build.resources}/web/html/jsftest">
        <include name="**/*.jsp"/>
      </fileset>

      <webinf dir="${build.resources}/web/html/jsftest/WEB-INF">
        <include name="**/*"/>
      </webinf>
    </war>
  </target>

  <!-- web test -->
  <target name="_jars-web">
    <mkdir dir="${build.lib}"/>

    <!-- build jbosstest-web-ejbs.jar -->
    <jar destfile="${build.lib}/jbosstest-web-ejbs.jar"
      manifest="${build.resources}/web/ejb.mf">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/web/interfaces/**"/>
        <include name="org/jboss/test/web/ejb/**"/>
      </fileset>
      <fileset dir="${build.resources}/web">
        <include name="META-INF/ejb-jar.xml"/>
        <include name="META-INF/jboss.xml"/>
        <include name="users.properties"/>
        <include name="roles.properties"/>
      </fileset>
    </jar>

    <!-- build jbosstest-web-util.jar -->
    <jar destfile="${build.lib}/jbosstest-web-util.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/web/util/**"/>
        <exclude name="org/jboss/test/web/util/ClassInClasses.class"/>
        <exclude name="org/jboss/test/web/util/EJBManifestClass.class"/>
      </fileset>
    </jar>
    <mkdir dir="${build.lib}/lib"/>
    <jar destfile="${build.lib}/lib/util.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/util/Debug.class"/>
        <include name="org/jboss/test/web/util/EJBManifestClass.class"/>
      </fileset>
    </jar>

    <!-- build websubdir/relative.jar -->
    <mkdir dir="${build.lib}/websubdir"/>
    <jar destfile="${build.lib}/websubdir/relative.jar">
      <fileset dir="${build.resources}/web/websubdir">
        <include name="**/*.xml"/>
      </fileset>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/web/ejb/StatelessSessionBean.class"/>
        <include name="org/jboss/test/web/interfaces/StatelessSession*.class"/>
      </fileset>
    </jar>

    <!-- Build manifest-web.war -->
    <manifest file="${build.resources}/manifest-web.mf">
      <attribute name="Class-Path" value="jbosstest-web-util.jar"/>
    </manifest>
    <war warfile="${build.lib}/manifest-web.war"
      manifest="${build.resources}/manifest-web.mf"
      webxml="${build.resources}/web/WEB-INF/manifest-web.xml">
      <fileset dir="${build.resources}/web/html/manifest">
        <include name="**/*.jsp"/>
      </fileset>
    </war>
    <ear earfile="${build.lib}/manifest-web.ear"
      appxml="${build.resources}/web/META-INF/application-mf.xml">
      <fileset dir="${build.lib}">
        <include name="manifest-web.war"/>
        <include name="jbosstest-web-util.jar"/>
      </fileset>
    </ear>

    <!-- build root-web.war -->
    <war warfile="${build.lib}/root-web.war"
      webxml="${build.resources}/web/WEB-INF/root-web.xml">
      <fileset dir="${build.resources}/web/html/root">
        <include name="**/*.html"/>
      </fileset>
    </war>

    <!-- build notjbosstest-web.war -->
    <mkdir dir="${build.lib}/wars"/>
    <war warfile="${build.lib}/wars/notjbosstest-web.war"
      webxml="${build.resources}/web/WEB-INF/notjbosstest-web.xml">
      <webinf dir="${build.resources}/web/html/other/WEB-INF">
        <include name="*"/>
      </webinf>
      <classes dir="${build.classes}">
        <include name="org/jboss/test/web/servlets/SecureServlet.class"/>
      </classes>
      <fileset dir="${build.resources}/web">
        <include name="*.properties"/>
      </fileset>
      <fileset dir="${build.resources}/web/html/other">
        <include name="**/*.html"/>
      </fileset>
    </war>

    <!-- build jbosstest-web.war -->
    <jar destfile="${build.lib}/resources.jar">
      <zipfileset dir="${build.resources}/web/html/jbosstest"
        prefix="org/jboss/resources" includes="JBoss.properties"/>
    </jar>
    <war warfile="${build.lib}/jbosstest-web.war"
      webxml="${build.resources}/web/WEB-INF/jbosstest-web.xml">
      <webinf dir="${build.resources}/web/html/jbosstest/WEB-INF">
        <include name="*"/>
      </webinf>
      <lib dir="${build.lib}">
        <include name="jbosstest-web-util.jar"/>
        <include name="resources.jar"/>
      </lib>
      <classes dir="${build.classes}">
        <include name="org/jboss/test/web/servlets/**"/>
        <include name="org/jboss/test/web/util/ClassInClasses.class"/>
      </classes>
      <fileset dir="${build.resources}/web/html/jbosstest">
        <include name="**/*.jsp"/>
        <include name="**/*.html"/>
      </fileset>
    </war>

	<!-- JBAS-850:Tomcat contextDestroyed not called on JBoss Shutdown -->
    <war warfile="${build.lib}/jbosstest-ctx-destroy.war"
      webxml="${build.resources}/web/WEB-INF/jbosstest-ctx-destroy-web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/web/servlets/TextFile**"/>
      </classes>
    </war>
	
	<!-- JBAS-2538:The war WebCtxLoader is not limiting WEB-INF/lib classpath contents to jars -->
	<copy file="${build.lib}/lib/util.jar" tofile="${build.lib}/lib/util.jar.bak"/>
    <war warfile="${build.lib}/jbosstest-webctx.war"
      webxml="${build.resources}/web/WEB-INF/jbosstest-webctx-web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/web/servlets/WebCtxLoaderTest**"/>
      </classes>
	  <lib dir="${build.lib}/lib">
        <include name="util.jar.bak"/> 
      </lib>
    </war>

    <!-- Create a war with a bad web.xml descriptor to test redeployment
    of a failed war. The good-web.war is the same war with the web.xml
    descriptor fixed. Both use a context-root of /redeploy
    -->
    <war warfile="${build.lib}/bad-web.war"
      webxml="${build.resources}/web/WEB-INF/bad-web.xml">
      <webinf dir="${build.resources}/web/html/bad/WEB-INF">
        <include name="*"/>
      </webinf>
      <fileset dir="${build.resources}/web/html/bad">
        <include name="**/*.html"/>
      </fileset>
    </war>
    <war warfile="${build.lib}/good-web.war"
      webxml="${build.resources}/web/WEB-INF/good-web.xml">
      <webinf dir="${build.resources}/web/html/bad/WEB-INF">
        <include name="*"/>
      </webinf>
      <fileset dir="${build.resources}/web/html/bad">
        <include name="**/*.html"/>
      </fileset>
    </war>

    <!-- build jbosstest-web.ear -->
    <ear earfile="${build.lib}/jbosstest-web.ear"
      appxml="${build.resources}/web/META-INF/application.xml">
      <metainf dir="${build.resources}/web/META-INF">
        <include name="jboss-app.xml"/>
      </metainf>
      <fileset dir="${build.lib}">
        <include name="jbosstest-web-ejbs.jar"/>
        <include name="root-web.war"/>
        <include name="jbosstest-web.war"/>
        <include name="wars/notjbosstest-web.war"/>
        <include name="cts.jar"/>
        <include name="lib/util.jar"/>
        <include name="websubdir/relative.jar"/>
      </fileset>
      <fileset dir="${build.resources}/web">
        <include name="scripts/*"/>
      </fileset>
    </ear>

    <!-- Create an ear with the same war as the jbosstest-web.ear to test
    conflicts with unpackaging ear content
    -->
    <ear earfile="${build.lib}/jbosstest-web2.ear"
      appxml="${build.resources}/web/META-INF/application2.xml">
      <fileset dir="${build.lib}">
        <include name="wars/notjbosstest-web.war"/>
      </fileset>
    </ear>

    <ear earfile="${build.lib}/jbosstest-bad.ear"
      appxml="${build.resources}/web/META-INF/application-bad.xml">
      <fileset dir="${build.lib}">
        <include name="bad-web.war"/>
      </fileset>
    </ear>
    <ear earfile="${build.lib}/jbosstest-good.ear"
      appxml="${build.resources}/web/META-INF/application-good.xml">
      <fileset dir="${build.lib}">
        <include name="good-web.war"/>
      </fileset>
    </ear>

    <!-- war to test DIGEST auth
    <war warfile="${build.lib}/digest-auth.war"
      webxml="${build.resources}/web/WEB-INF/digest-auth-web.xml">
      <webinf dir="${build.resources}/web/html/other/WEB-INF">
        <include name="jboss-web.xml"/>
      </webinf>
      <fileset dir="${build.resources}/web/html/root">
        <include name="**/*.html"/>
      </fileset>
    </war>
    -->
    <!-- war to test FORM auth -->
    <war destfile="${build.lib}/form-auth.war"
      webxml="${build.resources}/web/form-auth/form-auth-web.xml">
      <webinf dir="${build.resources}/web/form-auth">
         <include name="context.xml"/>
         <include name="jboss-web.xml"/>
      </webinf>
      <classes dir="${build.classes}">
        <include name="org/jboss/test/web/servlets/SecureServlet.class"/>
        <include name="org/jboss/test/web/servlets/SecuredPostServlet.class"/>
        <include name="org/jboss/test/web/servlets/LogoutServlet.class"/>
      </classes>
      <fileset dir="${build.resources}/web/form-auth">
         <include name="**/*.html"/>
         <include name="**/*.jsp"/>
      </fileset>
    </war>
    <zip destfile="${build.lib}/form-auth.ear">
      <zipfileset dir="${build.resources}/web/form-auth" prefix="META-INF">
        <include name="application.xml"/>
        <include name="jboss-app.xml"/>
        <include name="security-config.xml"/>
      </zipfileset>
      <zipfileset dir="${build.resources}/web" fullpath="form-auth-users.properties"
        includes="users.properties"/>
      <zipfileset dir="${build.resources}/web" fullpath="form-auth-roles.properties"
        includes="roles.properties"/>
      <zipfileset dir="${build.lib}" includes="form-auth.war"/>
      <zipfileset dir="${build.resources}/web/form-auth" includes="jboss-service.xml"/>
    </zip>

    <!-- war to test SSL and CLIENT-CERT auth -->
    <war warfile="${build.lib}/clientcert-auth.war"
      webxml="${build.resources}/web/WEB-INF/clientcert-auth-web.xml">
      <webinf dir="${build.resources}/web/html/ssl">
        <include name="jboss-web.xml"/>
      </webinf>
      <classes dir="${build.classes}">
        <include name="org/jboss/test/web/servlets/ssl/*"/>
      </classes>
      <fileset dir="${build.resources}/web/html/ssl">
        <include name="**/*.html"/>
      </fileset>
    </war>

    <!-- Create an sso.ear to test single sign-on between web apps
    -->
    <war destfile="${build.lib}/sso-form-auth.war"
      webxml="${build.resources}/web/sso/war/web-form-auth.xml">
      <webinf dir="${build.resources}/web/sso/war">
        <include name="jboss-web.xml"/>
      </webinf>
      <classes dir="${build.classes}">
        <include name="org/jboss/test/web/servlets/EJBServlet.class"/>
        <include name="org/jboss/test/web/servlets/LogoutServlet.class"/>
        <include name="org/jboss/test/web/util/Util*"/>
      </classes>
      <fileset dir="${build.resources}/web/sso/war">
        <include name="**/*.html"/>
        <include name="**/*.jsp"/>
      </fileset>
    </war>
    <war destfile="${build.lib}/sso-expire.war"
      webxml="${build.resources}/web/sso/war/web-sso-expire.xml">
      <webinf dir="${build.resources}/web/sso/war">
        <include name="jboss-web.xml"/>
      </webinf>
      <classes dir="${build.classes}">
        <include name="org/jboss/test/web/servlets/LogoutServlet.class"/>
        <include name="org/jboss/test/web/util/Util*"/>
      </classes>
      <fileset dir="${build.resources}/web/sso/war">
        <include name="**/*.html"/>
        <include name="**/*.jsp"/>
      </fileset>
    </war>
    <zip destfile="${build.lib}/web-sso.ear">
      <zipfileset dir="${build.resources}/web/sso" prefix="META-INF">
        <include name="application.xml"/>
      </zipfileset>
      <zipfileset dir="${build.resources}/web">
        <include name="users.properties"/>
        <include name="roles.properties"/>
      </zipfileset>
      <zipfileset dir="${build.lib}" includes="sso-form-auth.war"
        fullpath="sso-form-auth1.war"/>
      <zipfileset dir="${build.lib}" includes="sso-form-auth.war"
        fullpath="sso-form-auth2.war"/>
      <zipfileset dir="${build.lib}" includes="sso-expire.war"/>
      <zipfileset dir="${build.lib}" includes="jbosstest-web-ejbs.jar"/>
    </zip>

    <war destfile="${build.lib}/custom-auth.war"
      webxml="${build.resources}/web/basic-auth/basic-auth-web.xml">
      <webinf dir="${build.resources}/web/basic-auth">
        <include name="jboss-web.xml"/>
      </webinf>
      <classes dir="${build.classes}">
        <include name="org/jboss/test/web/jaas/*"/>
      </classes>
      <fileset dir="${build.resources}/web/sso/war">
        <include name="**/*.html"/>
      </fileset>
    </war>
    <zip destfile="${build.lib}/custom-auth.ear">
      <zipfileset dir="${build.resources}/web/basic-auth" prefix="META-INF">
        <include name="application.xml"/>
        <include name="jboss-app.xml"/>
        <include name="security-config.xml"/>
      </zipfileset>
      <zipfileset dir="${build.lib}">
        <include name="custom-auth.war"/>
      </zipfileset>
      <zipfileset dir="${build.resources}/web/basic-auth">
        <include name="jboss-service.xml"/>
      </zipfileset>
    </zip>

     <war destfile="${build.lib}/custom-errors.war"
        webxml="${build.resources}/web/custom-errors/web.xml">
        <fileset dir="${build.resources}/web/custom-errors">
           <include name="*.jsp"/>
        </fileset>
     </war>
     <war destfile="${build.lib}/error-producer.war"
        webxml="${build.resources}/web/error-producer/web.xml">
        <classes dir="${build.classes}">
           <include name="org/jboss/test/web/servlets/ErrorGeneratorServlet.class"/>
        </classes>
     </war>

     <war destfile="${build.lib}/userinrole.war"
        webxml="${build.resources}/web/userinrole/web.xml">
        <webinf dir="${build.resources}/web/userinrole">
           <include name="jboss-web.xml" />
        </webinf>
        <classes dir="${build.classes}">
           <include name="org/jboss/test/web/servlets/UserInRoleServlet.class"/>
        </classes>
     </war>
     <zip destfile="${build.lib}/userinrole.ear">
       <zipfileset dir="${build.resources}/web/userinrole" prefix="META-INF">
         <include name="application.xml"/>
         <include name="jboss-app.xml"/>
       </zipfileset>
       <zipfileset dir="${build.lib}">
         <include name="userinrole.war"/>
       </zipfileset>
       <zipfileset dir="${build.resources}/web/userinrole">
         <include name="security-service.xml"/>
       </zipfileset>
     </zip>

  </target>

  <!-- webservice tests -->
  <target name="_jars-webservice">
    <mkdir dir="${build.lib}"/>

    <echo message="Using target node: ${node0}"/>
    
    <copy todir="${build.resources}/webservice" filtering="yes">
      <fileset dir="${source.resources}/webservice">
        <include name="**/*"/>
      </fileset>
      <filterset>
        <filter token="jbosstest.host.name" value="${node0}"/>
      </filterset>
    </copy>

    <!-- ws4ee-addressrewrite -->
    <war warfile="${build.lib}/ws4ee-addressrewrite.war"
      webxml="${build.resources}/webservice/addressrewrite/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/ws4eesimple/HelloJavaBean.class"/>
        <include name="org/jboss/test/webservice/ws4eesimple/HelloWs.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/addressrewrite/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="webservices.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <war warfile="${build.lib}/ws4ee-addressrewrite-sec.war"
      webxml="${build.resources}/webservice/addressrewrite/WEB-INF/web-sec.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/ws4eesimple/HelloJavaBean.class"/>
        <include name="org/jboss/test/webservice/ws4eesimple/HelloWs.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/addressrewrite/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="webservices.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>

    <!-- ws4ee-admindevel -->
    <jar destfile="${build.lib}/ws4ee-admindevel.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/admindevel/**"/>
        <exclude name="org/jboss/test/webservice/admindevel/*TestCase.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/admindevel/META-INF">
        <include name="ejb-jar.xml"/>
        <include name="jboss.xml"/>
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/HelloService.wsdl"/>
      </metainf>
    </jar>
    <jar destfile="${build.lib}/ws4ee-admindevel-client.jar">
      <metainf dir="${build.resources}/webservice/admindevel/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/HelloService.wsdl"/>
      </metainf>
    </jar>

    <!-- ws4ee-attachment -->
    <war warfile="${build.lib}/ws4ee-attachment.war"
      webxml="${build.resources}/webservice/attachment/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/attachment/AttachmentImpl.class"/>
        <include name="org/jboss/test/webservice/attachment/Attachment.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/attachment/WEB-INF">
        <include name="wsdl/Attachment.wsdl"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="webservices.xml"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-attachment-client.jar">
      <metainf dir="${build.resources}/webservice/attachment/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/attachment/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/Attachment.wsdl"/>
      </metainf>
    </jar>



    <!-- attachment step by step -->
    <war warfile="${build.lib}/myservice.war"
      webxml="${build.resources}/webservice/attachmentstepbystep/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/attachmentstepbystep/MyServiceImpl.class"/>
        <include name="org/jboss/test/webservice/attachmentstepbystep/MyService.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/attachmentstepbystep/WEB-INF">
        <include name="wsdl/MyService.wsdl"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="webservices.xml"/>
      </webinf>
      <fileset dir="${build.resources}/webservice/attachmentstepbystep">
        <include name="resources/attachment_server2client.txt"/>
      </fileset>
    </war>

    <!-- ws4ee-encstyle -->
    <war warfile="${build.lib}/ws4ee-encstyle-doc.war"
      webxml="${build.resources}/webservice/encstyle/document/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/encstyle/SampleEndpointDOC.class"/>
        <include name="org/jboss/test/webservice/encstyle/SampleEndpointImplDOC.class"/>
        <include name="org/jboss/test/webservice/encstyle/SampleEndpoint_changeSalary_RequestStruct.class"/>
        <include name="org/jboss/test/webservice/encstyle/SampleEndpoint_changeSalary_ResponseStruct.class"/>
        <include name="org/jboss/test/webservice/encstyle/UserType.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/encstyle/document">
        <include name="wsdl/SampleEndpointService.wsdl"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="webservices.xml"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-encstyle-doc-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/encstyle/SampleEndpoint.class"/>
        <include name="org/jboss/test/webservice/encstyle/SampleEndpoint_changeSalary_RequestStruct.class"/>
        <include name="org/jboss/test/webservice/encstyle/SampleEndpoint_changeSalary_ResponseStruct.class"/>
        <include name="org/jboss/test/webservice/encstyle/UserType.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/encstyle/document">
        <include name="wsdl/SampleEndpointService.wsd"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
    </jar>
    <war warfile="${build.lib}/ws4ee-encstyle-rpc.war"
      webxml="${build.resources}/webservice/encstyle/rpc/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/encstyle/SampleEndpoint.class"/>
        <include name="org/jboss/test/webservice/encstyle/SampleEndpointImpl.class"/>
        <include name="org/jboss/test/webservice/encstyle/UserType.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/encstyle/rpc">
        <include name="wsdl/SampleEndpointService.wsdl"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="webservices.xml"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-encstyle-rpc-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/encstyle/SampleEndpoint.class"/>
        <include name="org/jboss/test/webservice/encstyle/UserType.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/encstyle/rpc">
        <include name="wsdl/SampleEndpointService.wsdl"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
    </jar>

    <!-- ws4ee-exception -->
    <jar destfile="${build.lib}/ws4ee-exception.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/exception/_arrays/*.class"/>
        <include name="org/jboss/test/webservice/exception/*Exception.class"/>
        <include name="org/jboss/test/webservice/exception/ExceptionServiceInterface.class"/>
        <include name="org/jboss/test/webservice/exception/ExceptionBeanImpl.class"/>
        <exclude name="**/*TestCase.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/exception/META-INF">
        <include name="ejb-jar.xml"/>
        <include name="jboss.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="webservices.xml"/>
        <include name="wsdl/*.wsdl"/>
      </metainf>
    </jar>
    <jar destfile="${build.lib}/ws4ee-exception-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/exception/_arrays/*.class"/>
        <include name="org/jboss/test/webservice/exception/ExceptionService.class"/>
        <include name="org/jboss/test/webservice/exception/ExceptionServiceInterface.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/exception/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/*.wsdl"/>
      </metainf>
    </jar>

    <!-- ws4ee-handlerflow-ejb -->
    <jar destfile="${build.lib}/ws4ee-handlerflow.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/handlerflow/HelloHome.class"/>
        <include name="org/jboss/test/webservice/handlerflow/HelloRemote.class"/>
        <include name="org/jboss/test/webservice/handlerflow/HelloEndpoint.class"/>
        <include name="org/jboss/test/webservice/handlerflow/HelloBean.class"/>
        <include name="org/jboss/test/webservice/handlerflow/HandlerBase.class"/>
        <include name="org/jboss/test/webservice/handlerflow/HandlerTracker.class"/>
        <include name="org/jboss/test/webservice/handlerflow/ClientHandler1.class"/>
        <include name="org/jboss/test/webservice/handlerflow/ClientHandler2.class"/>
        <!-- although the server handler are not needed, keep them for the test -->
        <include name="org/jboss/test/webservice/handlerflow/ServerHandler1.class"/>
        <include name="org/jboss/test/webservice/handlerflow/ServerHandler2.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/handlerflow/META-INF">
        <include name="ejb-jar.xml"/>
        <include name="jboss.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    <war warfile="${build.lib}/ws4ee-handlerflow.war"
      webxml="${build.resources}/webservice/handlerflow/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/handlerflow/HelloEndpoint.class"/>
        <include name="org/jboss/test/webservice/handlerflow/HelloJSE.class"/>
        <include name="org/jboss/test/webservice/handlerflow/HelloFeedbackServlet.class"/>
        <include name="org/jboss/test/webservice/handlerflow/HandlerBase.class"/>
        <!-- With UseJBossWebLoader=false the static state in HandlerTracker can only live
             in the jar, which must be deployed first
        <include name="org/jboss/test/webservice/handlerflow/HandlerTracker.class"/>
        -->
        <include name="org/jboss/test/webservice/handlerflow/ServerHandler1.class"/>
        <include name="org/jboss/test/webservice/handlerflow/ServerHandler2.class"/>
        <!-- although the client handler are not needed, keep them for the test -->
        <include name="org/jboss/test/webservice/handlerflow/ClientHandler1.class"/>
        <include name="org/jboss/test/webservice/handlerflow/ClientHandler2.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/handlerflow/META-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
      <webinf dir="${build.resources}/webservice/handlerflow/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jboss-web.xml"/>
      </webinf>
    </war>

    <!-- ws4ee-header -->
    <war warfile="${build.lib}/ws4ee-header.war"
      webxml="${build.resources}/webservice/header/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/header/*.class"/>
        <exclude name="org/jboss/test/webservice/header/*TestCase.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/header/WEB-INF">
        <include name="jaxrpc-mapping-*.xml"/>
        <include name="webservices.xml"/>
        <include name="wsdl/*.wsdl"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-header-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/header/*.class"/>
        <exclude name="org/jboss/test/webservice/header/*EndpointImpl.class"/>
        <exclude name="org/jboss/test/webservice/header/*TestCase.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/header/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/header/WEB-INF">
        <include name="jaxrpc-mapping-*.xml"/>
        <include name="wsdl/*.wsdl"/>
      </metainf>
    </jar>

    <!-- ws4ee-jbas897 -->
    <jar destfile="${build.lib}/ws4ee-jbas897.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbas897/Hello.class"/>
        <include name="org/jboss/test/webservice/jbas897/HelloSLSB.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbas897/META-INF">
        <include name="ejb-jar.xml"/>
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    <copy file="${build.resources}/webservice/jbas897/META-INF/ejb-jar-fail.xml" tofile="${build.resources}/webservice/jbas897/META-INF/ejb-jar.xml" overwrite="true"/>
    <jar destfile="${build.lib}/ws4ee-jbas897-fail.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbas897/Hello.class"/>
        <include name="org/jboss/test/webservice/jbas897/HelloSLSB.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbas897/META-INF">
        <include name="ejb-jar.xml"/>
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    <delete file="${build.resources}/webservice/jbas897/META-INF/ejb-jar.xml"/>
    <war warfile="${build.lib}/ws4ee-jbas897.war"
      webxml="${build.resources}/webservice/jbas897/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbas897/Hello.class"/>
        <include name="org/jboss/test/webservice/jbas897/HelloJavaBean.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbas897/META-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
      <webinf dir="${build.resources}/webservice/jbas897/WEB-INF">
        <include name="webservices.xml"/>
      </webinf>
    </war>
    <war warfile="${build.lib}/ws4ee-jbas897-fail.war"
      webxml="${build.resources}/webservice/jbas897/WEB-INF/web-fail.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbas897/Hello.class"/>
        <include name="org/jboss/test/webservice/jbas897/HelloJavaBean.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbas897/META-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
      <webinf dir="${build.resources}/webservice/jbas897/WEB-INF">
        <include name="webservices.xml"/>
      </webinf>
    </war>

    <!-- ws4ee-jbws64 -->
    <war warfile="${build.lib}/ws4ee-jbws64.war"
      webxml="${build.resources}/webservice/jbws64/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws64/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws64/HelloJavaBean.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws64/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>

    <!-- ws4ee-jbws68 -->
    <war warfile="${build.lib}/ws4ee-jbws68.war"
      webxml="${build.resources}/webservice/jbws68/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws68/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws68/HelloJavaBean.class"/>
        <include name="org/jboss/test/webservice/jbws68/UserType.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws68/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws68-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws68/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws68/UserType.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws68/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws68/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>

    <!-- ws4ee-jbws70 -->
    <war warfile="${build.lib}/ws4ee-jbws70.war"
      webxml="${build.resources}/webservice/jbws70/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws70/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws70/HelloJavaBean.class"/>
        <include name="org/jboss/test/webservice/jbws70/*_RequestStruct.class"/>
        <include name="org/jboss/test/webservice/jbws70/*_ResponseStruct.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws70/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws70-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws70/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws70/*_RequestStruct.class"/>
        <include name="org/jboss/test/webservice/jbws70/*_ResponseStruct.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws70/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws70/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>

    <!-- ws4ee-jbws71 -->
    <jar destfile="${build.lib}/ws4ee-jbws71-types.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws71/UserType.class"/>
        <include name="org/jboss/test/webservice/jbws71/*_RequestStruct.class"/>
        <include name="org/jboss/test/webservice/jbws71/*_ResponseStruct.class"/>
      </fileset>
    </jar>
    <war warfile="${build.lib}/ws4ee-jbws71.war"
      webxml="${build.resources}/webservice/jbws71/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws71/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws71/HelloJavaBean.class"/>
      </classes>
      <lib dir="${build.lib}">
        <include name="ws4ee-jbws71-types.jar"/>
      </lib>
      <webinf dir="${build.resources}/webservice/jbws71/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws71-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws71/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws71/UserType.class"/>
        <include name="org/jboss/test/webservice/jbws71/*_RequestStruct.class"/>
        <include name="org/jboss/test/webservice/jbws71/*_ResponseStruct.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws71/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws71/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>

    <!-- ws4ee-jbws79 -->
    <war warfile="${build.lib}/ws4ee-jbws79.war"
      webxml="${build.resources}/webservice/jbws79/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws79/HelloOne.class"/>
        <include name="org/jboss/test/webservice/jbws79/HelloTwo.class"/>
        <include name="org/jboss/test/webservice/jbws79/HelloOneJavaBean.class"/>
        <include name="org/jboss/test/webservice/jbws79/HelloTwoJavaBean.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws79/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping-one.xml"/>
        <include name="jaxrpc-mapping-two.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws79-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws79/HelloOne.class"/>
        <include name="org/jboss/test/webservice/jbws79/HelloTwo.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws79/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws79/WEB-INF">
        <include name="jaxrpc-mapping-one.xml"/>
        <include name="jaxrpc-mapping-two.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>

    <!-- ws4ee-jbws82 -->
    <war warfile="${build.lib}/ws4ee-jbws82.war"
      webxml="${build.resources}/webservice/jbws82/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws82/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws82/HelloJavaBean.class"/>
        <include name="org/jboss/test/webservice/jbws82/UserType.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws82/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws82-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws82/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws82/UserType.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws82/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws82/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>

    <!-- ws4ee-jbws83 -->
    <war warfile="${build.lib}/ws4ee-jbws83.war"
      webxml="${build.resources}/webservice/jbws83/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws83/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws83/HelloJavaBean.class"/>
        <include name="org/jboss/test/webservice/jbws83/UserType.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws83/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws83-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws83/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws83/UserType.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws83/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws83/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>

    <!-- ws4ee-jbws84 -->
    <war warfile="${build.lib}/ws4ee-jbws84.war"
      webxml="${build.resources}/webservice/jbws84/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws84/*.class"/>
        <exclude name="org/jboss/test/webservice/jbws84/*TestCase.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws84/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="webservices.xml"/>
        <include name="wsdl/*.wsdl"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws84-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws84/*.class"/>
        <exclude name="org/jboss/test/webservice/jbws84/*JavaBean.class"/>
        <exclude name="org/jboss/test/webservice/jbws84/*TestCase.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws84/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws84/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/*.wsdl"/>
      </metainf>
    </jar>

    <!-- ws4ee-jbws124 -->
    <war warfile="${build.lib}/ws4ee-jbws124.war"
      webxml="${build.resources}/webservice/jbws124/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws124/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws124/HelloJavaBean.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws124/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws124-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws124/Hello.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws124/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws124/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>

    <!-- ws4ee-jbws128 -->
    <war warfile="${build.lib}/ws4ee-jbws128-service.war"
      webxml="${build.resources}/webservice/jbws128/WEB-INF-service/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws128/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws128/HelloJavaBean.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws128/WEB-INF-service">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <war warfile="${build.lib}/ws4ee-jbws128-client.war"
      webxml="${build.resources}/webservice/jbws128/WEB-INF-client/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws128/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws128/HelloClientServlet.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws128/WEB-INF-client">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <ear destfile="${build.lib}/ws4ee-jbws128.ear"
      appxml="${build.resources}/webservice/jbws128/META-INF/application.xml">
      <fileset dir="${build.lib}">
        <include name="ws4ee-jbws128-service.war"/>
        <include name="ws4ee-jbws128-client.war"/>
      </fileset>
    </ear>

    <!-- ws4ee-jbws153 -->
    <war warfile="${build.lib}/ws4ee-jbws153.war"
      webxml="${build.resources}/webservice/jbws153/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws153/Order.class"/>
        <include name="org/jboss/test/webservice/jbws153/OrderJavaBean.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws153/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="ws4ee-deployment.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws153-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws153/Order.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws153/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws153/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="ws4ee-deployment.xml"/>
      </metainf>
    </jar>

    <!-- ws4ee-jbws163 -->
    <war warfile="${build.lib}/ws4ee-jbws163.war"
      webxml="${build.resources}/webservice/jbws163/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws163/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws163/HelloJavaBean.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws163/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws163-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws163/Hello.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws163/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws163/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>

    <!-- ws4ee-jbws165 -->
    <jar jarfile="${build.lib}/ws4ee-jbws165-none.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws165/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws165/HelloEJB.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws165/META-INF-none">
        <include name="webservices.xml"/>
    	<include name="ejb-jar.xml"/>
		<include name="jboss.xml"/>
      	<include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    <jar jarfile="${build.lib}/ws4ee-jbws165-pcuri.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws165/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws165/HelloEJB.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws165/META-INF-pcuri">
        <include name="webservices.xml"/>
    	<include name="ejb-jar.xml"/>
		<include name="jboss.xml"/>
      	<include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    <jar jarfile="${build.lib}/ws4ee-jbws165-ctxroot.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws165/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws165/HelloEJB.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws165/META-INF-ctxroot">
        <include name="webservices.xml"/>
    	<include name="ejb-jar.xml"/>
		<include name="jboss.xml"/>
      	<include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    <jar jarfile="${build.lib}/ws4ee-jbws165-both.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws165/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws165/HelloEJB.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws165/META-INF-both">
        <include name="webservices.xml"/>
    	<include name="ejb-jar.xml"/>
		<include name="jboss.xml"/>
      	<include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    <jar destfile="${build.lib}/ws4ee-jbws165-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws165/Hello.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws165/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      	<include name="jaxrpc-mapping.xml"/>
      </metainf>
    </jar>
    <ear destfile="${build.lib}/ws4ee-jbws165.ear" appxml="${build.resources}/webservice/jbws165/META-INF/application.xml">
      <fileset dir="${build.lib}">
        <include name="ws4ee-jbws165-none.jar"/>
        <include name="ws4ee-jbws165-pcuri.jar"/>
        <include name="ws4ee-jbws165-ctxroot.jar"/>
        <include name="ws4ee-jbws165-both.jar"/>
        <include name="ws4ee-jbws165-client.jar"/>
      </fileset>
    </ear>

    <!-- ws4ee-jbws167 -->
    <war warfile="${build.lib}/ws4ee-jbws167.war"
      webxml="${build.resources}/webservice/jbws167/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws167/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws167/HelloJavaBean.class"/>
        <include name="org/jboss/test/webservice/jbws167/HeaderHandler.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws167/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>

    <!-- ws4ee-jbws168 -->
    <war warfile="${build.lib}/ws4ee-jbws168.war"
      webxml="${build.resources}/webservice/jbws168/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws168/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws168/HelloJavaBean.class"/>
        <include name="org/jboss/test/webservice/jbws168/UserType.class"/>
        <include name="org/jboss/test/webservice/jbws168/HelloHandler.class"/>
        <include name="org/jboss/test/webservice/jbws168/*RequestStruct.class"/>
        <include name="org/jboss/test/webservice/jbws168/*ResponseStruct.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws168/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="ws4ee-deployment.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws168-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws168/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws168/UserType.class"/>
        <include name="org/jboss/test/webservice/jbws168/*RequestStruct.class"/>
        <include name="org/jboss/test/webservice/jbws168/*ResponseStruct.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws168/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws168/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="ws4ee-deployment.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>

    <!-- ws4ee-jbws217 -->
    <war warfile="${build.lib}/ws4ee-jbws217.war"
      webxml="${build.resources}/webservice/jbws217/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws217/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws217/HelloJavaBean.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws217/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws217-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws217/Hello.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws217/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws217/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>

    <!-- ws4ee-jbws251 -->
    <war warfile="${build.lib}/ws4ee-jbws251.war"
      webxml="${build.resources}/webservice/jbws251/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws251/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws251/HelloJavaBean.class"/>
        <include name="org/jboss/test/webservice/jbws251/BaseException.class"/>
        <include name="org/jboss/test/webservice/jbws251/UserExceptionOne.class"/>
        <include name="org/jboss/test/webservice/jbws251/UserExceptionTwo.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws251/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws251-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws251/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws251/BaseException.class"/>
        <include name="org/jboss/test/webservice/jbws251/UserExceptionOne.class"/>
        <include name="org/jboss/test/webservice/jbws251/UserExceptionTwo.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws251/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws251/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>

    <!-- ws4ee-jbws309 -->
    <jar jarfile="${build.lib}/ws4ee-jbws309.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws309/Organization.class"/>
        <include name="org/jboss/test/webservice/jbws309/OrganizationHome.class"/>
        <include name="org/jboss/test/webservice/jbws309/OrganizationRemote.class"/>
        <include name="org/jboss/test/webservice/jbws309/OrganizationImpl.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws309/META-INF">
        <include name="ejb-jar.xml"/>
        <include name="jboss.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="webservices.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    <jar jarfile="${build.lib}/ws4ee-jbws309-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws309/Organization.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws309/META-INF">
        <include name="application-client.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="jboss-client.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    
    <!-- jbws-314 -->
    <copy todir="${build.resources}/META-INF" file="${build.resources}/webservice/jbws413/WEB-INF/jaxrpc-mapping.xml"/>
    
    <!-- ws4ee-jbws316 -->
    <war warfile="${build.lib}/ws4ee-jbws316.war"
      webxml="${build.resources}/webservice/jbws316/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws316/BinDataDTO.class"/>
        <include name="org/jboss/test/webservice/jbws316/TestBusinessFacadeBF*.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws316/WEB-INF">
        <include name="webservices.xml"/>
        <include name="TestBusinessFacadeMapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws316-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws316/BinDataDTO.class"/>
        <include name="org/jboss/test/webservice/jbws316/TestBusinessFacadeBF*.class"/>
        <exclude name="org/jboss/test/webservice/jbws316/TestBusinessFacadeBFBean.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws316/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws316/WEB-INF">
        <include name="TestBusinessFacadeMapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    
    <!-- ws4ee-jbws331 -->
    <jar destfile="${build.lib}/ws4ee-jbws331-ws.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws331/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws331/HelloEndpoint.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws331/WS-META-INF">
        <include name="ejb-jar.xml"/>
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    <jar destfile="${build.lib}/ws4ee-jbws331-ejb.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws331/HelloHome.class"/>
        <include name="org/jboss/test/webservice/jbws331/HelloRemote.class"/>
        <include name="org/jboss/test/webservice/jbws331/HelloSLSB.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws331/EJB-META-INF">
        <include name="ejb-jar.xml"/>
      </metainf>
    </jar>
    <jar destfile="${build.lib}/ws4ee-jbws331-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws331/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws331/HelloHome.class"/>
        <include name="org/jboss/test/webservice/jbws331/HelloRemote.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws331/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws331/WS-META-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    <ear destfile="${build.lib}/ws4ee-jbws331.ear" appxml="${build.resources}/webservice/jbws331/META-INF/application.xml">
      <fileset dir="${build.lib}">
        <include name="ws4ee-jbws331-ejb.jar"/>
        <include name="ws4ee-jbws331-ws.jar"/>
        <include name="ws4ee-jbws331-client.jar"/>
      </fileset>
    </ear>
    
    <!-- ws4ee-jbws349 -->
    <war warfile="${build.lib}/ws4ee-jbws349.war"
      webxml="${build.resources}/webservice/jbws349/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws349/*"/>
        <exclude name="org/jboss/test/webservice/jbws349/*TestCase.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws349/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws349-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws349/*"/>
        <exclude name="org/jboss/test/webservice/jbws349/*EndpointImpl.class"/>
        <exclude name="org/jboss/test/webservice/jbws349/*TestCase.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws349/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws349/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>

    <!-- ws4ee-jbws358 -->
    <jar destfile="${build.lib}/ws4ee-jbws358.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws358/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws358/HelloBean.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws358/META-INF">
        <include name="ejb-jar.xml"/>
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    <jar destfile="${build.lib}/ws4ee-jbws358-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws358/Hello.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws358/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    <mkdir dir="${build.lib}/ws4ee-jbws358.ear/ws4ee-jbws358.jar"/>
    <unjar dest="${build.lib}/ws4ee-jbws358.ear/ws4ee-jbws358.jar" src="${build.lib}/ws4ee-jbws358.jar"/>
    <copy todir="${build.lib}/ws4ee-jbws358.ear">
      <fileset dir="${build.resources}/webservice/jbws358">
        <include name="META-INF/application.xml"/>
      </fileset>
      <fileset dir="${build.lib}">
        <include name="ws4ee-jbws358-client.jar"/>
      </fileset>
    </copy>

    <!-- ws4ee-jbws377 -->
    <war warfile="${build.lib}/ws4ee-jbws377.war"
      webxml="${build.resources}/webservice/jbws377/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws377/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws377/HelloJavaBean.class"/>
        <include name="org/jboss/test/webservice/jbws377/*_RequestStruct.class"/>
        <include name="org/jboss/test/webservice/jbws377/*_ResponseStruct.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws377/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws377-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws377/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws377/*_RequestStruct.class"/>
        <include name="org/jboss/test/webservice/jbws377/*_ResponseStruct.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws377/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws377/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>

    <!-- ws4ee-jbws381 -->
    <war warfile="${build.lib}/ws4ee-jbws381.war"
      webxml="${build.resources}/webservice/jbws381/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws381/*.class"/>
        <exclude name="org/jboss/test/webservice/jbws381/JBWS381TestCase.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws381/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws381-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws381/*.class"/>
        <exclude name="org/jboss/test/webservice/jbws381/WeatherForecastSoapImpl.class"/>
        <exclude name="org/jboss/test/webservice/jbws381/JBWS381TestCase.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws381/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws381/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    
    <!-- ws4ee-jbws383 -->
    <war warfile="${build.lib}/ws4ee-jbws383.war"
      webxml="${build.resources}/webservice/jbws383/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws383/TestSEI.class"/>
        <include name="org/jboss/test/webservice/jbws383/TestJavaBean.class"/>
        <include name="org/jboss/test/webservice/jbws383/JavaType.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws383/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws383-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws383/TestSEI.class"/>
        <include name="org/jboss/test/webservice/jbws383/JavaType.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws383/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws383/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    
    <!-- ws4ee-jbws413 -->
    <war warfile="${build.lib}/ws4ee-jbws413.war"
      webxml="${build.resources}/webservice/jbws413/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws413/TestSEI.class"/>
        <include name="org/jboss/test/webservice/jbws413/TestJavaBean.class"/>
        <include name="org/jboss/test/webservice/jbws413/JavaType.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws413/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws413-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws413/TestSEI.class"/>
        <include name="org/jboss/test/webservice/jbws413/JavaType.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws413/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws413/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    
    <!-- ws4ee-jbws414 -->
    <war warfile="${build.lib}/ws4ee-jbws414.war"
      webxml="${build.resources}/webservice/jbws414/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws414/TestSEI.class"/>
        <include name="org/jboss/test/webservice/jbws414/TestJavaBean.class"/>
        <include name="org/jboss/test/webservice/jbws414/St.class"/>
        <include name="org/jboss/test/webservice/jbws414/RefType.class"/>
        <include name="org/jboss/test/webservice/jbws414/Interface.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws414/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="ws4ee-deployment.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws414-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws414/TestSEI.class"/>
        <include name="org/jboss/test/webservice/jbws414/St.class"/>
        <include name="org/jboss/test/webservice/jbws414/RefType.class"/>
        <include name="org/jboss/test/webservice/jbws414/Interface.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws414/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws414/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="ws4ee-deployment.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    
    <!-- ws4ee-jbws423 -->
    <war warfile="${build.lib}/ws4ee-jbws423.war"
      webxml="${build.resources}/webservice/jbws423/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws423/DemoEndpoint.class"/>
        <include name="org/jboss/test/webservice/jbws423/DemoBean.class"/>
        <include name="org/jboss/test/webservice/jbws423/ValueObj.class"/>
        <include name="org/jboss/test/webservice/jbws423/_arrays/**"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws423/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws423-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws423/DemoEndpoint.class"/>
        <include name="org/jboss/test/webservice/jbws423/ValueObj.class"/>
        <include name="org/jboss/test/webservice/jbws423/_arrays/**"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws423/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws423/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    
    <!-- ws4ee-jbws424 -->
    <war warfile="${build.lib}/ws4ee-jbws424.war"
      webxml="${build.resources}/webservice/jbws424/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws424/TestSEI.class"/>
        <include name="org/jboss/test/webservice/jbws424/TestJavaBean.class"/>
        <include name="org/jboss/test/webservice/jbws424/PrivateException.class"/>
        <include name="org/jboss/test/webservice/jbws424/Exception2.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws424/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws424-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws424/TestSEI.class"/>
        <include name="org/jboss/test/webservice/jbws424/PrivateException.class"/>
        <include name="org/jboss/test/webservice/jbws424/Exception2.class"/>
        <include name="org/jboss/test/webservice/jbws424/TestHandler.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws424/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws424/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    
    <!-- ws4ee-jbws425 -->
    <war warfile="${build.lib}/ws4ee-jbws425.war"
      webxml="${build.resources}/webservice/jbws425/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws425/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws425/HelloJavaBean.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws425/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws425-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws425/Hello.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws425/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws425/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    
    <!-- ws4ee-jbws456 -->
    <war warfile="${build.lib}/ws4ee-jbws456.war"
      webxml="${build.resources}/webservice/jbws456/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws456/TestSEI.class"/>
        <include name="org/jboss/test/webservice/jbws456/TestJavaBean.class"/>
        <include name="org/jboss/test/webservice/jbws456/JavaType.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws456/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws456-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws456/TestSEI.class"/>
        <include name="org/jboss/test/webservice/jbws456/JavaType.class"/>
        <include name="org/jboss/test/webservice/jbws456/TestHandler.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws456/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws456/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    
    <!-- ws4ee-jbws463 -->
    <war warfile="${build.lib}/ws4ee-jbws463.war"
      webxml="${build.resources}/webservice/jbws463/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws463/TestSEI.class"/>
        <include name="org/jboss/test/webservice/jbws463/TestJavaBean.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws463/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws463-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws463/TestSEI.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws463/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws463/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    
    <!-- ws4ee-jbws464 -->
    <war warfile="${build.lib}/ws4ee-jbws464.war"
      webxml="${build.resources}/webservice/jbws464/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws464/Hello.class"/>
        <include name="org/jboss/test/webservice/jbws464/HelloJavaBean.class"/>
        <include name="org/jboss/test/webservice/jbws464/SAAJTestHandler.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws464/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws464-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws464/Hello.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws464/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws464/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    
    <!-- ws4ee-jbws484 -->
    <war warfile="${build.lib}/ws4ee-jbws484.war"
      webxml="${build.resources}/webservice/jbws484/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws484/*"/>
        <exclude name="org/jboss/test/webservice/jbws484/JBWS484TestCase.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/jbws484/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-jbws484-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws484/*"/>
        <exclude name="org/jboss/test/webservice/jbws484/TestServiceBean.class"/>
        <exclude name="org/jboss/test/webservice/jbws484/JBWS484TestCase.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws484/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/jbws484/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    
    <!-- ws4ee-jbws626 -->
    <jar jarfile="${build.lib}/ws4ee-jbws626.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws626/DemoEndpoint.class"/>
        <include name="org/jboss/test/webservice/jbws626/ServerHandler.class"/>
        <include name="org/jboss/test/webservice/jbws626/DemoBean.class"/>
        <include name="org/jboss/test/webservice/jbws626/ValueObj.class"/>
        <include name="org/jboss/test/webservice/jbws626/_arrays/**"/>
      </fileset>      
      <metainf dir="${build.resources}/webservice/jbws626/META-INF">
        <include name="ejb-jar.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="webservices.xml"/>
        <include name="wsdl/TestService.wsdl"/>
      </metainf>
    </jar>
    <jar destfile="${build.lib}/ws4ee-jbws626-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/jbws626/DemoEndpoint.class"/>
        <include name="org/jboss/test/webservice/jbws626/ValueObj.class"/>
        <include name="org/jboss/test/webservice/jbws626/_arrays/**"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/jbws626/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    <ear destfile="${build.lib}/ws4ee-jbws626.ear"
       appxml="${build.resources}/webservice/jbws626/META-INF/application.xml">
      <metainf dir="${build.resources}/webservice/jbws626/META-INF">
        <include name="jboss-app.xml"/>
      </metainf>
      <fileset dir="${build.lib}">
        <include name="ws4ee-jbws626.jar"/>
        <include name="ws4ee-jbws626-client.jar"/>
      </fileset>
    </ear>
    
    <!-- ws4ee-marshall-doclit -->
    <jar destfile="${build.lib}/ws4ee-marshall-doclit.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/marshalltest/MarshallEndpointHome.class"/>
        <include name="org/jboss/test/webservice/marshalltest/MarshallEndpointRemote.class"/>
        <include name="org/jboss/test/webservice/marshalltest/MarshallEndpoint.class"/>
        <include name="org/jboss/test/webservice/marshalltest/MarshallEndpointImpl.class"/>
        <include name="org/jboss/test/webservice/marshalltest/*RequestStruct.class"/>
        <include name="org/jboss/test/webservice/marshalltest/*ResponseStruct.class"/>
        <include name="org/jboss/test/webservice/marshalltest/types/*"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/marshalltest-doclit/META-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="ejb-jar.xml"/>
        <include name="jboss.xml"/>
        <include name="wsdl/*.wsdl"/>
      </metainf>
    </jar>
    <jar destfile="${build.lib}/ws4ee-marshall-doclit-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/marshalltest/MarshallEndpointHome.class"/>
        <include name="org/jboss/test/webservice/marshalltest/MarshallEndpointRemote.class"/>
        <include name="org/jboss/test/webservice/marshalltest/MarshallEndpoint.class"/>
        <include name="org/jboss/test/webservice/marshalltest/*RequestStruct.class"/>
        <include name="org/jboss/test/webservice/marshalltest/*ResponseStruct.class"/>
        <include name="org/jboss/test/webservice/marshalltest/types/*"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/marshalltest-doclit/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/*.wsdl"/>
      </metainf>
    </jar>
    <ear destfile="${build.lib}/ws4ee-marshall-doclit.ear"
      appxml="${build.resources}/webservice/marshalltest-doclit/META-INF/application.xml">
      <fileset dir="${build.lib}">
        <include name="ws4ee-marshall-doclit.jar"/>
        <include name="ws4ee-marshall-doclit-client.jar"/>
      </fileset>
    </ear>

    <!-- ws4ee-marshall-rpcenc -->
    <jar destfile="${build.lib}/ws4ee-marshall-rpcenc.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/marshalltest/MarshallEndpointHome.class"/>
        <include name="org/jboss/test/webservice/marshalltest/MarshallEndpointRemote.class"/>
        <include name="org/jboss/test/webservice/marshalltest/MarshallEndpoint.class"/>
        <include name="org/jboss/test/webservice/marshalltest/MarshallEndpointImpl.class"/>
        <include name="org/jboss/test/webservice/marshalltest/types/Bean.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/marshalltest-rpcenc/META-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="ejb-jar.xml"/>
        <include name="jboss.xml"/>
        <include name="wsdl/*.wsdl"/>
      </metainf>
    </jar>
    <jar destfile="${build.lib}/ws4ee-marshall-rpcenc-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/marshalltest/MarshallEndpointHome.class"/>
        <include name="org/jboss/test/webservice/marshalltest/MarshallEndpointRemote.class"/>
        <include name="org/jboss/test/webservice/marshalltest/MarshallEndpoint.class"/>
        <include name="org/jboss/test/webservice/marshalltest/types/Bean.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/marshalltest-rpcenc/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/*.wsdl"/>
      </metainf>
    </jar>
    <ear destfile="${build.lib}/ws4ee-marshall-rpcenc.ear"
      appxml="${build.resources}/webservice/marshalltest-rpcenc/META-INF/application.xml">
      <fileset dir="${build.lib}">
        <include name="ws4ee-marshall-rpcenc.jar"/>
        <include name="ws4ee-marshall-rpcenc-client.jar"/>
      </fileset>
    </ear>

    <!-- ws4ee-marshall-rpclit -->
    <jar destfile="${build.lib}/ws4ee-marshall-rpclit.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/marshalltest/MarshallEndpointHome.class"/>
        <include name="org/jboss/test/webservice/marshalltest/MarshallEndpointRemote.class"/>
        <include name="org/jboss/test/webservice/marshalltest/MarshallEndpoint.class"/>
        <include name="org/jboss/test/webservice/marshalltest/MarshallEndpointImpl.class"/>
        <include name="org/jboss/test/webservice/marshalltest/types/Bean.class"/>
        <include name="org/jboss/test/webservice/marshalltest/_arrays/**"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/marshalltest-rpclit/META-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="ejb-jar.xml"/>
        <include name="jboss.xml"/>
        <include name="wsdl/*.wsdl"/>
      </metainf>
    </jar>
    <jar destfile="${build.lib}/ws4ee-marshall-rpclit-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/marshalltest/MarshallEndpointHome.class"/>
        <include name="org/jboss/test/webservice/marshalltest/MarshallEndpointRemote.class"/>
        <include name="org/jboss/test/webservice/marshalltest/MarshallEndpoint.class"/>
        <include name="org/jboss/test/webservice/marshalltest/types/Bean.class"/>
        <include name="org/jboss/test/webservice/marshalltest/_arrays/**"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/marshalltest-rpclit/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/*.wsdl"/>
      </metainf>
    </jar>
    <ear destfile="${build.lib}/ws4ee-marshall-rpclit.ear"
      appxml="${build.resources}/webservice/marshalltest-rpclit/META-INF/application.xml">
      <fileset dir="${build.lib}">
        <include name="ws4ee-marshall-rpclit.jar"/>
        <include name="ws4ee-marshall-rpclit-client.jar"/>
      </fileset>
    </ear>

    <!-- ws4ee-message -->
    <war warfile="${build.lib}/ws4ee-message.war"
      webxml="${build.resources}/webservice/message/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/message/*.class"/>
        <exclude name="org/jboss/test/webservice/message/*TestCase.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/message/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="webservices.xml"/>
        <include name="wsdl/*.wsdl"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-message-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/message/*.class"/>
        <exclude name="org/jboss/test/webservice/message/*JavaBean.class"/>
        <exclude name="org/jboss/test/webservice/message/*TestCase.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/message/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/message/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/*.wsdl"/>
      </metainf>
    </jar>

    <!-- ws4ee-samples -->
    <jar jarfile="${build.lib}/ws4ee-samples-client-appl.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/samples/Person.class"/>
        <include name="org/jboss/test/webservice/samples/Organization.class"/>
        <include name="org/jboss/test/webservice/samples/OrganizationService.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/samples/client-appl/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/samples/common">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    <jar jarfile="${build.lib}/ws4ee-samples-client-ejb.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/samples/Person.class"/>
        <include name="org/jboss/test/webservice/samples/Organization.class"/>
        <include name="org/jboss/test/webservice/samples/OrganizationService.class"/>
        <include name="org/jboss/test/webservice/samples/OrganizationClientBean.class"/>
        <include name="org/jboss/test/webservice/samples/OrganizationClientHome.class"/>
        <include name="org/jboss/test/webservice/samples/OrganizationClientRemote.class"/>
        <include name="org/jboss/test/webservice/samples/ClientSideHandler.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/samples/client-ejb/META-INF">
        <include name="ejb-jar.xml"/>
        <include name="jboss.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/samples/common">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    <war warfile="${build.lib}/ws4ee-samples-client-web.war" webxml="${build.resources}/webservice/samples/client-web/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/samples/Person.class"/>
        <include name="org/jboss/test/webservice/samples/Organization.class"/>
        <include name="org/jboss/test/webservice/samples/OrganizationService.class"/>
        <include name="org/jboss/test/webservice/samples/OrganizationClientServlet.class"/>
        <include name="org/jboss/test/webservice/samples/ClientSideHandler.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/samples/client-web/WEB-INF">
        <include name="jboss-web.xml"/>
      </webinf>
      <webinf dir="${build.resources}/webservice/samples/common">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar jarfile="${build.lib}/ws4ee-samples-server-ejb.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/samples/Person.class"/>
        <include name="org/jboss/test/webservice/samples/Organization.class"/>
        <include name="org/jboss/test/webservice/samples/OrganizationEJBEndpoint.class"/>
        <include name="org/jboss/test/webservice/samples/ServerSideHandler.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/samples/server-ejb/META-INF">
        <include name="ejb-jar.xml"/>
        <include name="jboss.xml"/>
        <include name="webservices.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/samples/common">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    <jar jarfile="${build.lib}/ws4ee-samples-server-ejb-sec.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/samples/Person.class"/>
        <include name="org/jboss/test/webservice/samples/Organization.class"/>
        <include name="org/jboss/test/webservice/samples/OrganizationHome.class"/>
        <include name="org/jboss/test/webservice/samples/OrganizationRemote.class"/>
        <include name="org/jboss/test/webservice/samples/OrganizationEJBEndpoint.class"/>
        <include name="org/jboss/test/webservice/samples/ServerSideHandler.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/samples/server-ejb-sec/META-INF">
        <include name="ejb-jar.xml"/>
        <include name="jboss.xml"/>
        <include name="webservices.xml"/>
        <include name="wsdl/**"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/samples/common">
        <include name="jaxrpc-mapping.xml"/>
      </metainf>
    </jar>
    <jar jarfile="${build.lib}/ws4ee-samples-server-ejb-sec-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/samples/Person.class"/>
        <include name="org/jboss/test/webservice/samples/Organization.class"/>
        <include name="org/jboss/test/webservice/samples/OrganizationService.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/samples/server-ejb-sec/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
        <include name="wsdl/**"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/samples/common">
        <include name="jaxrpc-mapping.xml"/>
      </metainf>
    </jar>
    <jar jarfile="${build.lib}/ws4ee-samples-server-jms.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/samples/Person.class"/>
        <include name="org/jboss/test/webservice/samples/Organization.class"/>
        <include name="org/jboss/test/webservice/samples/OrganizationJMSEndpoint.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/samples/server-jms/META-INF">
        <include name="ejb-jar.xml"/>
        <include name="jboss.xml"/>
        <include name="webservices.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/samples/common">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    <war warfile="${build.lib}/ws4ee-samples-server-jse.war" webxml="${build.resources}/webservice/samples/server-jse/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/samples/Person.class"/>
        <include name="org/jboss/test/webservice/samples/Organization.class"/>
        <include name="org/jboss/test/webservice/samples/OrganizationJSEEndpoint.class"/>
        <include name="org/jboss/test/webservice/samples/ServerSideHandler.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/samples/server-jse/WEB-INF">
        <include name="webservices.xml"/>
      </webinf>
      <webinf dir="${build.resources}/webservice/samples/common">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>

    <!-- ws4ee-samples2 -->
    <war warfile="${build.lib}/ws4ee-samples2-rpc.war" webxml="${build.resources}/webservice/samples2/rpclit/web.xml">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/samples2/_arrays/**"/>
        <include name="org/jboss/test/webservice/samples2/OrderException.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderItem.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderProcess.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderProcessImpl.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderResponse.class"/>
        <include name="org/jboss/test/webservice/samples2/Person.class"/>
      </fileset>
      <webinf dir="${build.resources}/webservice/samples2/rpclit">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar jarfile="${build.lib}/ws4ee-samples2-rpc-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/samples2/_arrays/**"/>
        <include name="org/jboss/test/webservice/samples2/OrderException.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderItem.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderProcess.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderResponse.class"/>
        <include name="org/jboss/test/webservice/samples2/Person.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/samples2/rpclit">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    <war warfile="${build.lib}/ws4ee-samples2-doc.war" webxml="${build.resources}/webservice/samples2/doclit/web.xml">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/samples2/OrderProcess_processOrder_RequestStruct.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderProcess_processOrder_ResponseStruct.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderException.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderItem.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderProcess.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderProcessImpl.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderResponse.class"/>
        <include name="org/jboss/test/webservice/samples2/Person.class"/>
      </fileset>
      <webinf dir="${build.resources}/webservice/samples2/doclit">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar jarfile="${build.lib}/ws4ee-samples2-doc-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/samples2/OrderException.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderItem.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderProcess.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderProcess_processOrder_RequestStruct.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderProcess_processOrder_ResponseStruct.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderResponse.class"/>
        <include name="org/jboss/test/webservice/samples2/Person.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/samples2/doclit">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
        <include name="jaxrpc-mapping.xml"/>
      </metainf>
    </jar>
    <war warfile="${build.lib}/ws4ee-samples2-docbare.war" webxml="${build.resources}/webservice/samples2/doclit-bare/web.xml">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/samples2/OrderProcess_processOrder_RequestStruct.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderProcess_processOrder_ResponseStruct.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderException.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderItem.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderProcessBare.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderProcessBareImpl.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderResponse.class"/>
        <include name="org/jboss/test/webservice/samples2/Person.class"/>
      </fileset>
      <webinf dir="${build.resources}/webservice/samples2/doclit-bare">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar jarfile="${build.lib}/ws4ee-samples2-docbare-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/samples2/OrderException.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderItem.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderProcessBare.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderProcess_processOrder_RequestStruct.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderProcess_processOrder_ResponseStruct.class"/>
        <include name="org/jboss/test/webservice/samples2/OrderResponse.class"/>
        <include name="org/jboss/test/webservice/samples2/Person.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/samples2/doclit-bare">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
        <include name="jaxrpc-mapping.xml"/>
      </metainf>
    </jar>

    <!-- ws4ee-utf16 -->
    <war warfile="${build.lib}/ws4ee-utf16.war"
      webxml="${build.resources}/webservice/utf16/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/utf16/Hello.class"/>
        <include name="org/jboss/test/webservice/utf16/HelloJavaBean.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/utf16/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-utf16-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/utf16/Hello.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/utf16/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/utf16/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>

    <!-- ws4ee-simple -->
    <jar destfile="${build.lib}/ws4ee-simple.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/ws4eesimple/Hello.class"/>
        <include name="org/jboss/test/webservice/ws4eesimple/HelloBean.class"/>
        <include name="org/jboss/test/webservice/ws4eesimple/HelloHome.class"/>
        <include name="org/jboss/test/webservice/ws4eesimple/HelloWs.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/ws4eesimple/META-INF">
        <include name="ejb-jar.xml"/>
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    <war warfile="${build.lib}/ws4ee-simple.war"
      webxml="${build.resources}/webservice/ws4eesimple/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/ws4eesimple/HelloJavaBean.class"/>
        <include name="org/jboss/test/webservice/ws4eesimple/HelloWs.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/ws4eesimple/META-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
      <webinf dir="${build.resources}/webservice/ws4eesimple/WEB-INF">
        <include name="webservices.xml"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-simple-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/ws4eesimple/HelloWs.class"/>
        <include name="org/jboss/test/webservice/ws4eesimple/HelloWsClientApp.class"/>
        <include name="org/jboss/test/webservice/ws4eesimple/HelloHome.class"/>
        <include name="org/jboss/test/webservice/ws4eesimple/Hello.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/ws4eesimple-client/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    <war warfile="${build.lib}/ws4ee-simple-client.war"
      webxml="${build.resources}/webservice/ws4eesimple-client/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/ws4eesimple/HelloWsClientServlet.class"/>
        <include name="org/jboss/test/webservice/ws4eesimple/HelloWs.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/ws4eesimple-client/META-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-simple-client-ejb.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/ws4eesimple/HelloWs.class"/>
        <include name="org/jboss/test/webservice/ws4eesimple/HelloClientBean.class"/>
        <include name="org/jboss/test/webservice/ws4eesimple/HelloHome.class"/>
        <include name="org/jboss/test/webservice/ws4eesimple/Hello.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/ws4eesimple-client/META-INF">
        <include name="ejb-jar.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>
    <ear destfile="${build.lib}/ws4ee-simple-client.ear"
      appxml="${build.resources}/webservice/ws4eesimple-client/META-INF/application.xml">
      <fileset dir="${build.lib}">
        <include name="ws4ee-simple-client.jar"/>
        <include name="ws4ee-simple-client.war"/>
        <include name="ws4ee-simple-client-ejb.jar"/>
      </fileset>
    </ear>

    <!-- ws4ee-simple secure version -->
    <war warfile="${build.lib}/ws4ee-simple-secure.war"
      webxml="${build.resources}/webservice/ws4eesimple-secure/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/ws4eesimple/HelloJavaBean.class"/>
        <include name="org/jboss/test/webservice/ws4eesimple/HelloWs.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/ws4eesimple-secure/META-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
      <webinf dir="${build.resources}/webservice/ws4eesimple-secure/WEB-INF">
        <include name="webservices.xml"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-simple-secure-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/ws4eesimple/HelloWs.class"/>
        <include name="org/jboss/test/webservice/ws4eesimple/HelloWsClientApp.class"/>
        <include name="org/jboss/test/webservice/ws4eesimple/HelloHome.class"/>
        <include name="org/jboss/test/webservice/ws4eesimple/Hello.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/ws4eesimple-secure-client/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>

    <!-- ws4ee-wsdlimport-absolute -->
    <war warfile="${build.lib}/ws4ee-wsdlimport-absolute1.war"
      webxml="${build.resources}/webservice/wsdlimport/absolute/WEB-INF/web1.xml">
      <fileset dir="${build.resources}/webservice/wsdlimport/absolute">
        <include name="HelloImport.xml"/>
      </fileset>
    </war>
    <war warfile="${build.lib}/ws4ee-wsdlimport-absolute2.war"
      webxml="${build.resources}/webservice/wsdlimport/absolute/WEB-INF/web2.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/ws4eesimple/HelloJavaBean.class"/>
        <include name="org/jboss/test/webservice/ws4eesimple/HelloWs.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/wsdlimport/absolute/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="webservices.xml"/>
        <include name="wsdl/HelloService.wsdl"/>
      </webinf>
    </war>

    <!-- ws4ee-wsdlimport-schema -->
    <war warfile="${build.lib}/ws4ee-wsdlimport-schema.war"
      webxml="${build.resources}/webservice/wsdlimport/schema/WEB-INF/web.xml">
      <classes dir="${build.classes}">
        <include name="org/jboss/test/webservice/admindevel/**"/>
        <exclude name="org/jboss/test/webservice/admindevel/*TestCase.class"/>
      </classes>
      <webinf dir="${build.resources}/webservice/wsdlimport/schema/WEB-INF">
        <include name="webservices.xml"/>
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </webinf>
    </war>
    <jar destfile="${build.lib}/ws4ee-wsdlimport-schema-client.jar">
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/webservice/admindevel/Hello.class"/>
        <include name="org/jboss/test/webservice/admindevel/HelloObj.class"/>
      </fileset>
      <metainf dir="${build.resources}/webservice/wsdlimport/schema/META-INF">
        <include name="application-client.xml"/>
        <include name="jboss-client.xml"/>
      </metainf>
      <metainf dir="${build.resources}/webservice/wsdlimport/schema/WEB-INF">
        <include name="jaxrpc-mapping.xml"/>
        <include name="wsdl/**"/>
      </metainf>
    </jar>

  </target>

  <!-- xa test -->
  <target name="_jars-xa">
    <mkdir dir="${build.lib}"/>

    <!-- build xatestclient.jar -->
    <jar destfile="${build.lib}/xatestclient.jar"
     >
      <fileset dir="${build.classes}">
        <patternset refid="common.test.client.classes"/>
        <include name="org/jboss/test/xa/interfaces/**"/>
        <include name="org/jboss/test/xa/test/**"/>
      </fileset>
      <fileset dir="${build.resources}/xa">
        <include name="*.*"/>
      </fileset>
    </jar>

    <!-- build xatest.jar -->
    <jar destfile="${build.lib}/xatest.jar">
      <fileset dir="${build.classes}">
        <patternset refid="jboss.test.util.ejb.set"/>
        <include name="org/jboss/test/xa/interfaces/**"/>
        <include name="org/jboss/test/xa/bean/**"/>
      </fileset>
      <fileset dir="${build.resources}/xa">
        <include name="**/*.xml"/>
      </fileset>
    </jar>
  </target>

  <!-- xslt test -->
  <target name="_jars-xslt">
    <mkdir dir="${build.lib}"/>
    
    <!-- build xalan-check-default.sar -->
    <jar destfile="${build.lib}/xalan-check-default.sar">
      <metainf dir="${build.resources}/xslt/xalan-check-default/META-INF"/>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/xslt/support/**"/>
      </fileset>
    </jar>
    
    <!-- build xalan-check-scoped.sar -->
    <jar destfile="${build.lib}/xalan-check-scoped.sar">
      <metainf dir="${build.resources}/xslt/xalan-check-scoped/META-INF"/>
      <fileset dir="${build.resources}/xslt/xalan-check-scoped">
        <include name="xalan-2.5.2.jar"/>
      </fileset>
      <fileset dir="${build.classes}">
        <include name="org/jboss/test/xslt/support/**"/>
      </fileset>
    </jar>    
  </target>
  
  <target name="_jars-byvalue">
      <mkdir dir="${build.lib}"/>

      <jar destfile="${build.lib}/jar-byvalue.jar">
         <metainf dir="${build.resources}/testbyvalue/META-INF"/>
         <fileset dir="${build.classes}">
            <include name="org/jboss/test/testbyvalue/bean/**"/>
            <include name="org/jboss/test/testbyvalue/interfaces/**"/>
         </fileset>
      </jar>

  </target>


</project>

